if(typeof require==="function"){var jQuery=require("../tests/vendor/jquery-1.11.2.min")}(function($){$.QueryString=function(a){if(a=="")return{};var b={};for(var i=0;i<a.length;++i){var p=a[i].split("=");if(p.length==1){b[p[0]]="";continue}else if(p.length!=2)continue;try{b[p[0]]=decodeURIComponent(p[1].replace(/\+/g," "))}catch(err){b[p[0]]=p[1].replace(/\+/g," ")}}return b}(window.location.search.substr(1).split("&"))})(jQuery);
!function(e,n,t){function r(e,n){return typeof e===n}function s(){var e,n,t,s,o,i,a;for(var f in C)if(C.hasOwnProperty(f)){if(e=[],n=C[f],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(s=r(n.fn,"function")?n.fn():n.fn,o=0;o<e.length;o++)i=e[o],a=i.split("."),1===a.length?Modernizr[a[0]]=s:(!Modernizr[a[0]]||Modernizr[a[0]]instanceof Boolean||(Modernizr[a[0]]=new Boolean(Modernizr[a[0]])),Modernizr[a[0]][a[1]]=s),y.push((s?"":"no-")+a.join("-"))}}function o(e){var n=x.className,t=Modernizr._config.classPrefix||"";if(S&&(n=n.baseVal),Modernizr._config.enableJSClass){var r=new RegExp("(^|\\s)"+t+"no-js(\\s|$)");n=n.replace(r,"$1"+t+"js$2")}Modernizr._config.enableClasses&&(n+=" "+t+e.join(" "+t),S?x.className.baseVal=n:x.className=n)}function i(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):S?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function a(){var e=n.body;return e||(e=i(S?"svg":"body"),e.fake=!0),e}function f(e,t,r,s){var o,f,l,u,d="modernizr",p=i("div"),c=a();if(parseInt(r,10))for(;r--;)l=i("div"),l.id=s?s[r]:d+(r+1),p.appendChild(l);return o=i("style"),o.type="text/css",o.id="s"+d,(c.fake?c:p).appendChild(o),c.appendChild(p),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(n.createTextNode(e)),p.id=d,c.fake&&(c.style.background="",c.style.overflow="hidden",u=x.style.overflow,x.style.overflow="hidden",x.appendChild(c)),f=t(p,e),c.fake?(c.parentNode.removeChild(c),x.style.overflow=u,x.offsetHeight):p.parentNode.removeChild(p),!!f}function l(e,n){return!!~(""+e).indexOf(n)}function u(e){return e.replace(/([a-z])-([a-z])/g,function(e,n,t){return n+t.toUpperCase()}).replace(/^-/,"")}function d(e,n){return function(){return e.apply(n,arguments)}}function p(e,n,t){var s;for(var o in e)if(e[o]in n)return t===!1?e[o]:(s=n[e[o]],r(s,"function")?d(s,t||n):s);return!1}function c(e){return e.replace(/([A-Z])/g,function(e,n){return"-"+n.toLowerCase()}).replace(/^ms-/,"-ms-")}function m(n,r){var s=n.length;if("CSS"in e&&"supports"in e.CSS){for(;s--;)if(e.CSS.supports(c(n[s]),r))return!0;return!1}if("CSSSupportsRule"in e){for(var o=[];s--;)o.push("("+c(n[s])+":"+r+")");return o=o.join(" or "),f("@supports ("+o+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return t}function h(e,n,s,o){function a(){d&&(delete N.style,delete N.modElem)}if(o=r(o,"undefined")?!1:o,!r(s,"undefined")){var f=m(e,s);if(!r(f,"undefined"))return f}for(var d,p,c,h,v,g=["modernizr","tspan"];!N.style;)d=!0,N.modElem=i(g.shift()),N.style=N.modElem.style;for(c=e.length,p=0;c>p;p++)if(h=e[p],v=N.style[h],l(h,"-")&&(h=u(h)),N.style[h]!==t){if(o||r(s,"undefined"))return a(),"pfx"==n?h:!0;try{N.style[h]=s}catch(y){}if(N.style[h]!=v)return a(),"pfx"==n?h:!0}return a(),!1}function v(e,n,t,s,o){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+z.join(i+" ")+i).split(" ");return r(n,"string")||r(n,"undefined")?h(a,n,s,o):(a=(e+" "+P.join(i+" ")+i).split(" "),p(a,n,t))}function g(e,n,r){return v(e,t,t,n,r)}var y=[],C=[],w={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){C.push({name:e,fn:n,options:t})},addAsyncTest:function(e){C.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=w,Modernizr=new Modernizr;var x=n.documentElement,S="svg"===x.nodeName.toLowerCase(),_=w._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];w._prefixes=_,Modernizr.addTest("placeholder","placeholder"in i("input")&&"placeholder"in i("textarea"));var b=w.testStyles=f;Modernizr.addTest("touchevents",function(){var t;if("ontouchstart"in e||e.DocumentTouch&&n instanceof DocumentTouch)t=!0;else{var r=["@media (",_.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");b(r,function(e){t=9===e.offsetTop})}return t});var T="Moz O ms Webkit",z=w._config.usePrefixes?T.split(" "):[];w._cssomPrefixes=z;var P=w._config.usePrefixes?T.toLowerCase().split(" "):[];w._domPrefixes=P;var E={elem:i("modernizr")};Modernizr._q.push(function(){delete E.elem});var N={style:E.elem.style};Modernizr._q.unshift(function(){delete N.style}),w.testAllProps=v,w.testAllProps=g,Modernizr.addTest("cssanimations",g("animationName","a",!0)),Modernizr.addTest("csstransitions",g("transition","all",!0)),Modernizr.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&g("transform","scale(1)",!0)});var j="CSS"in e&&"supports"in e.CSS,k="supportsCSS"in e;Modernizr.addTest("supports",j||k),Modernizr.addTest("csstransforms3d",function(){var e=!!g("perspective","1px",!0),n=Modernizr._config.usePrefixes;if(e&&(!n||"webkitPerspective"in x.style)){var t,r="#modernizr{width:0;height:0}";Modernizr.supports?t="@supports (perspective: 1px)":(t="@media (transform-3d)",n&&(t+=",(-webkit-transform-3d)")),t+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",b(r+t,function(n){e=7===n.offsetWidth&&18===n.offsetHeight})}return e}),s(),o(y),delete w.addTest,delete w.addAsyncTest;for(var A=0;A<Modernizr._q.length;A++)Modernizr._q[A]();e.Modernizr=Modernizr}(window,document);
var axs=window.axs||{};axs.Ads={Common:{getAdParams:function(url){if(url.indexOf("app_qadev.php")!=-1){url=url.replace("/axs/app_qadev.php","")}else if(url.indexOf("qa.")!=-1){url=url.replace(url.match(/\/\w+-axs/)[0],"")}if(url.indexOf("?")!=-1){url=url.substr(0,url.indexOf("?"),-1)}if(url.substr(url.length-1)==="/"){url=url.substr(0,url.length-1)}return""}},RoadBlock:{initialize:function(){var iframe=this.getAd();$("#myaxs_container_roadblock_ad").dialog({autoOpen:false,modal:true,dialogClass:"no-titlebar roadblock-ad",width:640,height:350,zIndex:1999,resizable:false,position:"center top"});var socket=new easyXDM.Socket({remote:iframe,onMessage:function(message,origin){$("#chkHideRoadBlockAd").data("adid",message);$("#chkHideRoadBlockAd").attr("checked",false);$("#myaxs_container_roadblock_ad").dialog("open");this.container.getElementsByTagName("iframe")[0].style.height="310px";this.container.getElementsByTagName("iframe")[0].style.width="610px";this.container.getElementsByTagName("iframe")[0].style.scrolling="no"},container:"roadBlockAd"});$("#chkHideRoadBlockAd").change(function(){if($(this).is(":checked")){if($(this).data("adid")!=undefined){var adsToSuppress=$.cookie("axs_suppressed_ads");if(adsToSuppress==undefined){adsToSuppress=$(this).data("adid")}else{adsToSuppress+=","+$(this).data("adid")}$.cookie("axs_suppressed_ads",adsToSuppress,{expires:new Date(2029,11,31),path:"/"})}$("#myaxs_container_roadblock_ad").dialog("close")}});$("#myaxs_container_roadblock_ad .dialog-close").click(function(){$("#myaxs_container_roadblock_ad").dialog("close");var adid=$("#chkHideRoadBlockAd").data("adid");axs.Core.suppressRoadBlockAd(adid)})},getAd:function(){var cbRand=Math.floor(Math.random()*1e6);var id;var url=window.location.href.toLowerCase();var paramString=axs.Ads.Common.getAdParams(url);var suppressAds=$.cookie("axs_suppressed_ads");if(suppressAds==undefined){suppressAds=""}var sessionSuppressAds=$("#session_suppressed_roadblock_ads").val();if(sessionSuppressAds!==""){if(suppressAds!==""){suppressAds=suppressAds+","+sessionSuppressAds}else{suppressAds=sessionSuppressAds}}var adQsVars="";for(var key in adVars){if(adVars.hasOwnProperty(key)){adQsVars+="&"+key+"="+adVars[key]}}var roadBlockAdMarkup="http://ox-d.aegdigitalgroup.com/mw/1.0/afr?auid=536879238&cb="+cbRand+(paramString?"&"+paramString:"")+(suppressAds?"&c.suppressad="+suppressAds:""+adQsVars);return roadBlockAdMarkup}}};
(function($,namespace){function animations(){function LoadingScreen(options){var defaults={message:translations.pleaseWait,timedClose:false,classLoader:"loader-desktop"},settings=$.extend(defaults,options),loadingId="loading-screen";function addLoadingHTML(){if($("#"+loadingId).length){removeLoadingHTML()}$("body").append(""+'<div id="'+loadingId+'" class="'+settings.classLoader+'">'+"<span>"+settings.message+"</span>"+"</div>")}function removeLoadingHTML(){if($("#"+loadingId)){$("#"+loadingId).remove()}}function showLoadingScreen(callback){addLoadingHTML();callback&&callback();if(settings.timedClose){setTimeout(hideLoadingScreen,settings.timedClose)}}function hideLoadingScreen(callback){removeLoadingHTML();callback&&callback()}return{show:showLoadingScreen,hide:hideLoadingScreen}}function LoadingElement(){var classLoading="loader";function showLoader(element){$(element).addClass(classLoading)}function hideLoader(element){$(element).removeClass(classLoading)}return{start:showLoader,stop:hideLoader}}function ViewMore(){var $btn=$(".view-more__btn");var classLoading="view-more__btn--loading";function addAnimation(context){if(context){$(context).find($btn).addClass(classLoading)}else{$btn.addClass(classLoading)}}function removeAnimation(context){if(context){$(context).find($btn).removeClass(classLoading)}else{$btn.removeClass(classLoading)}}return{start:addAnimation,stop:removeAnimation}}return{loadingScreen:new LoadingScreen,LoadingScreenExtend:LoadingScreen,loadingElement:new LoadingElement,viewMore:new ViewMore}}namespace.ExtendAnimations=animations})(window.jQuery,window.axs||{});
var axs=window.axs||{};axs.Articles=function(){var newArticleLoader;var deactivateUrlChange=false;var triggerAnalytics=false;var initRelatedEvents=function(){var template='{{#each events}}         <li class="teaser teaser--event">             <a class="teaser__thumb" href="{{ ticketing.eventUrl }}" style="background-image: url(\'{{ relatedMedia.2.file_name }}\')"><img src="{{ relatedMedia.2.file_name }}" alt=""/></a>             <div class="teaser__body">                <h4 class="teaser__title">                    <a href="{{ ticketing.eventUrl }}">{{ title.eventTitleText }}</a>                </h4>                <div class="venue-name"><a href="{{ venue.url }}">{{ venue.title }}</a></div>                 <div>{{ venue.city }},                     {{#if venue.state}}                         {{venue.state}}                     {{else}}                         {{venue.country}}                     {{/if}}                 </div>                 <div>                {{#if multipleDates }}                    <div class="related-event-starting">Starting</div>                {{/if}}                    <div>{{#equal ./eventDateTime "TBD" }}&nbsp;{{else}}{{{formatDate ./eventDateTime "MMM" }}}{{/equal}} {{{formatDate ./eventDateTime "DD"}}} {{#equal ./eventDateTime "TBD" }}&nbsp;{{else}}{{{formatDate ./eventDateTime "ddd"}}}{{/equal}}</div>                </div>            </div>        </li>         {{/each}}';axs.Global.getRelatedEvents($("#related-events .teasers"),template,{rows:6,siteId:1,excludedEventIds:[],performerId:performerIds.length>0?performerIds[0]:null,eventId:eventIds.length>0?eventIds[0]:null,dateFormat:dateTimeFormatRelatedEventsMoreDates,dateFormatShort:dateFormatShortRelatedEventsMoreDates,tbdText:translations.tbd})};var displayRelatedEvents=function(){var dateFormat=dateTimeFormatArticleRelatedEventFull;var $promotedEventContainer=$("#in-line-related-event-container");var $promotedEvent=$("#in-line-related-event");if(eventIds[0]){$.ajax({type:"GET",async:true,url:Routing.generate("api_proxy_get_event")+"?siteId=1&eventId="+eventIds[0],dataType:"json",timeout:3e4,success:function(data){if(data&&data.events&&data.events.length>0){var $eventData=data.events[0];var relatedEventData={};relatedEventData.articleRelatedEventUrl=$eventData.ticketing.eventUrl;relatedEventData.articleRelatedEventImage=$eventData.relatedMedia[2].file_name;relatedEventData.articleRelatedEventTitle=$eventData.title.eventTitleText;relatedEventData.articleRelatedEventVenueName=$eventData.venue.title;relatedEventData.articleRelatedEventVenueUrl=$eventData.venue.url;relatedEventData.articleRelatedEventVenueLocation=$eventData.venue.city;if($eventData.venue.country==="United States")relatedEventData.articleRelatedEventVenueLocation+=", "+$eventData.venue.state;else relatedEventData.articleRelatedEventVenueLocation+=", "+$eventData.venue.country;if(moment($eventData.eventDateTime).isValid()){moment.lang(locale.substring(0,2));var eventDate=moment($eventData.eventDateTime).format(dateFormat);relatedEventData.articleRelatedEventMonth=moment($eventData.eventDateTime).format("MMM");relatedEventData.articleRelatedEventDate=moment($eventData.eventDateTime).format("D");relatedEventData.articleRelatedEventDay=moment($eventData.eventDateTime).format("ddd");var regexMatches=eventDate.match(/(mon|t(ue|ues|hu|hur)|wed|fri|s(at|un))\b/i);if(regexMatches)eventDate=eventDate.replace(regexMatches[0],regexMatches[0].toUpperCase());relatedEventData.articleRelatedEventDateFull=eventDate}else if($eventData.eventDateTime==="TBD"){relatedEventData.eventDateTbd=translations.tbd}if($eventData.additionalDates.length>0){relatedEventData.multipleDates=true}var $inlineRelatedEventDiv=$("#articleRelatedEvent").html();var $resultTemplate=Handlebars.compile($inlineRelatedEventDiv);var $html=$resultTemplate(relatedEventData);$promotedEvent.append($html);$promotedEventContainer.show()}else{$promotedEventContainer.remove()}}})}else{$promotedEventContainer.remove()}};var initRelatedArticles=function(id){$.getJSON(Routing.generate("api_proxy_articles_related",{articleId:id}),function(data){var $container=$("#related-articles");$container.addClass("loader");if(data&&data.length>0){$(data).each(function(i){baseUrl=Routing.generate("default_index_base");baseUrl=baseUrl.slice(0,baseUrl.length-1);this.url=baseUrl+this.url;if(this.defaultImage){var imgAlt=this.title;if(this.defaultImage.caption)imgAlt=this.defaultImage.caption;var altNoHTML=$("<div />").html(decodeURIComponent(imgAlt)).text();this.defaultImage.imgAlt=altNoHTML.slice(0,140)}this.className=axs.Core.getTeaserTypeClass(this)});var source=$("#related-articles-template").html();var template=Handlebars.compile(source);var html=template(data);var $itemContainer=$("#related-articles-body");$itemContainer.html(html);$container.removeClass("loader")}else{$container.hide()}})};var articleEmailShare=function(article){var sendEmailBtn=$("#email-article-btn");var sendAnotherEmailBtn=$(".send-another-email");var emailFormValues={txtSendTo:$("#txtSendTo"),txtMsg:$("#txtMsg"),txtFromName:$("#txtFromName"),shareEventCustomMsg:$("#share_event_custom_msg"),txtPersonalMessage:$("#txtPersonalMessage"),shareEmailFromError:$("#myaxs-share-event-email_from_error"),shareEmailSendToError:$("#myaxs-share-event-email_send_to_error")};sendEmailBtn.off("click");sendAnotherEmailBtn.off("click");var resetEmailForm=function(){function checkLength(str){if(str!==undefined&&str.val().length>0){str.val("");str[0].onblur()}}checkLength(emailFormValues.txtSendTo);checkLength(emailFormValues.txtMsg);checkLength(emailFormValues.txtFromName);emailFormValues.shareEventCustomMsg.html("");emailFormValues.txtPersonalMessage.html("");emailFormValues.shareEmailFromError.text("");emailFormValues.shareEmailSendToError.text("")};resetEmailForm();sendAnotherEmailBtn.on("click",function(e){resetEmailForm();$("#sharemod").data("axsModal").show()});sendEmailBtn.on("click",function(e){var personalMessage=emailFormValues.txtMsg.val();if(personalMessage==emailFormValues.txtMsg.html())personalMessage=null;var email={senderName:emailFormValues.txtFromName.val(),sendTo:emailFormValues.txtSendTo.val(),personalMsg:personalMessage,locale:locale};var data={email:email,article:article};if($("#hdn_csrf_token")[0]){data.csrf_token=$("#hdn_csrf_token").val()}e.preventDefault();var thisModal=$(this).closest(".modal");axs.animations.loadingElement.start(thisModal);var msg=$("#txtMsg").val();if(msg=="Add a personal message")msg="";var emailReg=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;var error=false;emailFormValues.shareEmailFromError.text("");emailFormValues.shareEmailSendToError.text("");var fromName=$("#txtFromName").val();var sendTo=emailFormValues.txtSendTo.val();if($.trim(fromName)==""||fromName.toLowerCase()=="first name"){emailFormValues.shareEmailFromError.text(eventTranslations.emailDialog.validationMessages.name);error=true}if($.trim(sendTo)==""||sendTo.toLowerCase()=="email address"){emailFormValues.shareEmailSendToError.text(eventTranslations.emailDialog.validationMessages.email.required);error=true}else if(!emailReg.test(sendTo)){emailFormValues.shareEmailSendToError.text(eventTranslations.emailDialog.validationMessages.email.invalid);error=true}if(!error){$.ajax({type:"POST",async:false,url:Routing.generate("api_proxy_share_article_email"),data:JSON.stringify(data),dataType:"json",contentType:"application/json",success:function(data){axs.animations.loadingElement.stop(thisModal);$("#sharemod-confirm").data("axsModal").show();if(logData){logData["emailContent"]=data;axs.utilities.logData("share_article_email",logData)}},error:function(req,status,error){axs.animations.loadingElement.stop(thisModal);emailFormValues.shareEmailFromError.text("There was an error processing your request. Please try again later.")}})}else{axs.animations.loadingElement.stop(thisModal)}})};var removeSpecialChars=function(str){return str.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")};var getFriendlyURL=function(title,articleId){var url=removeSpecialChars(title).toLowerCase();if(url.charAt(url.length-1)!="-"){url+="-"}url+=articleId;return url};var changeTitleAndURL=function(title,articleId){var canChangeData=true;if(typeof title==="undefined"||title==null||title==""){canChangeData=false}if(typeof articleId==="undefined"||articleId==null||articleId==""){canChangeData=false}if(canChangeData){if(typeof isIE==="undefined"||isIE==null){isIE=false}if(typeof ltie9==="undefined"||ltie9==null){ltie9=false}if(isIE&&ltie9){window.parent.document.title=title}else{document.title=title}try{if(isIE&&ltie9){var url=window.top.location.href.replace(window.top.location.hash,"")+"#"+getFriendlyURL(title,articleId);window.top.location.href=url}else{var newUrl=$("div[data-article-id='"+articleId+"']").attr("data-article-url");if(window.location.href!==newUrl){window.history.pushState(null,"",newUrl)}}}catch(error){}if(arguments[2]){triggerAnalytics=false;triggerAnalyticsEvents()}}};var getLoaderHTML=function(){var html="";html+="<div class='preload-container'>";html+="<div class='preload-image'></div>";html+="</div>";return html};var appendLoaderHTML=function(){$("div#page-relative-block div.layout-wrapper").last().append(getLoaderHTML())};var removeLoaderHTML=function(){$("div.preload-container").remove()};var initSlideShowForArticle=function(articleId){if(typeof articleId!=="undefined"&&articleId!=null&&articleId!=""){var breakAt=960,captionLength=$(window).width()<=breakAt?10:50,displayThumbnails=true,$camera_wrap=$("div[data-article-id='"+articleId+"'] #camera_wrap"),context=$camera_wrap,$camera_caption=$("div[data-article-id='"+articleId+"'] .camera_caption"),camera,slide;if($camera_wrap.length>0){if(location.hash){slide=location.hash.match(new RegExp("slide"+"=([^&]*)"))[1]}if($.isFunction($camera_wrap.camera)){camera=$camera_wrap.camera({height:"500px",loader:"none",time:5e3,transPeriod:1,pagination:false,thumbnails:displayThumbnails,barPosition:"top",playPause:true,pauseOnClick:true,navigationHover:false,mobileNavHover:false,fx:"scrollHorz",portrait:true,autoAdvance:false,startAtSlide:slide,onStartTransition:function(){$(".expanded_caption").removeClass("is-active")},onEndTransition:function(){var currentSlide=$camera_wrap.find(".camera_target .cameraSlide.cameracurrent").index();$camera_wrap.find(".cameracurrent #current-slide").html(currentSlide+1);window.location.hash="slide="+(currentSlide+1)}})}var $thumbnails=$(".camera_thumbs li");$thumbnails.each(function(){$(this).find("img").wrap('<div class="thumb-wrapper"></div>')});$thumbnails.click(function(obj){var $this=$(this)});$(".camera_target_content, .camera_thumbs_cont").mouseup(function(){$(".camera_src").addClass("paused");$(".camera_stop").hide();$(".camera_play").show();$("#camera_wrap_2").cameraPause()});$camera_wrap.find(".full-caption").each(function(){var $element=$(this),caption=$element.text(),resizedCaption=caption.substring(0,captionLength);$element.closest(".camera_caption").find(".truncated-caption").html(resizedCaption)});$camera_caption.find(".read-more").click(function(){var $caption=$(this).parents(".camera_caption");$caption.addClass("is-active")});$camera_caption.find(".read-less").click(function(){var $caption=$(this).parents(".camera_caption");$caption.removeClass("is-active")});$(".camera_social_sharing").on("click","a",function(e){e.preventDefault();var type="";if($(this).hasClass("btn-share-fb")){type="facebook"}else if($(this).hasClass("btn-share-twitter")){type="twitter"}else if($(this).hasClass("icon-google-plus")){type="google_plus"}if(logData&&type){axs.Global.utilities.logData("share_article_"+type,logData)}})}}};var initVideoArticle=function(articleId){if(typeof articleId!=="undefined"&&articleId!=null&&articleId!=""){$("div[data-article-id='"+articleId+"'] #videoImage").parent().on("click",function(){$(this).hide();var $videoFrame=$("div[data-article-id='"+articleId+"'] #videoFrame_"+articleId);$videoFrame.show();var embedCode=window["video_embed_"+articleId];switch($(embedCode).data("provider")){case"5min":$videoFrame.addClass("video-provider-5min");$("#companion-ad-container").addClass("is-active");$.getScript("http://pshared.5min.com/Scripts/PlayerSeed.js",function(data,textStatus,jqxhr){var containerWidth=$("div[data-article-id='"+articleId+"'] #videoFrame_"+articleId).width(),player=new PlayerSeed("videoFrame_"+articleId);player.autoStart=true;player.cbCustomID="companion-ad-container";player.cbLocation="Custom";player.height=containerWidth/1.7778;player.isAP=1;player.isFL=1;player.onPrerollEnded="hide5MinAdContainer";player.relatedMode=false;player.shuffle=0;player.sid=1304;player.width=containerWidth;player[$(embedCode).data("param-name")]=$(embedCode).data("id");player.Load()});break;case"grabnetworks":$("#companion-ad-container").addClass("is-active");var grabDiv=document.createElement("div");grabDiv.id="grabDiv"+$(embedCode).data("id");$("div[data-article-id='"+articleId+"'] #videoFrame_"+articleId).append(grabDiv);var script=document.createElement("script");script.src=$(embedCode).data("url");script.type="text/javascript";document.body.appendChild(script);break;default:$videoFrame.html(embedCode);$videoFrame.addClass("video-provider-youtube");break}})}};var getRelatedEventsForArticle=function(articleId,performerIds,eventIds,dateTimeFormatRelatedEventsMoreDates,dateFormatShortRelatedEventsMoreDates){var template='{{#each events}}         <li class="teaser">             <div class="teaser__thumb-block">                <a class="thumb" href="{{ ticketing.eventUrl }}" style="background-image: url(\'{{ relatedMedia.2.file_name }}\')"><img src="{{ relatedMedia.2.file_name }}" alt=""/></a>                 <div class="teaser__body">                    <h4 class="teaser__title">                        <a href="{{ ticketing.eventUrl }}">{{ title.eventTitleText }}</a>                    </h4>                    <div class="venue-name"><a href="{{ venue.url }}">{{ venue.title }}</a></div>                     <div>{{ venue.city }},                         {{#if venue.state}}                             {{venue.state}}                         {{else}}                             {{venue.country}}                         {{/if}}                     </div>                     <div>                    {{#if multipleDates }}                        <div class="related-event-starting">Starting</div>                    {{/if}}                        <div>{{#equal ./eventDateTime "TBD" }}&nbsp;{{else}}{{{formatDate ./eventDateTime "MMM" }}}{{/equal}} {{{formatDate ./eventDateTime "DD"}}} {{#equal ./eventDateTime "TBD" }}&nbsp;{{else}}{{{formatDate ./eventDateTime "ddd"}}}{{/equal}}</div>                    </div>                </div>            </div>        </li>         {{/each}}';var container=$("div.another-article[data-article-id='"+articleId+"'] #related-events");axs.Global.getRelatedEvents(container,template,{rows:6,siteId:1,excludedEventIds:[],performerId:performerIds.length>0?performerIds[0]:null,eventId:eventIds.length>0?eventIds[0]:null,dateFormat:dateTimeFormatRelatedEventsMoreDates,dateFormatShort:dateFormatShortRelatedEventsMoreDates,tbdText:translations.tbd})};var articleIsOnNewsLevel=function(articleURL){var isOnNewsLevel=false;if(typeof articleURL!=="undefined"&&articleURL!=null&&articleURL!=""){var urlParts=articleURL.split("/");if(urlParts.indexOf("news")>-1){isOnNewsLevel=true}}return isOnNewsLevel};var _inf_scr_pag_ind=0;var _loadingNextArticle=false;var getNextRelatedArticle=function(articleId){if(_loadingNextArticle){return}appendLoaderHTML();_inf_scr_pag_ind++;var serviceURL=Routing.generate("articles_get_iterated_articles",{articleId:articleId,pageNum:_inf_scr_pag_ind});_loadingNextArticle=true;$.getJSON(serviceURL,function(data){if(data){var relatedArticleId=data.relatedArticleId;var isNewsworthy=data.isNewsworthy;var templateHTML=data.templateHTML;removeLoaderHTML();$("div#page-relative-block div.layout-wrapper").last().after(templateHTML);if(typeof relatedArticleId!=="undefined"&&relatedArticleId!=null&&relatedArticleId!=""){try{if($("div[data-article-id='"+relatedArticleId+"'] #camera_wrap").length>0){initSlideShowForArticle(relatedArticleId)}if($("div[data-article-id='"+relatedArticleId+"'] #article-video-container").length>0){initVideoArticle(relatedArticleId)}$("div.another-article[data-article-id='"+relatedArticleId+"']").fadeIn();var selector_facebook="div[data-article-id='"+relatedArticleId+"'] .share-facebook";$(selector_facebook).on("click",function(e){e.preventDefault();var data=$(this).data("social");var type=$(this).data("type");axs.Facebook.shareDialog(data["url"]);if(typeof logData!="undefined"){axs.Global.utilities.logData("share_"+type+"_facebook",logData)}});var selector_twitter="div[data-article-id='"+relatedArticleId+"'] .share-twitter";$(selector_twitter).on("click",function(e){e.preventDefault();var data=$(this).data("social");var type=$(this).data("type");window.open(data.url,"twitter","toolbar=no,location=no,directories=no,width=415,height=480,top=100");if(typeof logData!="undefined"){axs.Global.utilities.logData("share_"+type+"_twitter",logData)}});var selector_googlePlus="div[data-article-id='"+relatedArticleId+"'] .share-google-plus";$(selector_googlePlus).on("click",function(e){e.preventDefault();var data=$(this).data("social");var type=$(this).data("type");window.open(data.url,"googleplus","toolbar=no,location=no,directories=no,width=500,height=480,top=100");if(typeof logData!="undefined"){axs.Global.utilities.logData("share_"+type+"_google_plus",logData)}});shareEmailModalInit(relatedArticleId);if(typeof isNewsworthy!=="undefined"&&isNewsworthy!=null){if(isNewsworthy=="1"){$("div[data-article-id='"+relatedArticleId+"']").attr("data-article-news","1")}else if(isNewsworthy=="0"){$("div[data-article-id='"+relatedArticleId+"']").attr("data-article-news","0")}}_loadingNextArticle=false}catch(exception){console.log(exception);removeLoaderHTML()}}else{$("div.no-more-articles").fadeIn()}}}).error(function(){console.log("error");removeLoaderHTML()})};function getLastArticle(){return $("#page-relative-block .article--full").last()}function LoaderElement(options){var defaults={loadingText:false,extraClasses:false,type:"stretch"};var settings=$.extend(defaults,options),$loader=$(createHTML());function addLoader(context){$(context).append($loader)}function removeLoader(){$loader.remove()}function createHTML(){var html;if(Modernizr&&Modernizr.cssanimations){html='<div class="loader-element loader-element--'+settings.type+' _extraclassesplaceholder_" _loadingtextplaceholder_>'+'<div class="loader-element__item"></div>'+'<div class="loader-element__item"></div>'+'<div class="loader-element__item"></div>'+'<div class="loader-element__item"></div>'+'<div class="loader-element__item"></div>'+"</div>";html=settings.loadingText?html.replace("_loadingtextplaceholder_","loading-text="+settings.loadingText):html.replace(" _loadingtextplaceholder_","");html=settings.extraClasses?html.replace("_extraclassesplaceholder_",settings.extraClasses):html.replace(" _extraclassesplaceholder_","")}else{html='<div class="loader"/>'}return html}return{add:addLoader,remove:removeLoader}}function shareEmailModalInit(articleId){var selector_email="div[data-article-id='"+articleId+"'] .share-mail";var modalContainer=$("#sharemod").css("position","fixed");$(selector_email).on("click",function(){var article=$("[data-article-id="+articleId+"]");var contributorName=article.find("[itemprop='author']").html();var dateCreated=article.find("[itemprop='dateCreated']").html();var articleTitle=article.find(".page-title").html();var imgUrl=article.find("[itemprop='image']").attr("src")||article.find("#videoImage").attr("src");var articleObj={title:articleTitle,author:contributorName,authorTitle:"",url:article.attr("data-article-url"),image:imgUrl};return function(e){e.preventDefault();articleEmailShare(articleObj);modalContainer.find(".modal .heading").html(articleTitle);modalContainer.find(".modal .contributor-name").html(contributorName);modalContainer.find(".modal .date").html(dateCreated);var imgContainer=modalContainer.find(".modal #share_event_img_div");if(imgUrl){imgContainer.css("background-image","url("+imgUrl+")");imgContainer.show()}else{imgContainer.hide()}$("#sharemod").data("axsModal").show()}}())}function triggerAnalyticsEvents(){(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date;a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-48306850-1","axs.com");ga("send","pageview");var NREUM=NREUM||undefined;if(NREUM&&NREUM.inlineHit){NREUM.inlineHit()}}return{initialize:function(article){newArticleLoader=new LoaderElement({extraClasses:"new-article-loader"});var lastScrollPosition=0;var previousArticle={};$(window).scroll(function(){var numberOfVisibleElements=0;var Articles=$("div.layout-wrapper[data-article-id]");Articles.each(function(){var currentObjIsVisible=$(this).visible(true);if(currentObjIsVisible){numberOfVisibleElements++}});if(numberOfVisibleElements===1){Articles.each(function(){var currentObjIsVisible=$(this).visible(true);if(currentObjIsVisible){var articleTitle=$(this).find("h1#article_title").text();var currentArticleId=$(this).attr("data-article-id");changeTitleAndURL(articleTitle,currentArticleId)}})}else{Articles.each(function(){function setPreviousArticle(){var articleTitle=elem.find("h1#article_title").text();var currentArticleId=elem.attr("data-article-id");previousArticle={title:articleTitle,id:currentArticleId}}var currentObjIsVisible=$(this).visible(true);if(currentObjIsVisible){var elem=$(this);var offset=elem.offset();var currentScrollPosition=$(window).scrollTop();var posY=offset.top-currentScrollPosition;posY=posY>=0?posY:Math.abs(posY);if(!deactivateUrlChange){if(posY<$(window).height()/2){setPreviousArticle();changeTitleAndURL(previousArticle.title,previousArticle.id,triggerAnalytics)}else if(currentScrollPosition<lastScrollPosition){changeTitleAndURL(previousArticle.title,previousArticle.id);setPreviousArticle()}}setTimeout(function(){deactivateUrlChange=false},300);lastScrollPosition=$(window).scrollTop()}})}if(!_loadingNextArticle){var st=$(window).scrollTop();var wh=$(window).height();var dh=$(document).height();var par1=st+wh;var par2=dh;var delta=Math.round((par2-par1)/2);var deltaExpected=Math.round(wh/2);if(delta<=deltaExpected){var articleId=$("#article-id").html();triggerAnalytics=true;getNextRelatedArticle(articleId)}}});addEventListener("popstate",function(event){deactivateUrlChange=true},false);var articleId=$("#article-id").html();if(articleIsOnNewsLevel(window.location.pathname)){$("div[data-article-id='"+articleId+"']").attr("data-article-news","1")}else{$("div[data-article-id='"+articleId+"']").attr("data-article-news","0")}initRelatedEvents();displayRelatedEvents();shareEmailModalInit(articleId);articleEmailShare(article);$("div[data-article-id='"+articleId+"'] #videoImage").parent().on("click",function(){$(this).hide();var $videoFrame=$("div[data-article-id='"+articleId+"'] #videoFrame_"+articleId);$videoFrame.show();var embedCode=window["video_embed_"+articleId];switch($(embedCode).data("provider")){case"5min":$videoFrame.addClass("video-provider-5min");$("#companion-ad-container").addClass("is-active");$.getScript("http://pshared.5min.com/Scripts/PlayerSeed.js",function(data,textStatus,jqxhr){var containerWidth=$("div[data-article-id='"+articleId+"'] #videoFrame_"+articleId).width(),player=new PlayerSeed("videoFrame_"+articleId);player.autoStart=true;player.cbCustomID="companion-ad-container";player.cbLocation="Custom";player.height=containerWidth/1.7778;player.isAP=1;player.isFL=1;player.onPrerollEnded="hide5MinAdContainer";player.relatedMode=false;player.shuffle=0;player.sid=1304;player.width=containerWidth;player[$(embedCode).data("param-name")]=$(embedCode).data("id");player.Load()});break;case"grabnetworks":$("#companion-ad-container").addClass("is-active");var grabDiv=document.createElement("div");grabDiv.id="grabDiv"+$(embedCode).data("id");document.getElementById("videoFrame_"+articleId).appendChild(grabDiv);var script=document.createElement("script");script.src=$(embedCode).data("url");script.type="text/javascript";document.body.appendChild(script);break;default:$videoFrame.html(embedCode);$videoFrame.addClass("video-provider-youtube");break}});var breakAt=960,captionLength=$(window).width()<=breakAt?10:50,displayThumbnails=true,$camera_wrap=$("#camera_wrap"),context=$camera_wrap,$camera_caption=$(".camera_caption"),camera,slide;if($camera_wrap.length>0){if(location.hash){slide=location.hash.match(new RegExp("slide"+"=([^&]*)"))[1]}camera=$camera_wrap.camera({height:"500px",loader:"none",time:5e3,transPeriod:1,pagination:false,thumbnails:displayThumbnails,barPosition:"top",playPause:true,pauseOnClick:true,navigationHover:false,mobileNavHover:false,fx:"scrollHorz",portrait:true,autoAdvance:false,startAtSlide:slide,onStartTransition:function(){$(".expanded_caption").removeClass("is-active")},onEndTransition:function(){var currentSlide=$(".camera_target .cameraSlide.cameracurrent").index();$(".cameracurrent #current-slide").html(currentSlide+1);window.location.hash="slide="+(currentSlide+1)}});var $thumbnails=$(".camera_thumbs li");$thumbnails.each(function(){$(this).find("img").wrap('<div class="thumb-wrapper"></div>')});$thumbnails.click(function(obj){var $this=$(this)});$(".camera_target_content, .camera_thumbs_cont").mouseup(function(){$(".camera_src").addClass("paused");$(".camera_stop").hide();$(".camera_play").show();$("#camera_wrap_2").cameraPause()});$camera_wrap.find(".full-caption").each(function(){var $element=$(this),caption=$element.text(),resizedCaption=caption.substring(0,captionLength);$element.closest(".camera_caption").find(".truncated-caption").html(resizedCaption)});$camera_caption.find(".read-more").click(function(){var $caption=$(this).parents(".camera_caption");$caption.addClass("is-active")});$camera_caption.find(".read-less").click(function(){var $caption=$(this).parents(".camera_caption");$caption.removeClass("is-active")});$(".camera_social_sharing").on("click","a",function(e){e.preventDefault();var type="";if($(this).hasClass("btn-share-fb")){type="facebook"}else if($(this).hasClass("btn-share-twitter")){type="twitter"}else if($(this).hasClass("icon-google-plus")){type="google_plus"}if(logData&&type){axs.Global.utilities.logData("share_article_"+type,logData)}})}var $promotedEvent=$("#in-line-related-event-container");var movePromotedEvent=function(isTabletView){var $copy=$("#article-copy");var $paragraph=$copy.find("p:eq(2)").length?$copy.find("p:eq(2)"):$copy.children().last();var $sidebar=$(".layout-column--secondary");if(isTabletView){$promotedEvent.insertAfter($paragraph)}else{$promotedEvent.prependTo($sidebar)}};var rearrangeShareEmailContent=function(isMobileView){var $media=$("#email-article-media");var $modalContent=$media.closest(".modal__body");if(isMobileView){$media.appendTo($modalContent)}else{$media.prependTo($modalContent)}};$("a","#article-copy").setLinkTarget();var breakpointCommands={"mobile-view":function(){movePromotedEvent(true);rearrangeShareEmailContent(true)},"tablet-view":function(){movePromotedEvent(true);rearrangeShareEmailContent(false)},"desktop-view":function(){movePromotedEvent(false)}};axs.pubsub.subscribe("articlespage","media.breakpoint",function(e,data){var command=breakpointCommands[data.breakpoint];command&&command()});axs.Core.publishMediaBreakpoint()},getNextRelatedArticle:function(articleId){getNextRelatedArticle(articleId)},getRelatedEventsForArticle:function(articleId,performerIds,eventIds,dateTimeFormatRelatedEventsMoreDates,dateFormatShortRelatedEventsMoreDates){getRelatedEventsForArticle(articleId,performerIds,eventIds,dateTimeFormatRelatedEventsMoreDates,dateFormatShortRelatedEventsMoreDates)}}}();if(typeof hide5MinAdContainer=="undefined"){var hide5MinAdContainer=function(){document.getElementById("companion-ad-container").style.display="none"}}if(!window.video_embed){$("#companion-ad-container").remove()}
var axs=window.axs||{};axs.auth=function(){var authPopupsInitialized=false,myaxsAuthPanel="myaxs-auth-include",currentMyaxsAuthPanel="myaxs-auth-include-current";var ifHasPlaceholderPolyfill=function(element){if($(element).closest("form").hasClass("has-placeholder-polyfill")&&$(element).attr("type")==="password"){return true}};function detectLoginSignupPopup(){var query=window.location.search.substring(1);if(query.indexOf("signin")>-1){$(".myaxs-login-trigger").trigger("click")}else if(query.indexOf("signup")>-1){$(".myaxs-create-trigger").trigger("click")}}function initAuthForms(dnau){setupAuthSignupForm(dnau);setupAuthLoginForm(dnau)}function setupAuthSignupForm(dnau){$.validator.addMethod("matchValue",function(value,element){if($(element).attr("placeholder")!==value&&value!==""){return true}else{return false}});$.validator.setDefaults({success:"valid"});$("form#myaxs-create-form").validate({ignore:".password-placehoder-input",errorClass:"is-error",errorPlacement:function(error,element){var originalLabel=$(element).parent().find("label");if(originalLabel.length){originalLabel.hide();error.insertBefore(originalLabel)}if(ifHasPlaceholderPolyfill(element)){if(!$(element).is(":focus")&&$(element).val()===""){$(element).hide().prev().show()}}},highlight:function(element,errorClass,validClass){if(ifHasPlaceholderPolyfill(element)){$(element).addClass(errorClass).prev().addClass(errorClass)}else{$(element).addClass(errorClass)}},unhighlight:function(element,errorClass,validClass){if(ifHasPlaceholderPolyfill(element)){$(element).removeClass(errorClass).prev().removeClass(errorClass)}else{$(element).removeClass(errorClass)}},success:function(error){if(error.siblings("label").length){error.siblings("label").show();error.remove()}},rules:{axs_pass:{required:true,minlength:6},axs_fname:{matchValue:true},axs_lname:{matchValue:true},axs_email:{matchValue:true,equalTo:"#axs_email_create"}},messages:{axs_fname:translations.signUp.formFields.firstName.validationMessages.required,axs_lname:translations.signUp.formFields.lastName.validationMessages.required,axs_email:translations.signUp.formFields.email.validationMessages.required,axs_pass:{required:translations.signUp.formFields.password.validationMessages.required,minlength:$.validator.format(translations.signUp.formFields.password.validationMessages.minLength)},axs_zip:translations.signUp.formFields.postalCode.validationMessages.required,axs_email2:translations.signUp.formFields.confirmEmail.validationMessages.required,axs_pass2:translations.signUp.formFields.confirmPassword.validationMessages.required}});$("form#myaxs-create-form").on("submit",function(e){e.preventDefault();axs.Core.loadingScreen.show(function(){if($("form#myaxs-create-form").validate().form()==false){axs.Core.loadingScreen.hide();return}$("#myaxs-create-form-error").text("");var fname=$("input#axs_fname_create").val();var fnamePlaceholder=$("input#axs_fname_create").attr("placeholder");if(!fname||fname==="Enter your first name"||fname===fnamePlaceholder){$("#axs_fname_create").addClass("is-error");$("#myaxs-create-form-error").text("Error: first name is required.");return false}var lname=$("input#axs_lname_create").val();var lnamePlaceholder=$("input#axs_lname_create").attr("placeholder");if(!lname||lname==="Enter your last name"||lname===lnamePlaceholder){$("#myaxs-create-form-error").text("Error: last name is required.");return false}var $location=$("#axs_zip_create");var zip=$location.val();var cityId="";var country=$.cookie(geoTypes.Geo_Static)!=null?$.cookie(geoTypes.Geo_Static).split(":")[0]:"";if(country==="")country=$("#country").val();var sourceType=$("#sourceType").val();var sourceId=$("#sourceId").val();var clientId=$("#clientId").val();var axsClientId=$("#axsClientId").val();var callbackUrl=$("#callbackUrl").val();var skin=$("#skin").val();var axs_3rd_party=$("#axs_3rd_party_accept").attr("checked")==="checked";var email=$("input#axs_email_create").val();var email2=$("input#axs_email2_create").val();if(email!==email2){$("#myaxs-create-form-error").text("Error: Emails do not match");return false}var password=$("input#axs_pass_create").val();var password2=$("input#axs_pass2_create").val();if(password!==password2){$("#myaxs-create-form-error").text("Error: Passwords does not match");return false}var src=$.QueryString.src;var query=window.location.search;var pathname=window.location.pathname;$url=$("form#myaxs-create-form").attr("action");$loginUrl=$("form#myaxs-login-form").attr("action");var token=$("#hdn_csrf_token").val();var canadaConsentCheckbox=$("#caslAcceptance").prop("checked");$(".next-button",this).attr("disabled","disabled");$.ajax({type:"GET",url:$url,data:{email:email,password:password,first_name:fname,last_name:lname,zip:zip,city_id:cityId,country:country,csrf_token:token,src:src,query:query,pathname:pathname,sourceType:sourceType,sourceId:sourceId,axs_3rd_party:axs_3rd_party,axsClientId:axsClientId,clientId:clientId,callbackUrl:callbackUrl,skin:skin,canadaConsentCheckbox:canadaConsentCheckbox},dataType:"jsonp",success:function(data){if(typeof data==="string"){data=jQuery.parseJSON(data);if(data!=null&&data.redirect){window.location=data.redirect;return}}if(data.error){axs.Core.loadingScreen.hide();$("form#myaxs-create-form .next-button").removeAttr("disabled");if(data.error_description){$("#myaxs-create-form-error").text("Error: "+data.error_description)}}else{$.ajax({type:"GET",async:false,url:$loginUrl,dataType:"jsonp",data:{_username:email,_password:password,csrf_token:token},success:function(data){if(data.error){axs.Core.loadingScreen.hide();$("form#myaxs-create-form .next-button").removeAttr("disabled");if(data.error_description){$("#myaxs-create-form-error").text("Error: "+data.error_description)}else{$("#myaxs-create-form-error").text("Problem with authentication.  Please call customer service, or try again.")}}else{try{if(axs.Analytics)axs.Analytics.trackStandardAccountCreateCompleteAnalytics(data.id)}catch(e){}if($(".login_reload_home")[0]){window.location=axs.utilities.generateURL("default_index",{_locale:locale})}else{window.location.reload()}}},error:function(req,status,error){axs.Core.loadingScreen.hide();$("form#myaxs-create-form .next-button").removeAttr("disabled");if(error){$("#myaxs-login-form-error").text("Error: "+error).show()}else{$("#myaxs-login-form-error").text("Error.  Please contact customer service, or try again.").show()}}})}},error:function(req,status,error){$("form#myaxs-create-form .next-button").removeAttr("disabled");if(error){$("#myaxs-create-form-error").text("Error: "+error)}else{$("#myaxs-create-form-error").text("Error during account creation.  Try one more time, then contact customer service.")}}})})})}function setupAuthLoginForm(dnau){$("form#myaxs-login-form").validate({ignore:".password-placehoder-input",errorClass:"is-error",errorPlacement:function(error,element){var originalLabel=$(element).parent().find("label");if(originalLabel.length){originalLabel.hide();error.insertBefore(originalLabel)}if(ifHasPlaceholderPolyfill(element)){if(!$(element).is(":focus")&&$(element).val()===""){$(element).hide().prev().show()}}},highlight:function(element,errorClass,validClass){if(ifHasPlaceholderPolyfill(element)){$(element).addClass(errorClass).prev().addClass(errorClass)}else{$(element).addClass(errorClass)}},unhighlight:function(element,errorClass,validClass){if(ifHasPlaceholderPolyfill(element)){$(element).removeClass(errorClass).prev().removeClass(errorClass)}else{$(element).removeClass(errorClass)}},success:function(error){if(error.siblings("label").length){error.siblings("label").show();error.remove()}},messages:{_username:translations.signUp.formFields.email.validationMessages.required,_password:translations.signUp.formFields.password.validationMessages.required}});$("form#myaxs-login-form").on("submit",function(e){e.preventDefault();axs.Core.loadingScreen.show(function(){if($("form#myaxs-login-form").validate().form()==false){axs.Core.loadingScreen.hide();return}$("#myaxs-login-form-error").text("").hide();var email=$("input#axs_email_login").val();var password=$("input#axs_pass_login").val();var token=$("#hdn_csrf_token").val();var clientId=$("#clientId").val();var axsClientId=$("#axsClientId").val();var callbackUrl=$("#callbackUrl").val();var skin=$("#skin").val();$url=$("form#myaxs-login-form").attr("action");$.ajax({type:"GET",dataType:"jsonp",url:$url,data:{_username:email,_password:password,csrf_token:token,axsClientId:axsClientId,clientId:clientId,callbackUrl:callbackUrl,skin:skin},success:function(data){if(data!=null&&data.redirect){window.location=data.redirect;return}if(data.error){axs.Core.loadingScreen.hide();if(data.error_description){$("#myaxs-login-form-error").text(translations.login.badCredentials).show()}else{$("#myaxs-login-form-error").text("Problem with authentication.  Please call customer service, or try again.").show()}}else{if(axs.Analytics){axs.Analytics.trackStandardSignInCompleteAnalytics(data.id)}callback=$("#myaxs_container_login").data("callback");if(callback!=null){$("#myaxs_container_login").data("callback").resolve(data.id);setTimeout(function(){location.reload()},500)}else if($(".login_reload_home")[0]){window.location=axs.utilities.generateURL("default_index",{_locale:locale})}else{location.reload()}}},error:function(req,status,error){axs.Core.loadingScreen.hide();if(error)$("#myaxs-login-form-error").text("Error: "+error).show();else $("#myaxs-login-form-error").text("Error.  Please contact customer service, or try again.").show()}})})});$("form#generic-login-form").on("submit",function(e){e.preventDefault();axs.Core.loadingScreen.show(function(){if($("form#generic-login-form").validate().form()==false){axs.Core.loadingScreen.hide();return}$("#generic-login-form-error").text("").hide();var email=$("input#axs_email_login").val();var password=$("input#axs_pass_login").val();var token=$("#hdn_csrf_token").val();var clientId=$("input#clientId").val();var axsClientId=$("input#axsClientId").val();var callbackUrl=$("input#callbackUrl").val();var skin=$("input#skin").val();var axsSDKMobile=$("input#axsSDKMobile").val();$url=$("form#generic-login-form").attr("action");$.ajax({type:"GET",dataType:"json",url:$url,data:{_username:email,_password:password,csrf_token:token,axsClientId:axsClientId,clientId:clientId,callbackUrl:callbackUrl,skin:skin,axsSDKMobile:axsSDKMobile},success:function(data){if(data!=null&&data.redirect){window.location=data.redirect;return}if(data.error){axs.Core.loadingScreen.hide();if(data.error_description){$("#generic-login-form-error").text("Error: "+data.error_description).show()}else{$("#generic-login-form-error").text("Problem with authentication.  Please call customer service, or try again.").show()}}},error:function(req,status,error){axs.Core.loadingScreen.hide();if(req.responseJSON.error_description)$("#generic-login-form-error").text("Error: "+req.responseJSON.error_description).show();else $("#generic-login-form-error").text("Error.  Please contact customer service, or try again.").show()}})})})}function myaxsAuthSignInPopup(dnau,deferredCallback){var signInModal="#myaxs_container_login";$(signInModal).data("axsModal").update({onClose:signInCancelCallback});function signInContentInit(){$("#myaxs-sign-in-auth").show();$("#myaxs-login-form-error").html("").hide();axs.Facebook.displayFacePile();$(signInModal).data("callback",deferredCallback)}function signInShowCallback(){$("#axs_email_login").focus()}function signInCancelCallback(){if(dnau){window.location=axs.utilities.generateURL("default_index",{_locale:locale})}}signInContentInit();$("#myaxs_container_login").data("axsModal").show(signInShowCallback)}function myaxsAuthSignUpPopup(dnau){var signUpModal="#myaxs_container_create";$(signUpModal).data("axsModal").update({onClose:signUpCancelCallback});function signUpContentInit(){$("#myaxs-sign-up-auth").show();$("#myaxs-create-form-error").html("");axs.Facebook.displayFacePile()}function signUpShowCallback(){$("#axs_fname_create").focus()}function signUpCancelCallback(){if(dnau){$(document).keyup(function(e){if(e.keyCode===27){window.location=axs.utilities.generateURL("default_index",{_locale:locale})}})}}signUpContentInit();$("#myaxs_container_create").data("axsModal").show(signUpShowCallback)}function initAuthPopups(dnau){if(authPopupsInitialized){return}authPopupsInitialized=true;initAuthForms(dnau);$(".myaxs-login-trigger").on("click",function(e){e.preventDefault();myaxsAuthSignInPopup(dnau)});$(".myaxs-create-trigger").on("click",function(e){e.preventDefault();myaxsAuthSignUpPopup(dnau)});$(".global-search-trigger").on("click",function(e){e.preventDefault();$("#global-search").data("axsModal").show(null);document.getElementById("global-search__form-input").focus()});$(".location-search-trigger").on("click",function(e){e.preventDefault();$("#location-search").data("axsModal").show(null);document.getElementById("location-search__form-input").focus()});$(".music-genre-trigger").on("click",function(e){e.preventDefault();$("#music-genre").data("axsModal").show(null)});$(".sports-genre-trigger").on("click",function(e){e.preventDefault();$("#sports-genre").data("axsModal").show(null)});$(".art-genre-trigger").on("click",function(e){e.preventDefault();$("#art-genre").data("axsModal").show(null)});$(".headlines-genre-trigger").on("click",function(e){e.preventDefault();$("#headlines-genre").data("axsModal").show(null)})}function showLoginForm(e){if(e!=null){e.preventDefault()}$("."+myaxsAuthPanel).removeClass(currentMyaxsAuthPanel).hide();$("#myaxs-sign-in-auth").addClass(currentMyaxsAuthPanel).show()}function showCreateForm(e){if(e!=null){e.preventDefault()}$("."+myaxsAuthPanel).removeClass(currentMyaxsAuthPanel).hide();$("#myaxs-sign-up-auth").addClass(currentMyaxsAuthPanel).show();if(axs.Analytics)axs.Analytics.trackSignUpAnalytics()}function showPasswordLostForm(e){if(e!=null){e.preventDefault()}$("#myaxs-reset-pwd-request-form-error").text("");$("#reset-pwd-invalid-email-error").hide();$("#reset_pwd_email").val("");$("."+myaxsAuthPanel).removeClass(currentMyaxsAuthPanel).hide();$(".myaxs-auth-include-pwlost").addClass(currentMyaxsAuthPanel).show()}function initAuthEmbeddedForms(){var query=window.location.search.substring(1);initAuthForms();$("#myaxs-sign-up-auth").addClass(currentMyaxsAuthPanel).show();$("fb_sign_in_btn").replaceWith("fb_sign_up_btn");$(".myaxs-login-trigger").on("click",function(e){showLoginForm(e)});$(".myaxs-create-trigger").on("click",function(e){showCreateForm(e)});$("a.myaxs-pwlost").on("click",function(e){showPasswordLostForm(e)});if(query.indexOf("signin")>-1){showLoginForm()}else if(query.indexOf("forgotpassword")>-1){showPasswordLostForm()}}function initAuthPwsentPopup(dnau){$(".dialog").dialog("close");$("#myaxs_container_pwsent").dialog({autoOpen:false,modal:true,dialogClass:"no-titlebar",width:884,zIndex:1999,resizable:false});if(dnau){$(document).keyup(function(e){if(e.keyCode===27){window.location=Routing.generate("default_index",{_locale:locale})}})}$("#myaxs_container_pwsent .dialog-close").on("click",function(e){e.preventDefault();if(dnau){window.location=axs.utilities.generateURL("default_index",{_locale:locale})}$("#myaxs_container_pwsent").dialog("close")});$("#myaxs_container_pwsent").dialog("open")}function initialize(){initAuthPopups()}return{initialize:initialize,initAuthPopups:initAuthPopups,initAuthForms:initAuthForms,myaxsAuthSignInPopup:myaxsAuthSignInPopup,showLoginForm:showLoginForm,showPasswordLostForm:showPasswordLostForm,showCreateForm:showCreateForm,initAuthEmbeddedForms:initAuthEmbeddedForms,detectLoginSignupPopup:detectLoginSignupPopup}}();
var axs=window.axs||{};axs.Browse=function(){return{initialize:function(){var sortButton=$(".sortButton");sortButton.unbind("click");sortButton.bind("click",function(){$.post(Routing.generate("browse_index",{_locale:locale}),{sortType:$(this).attr("sortType"),sortOrder:$(this).attr("sortOrder"),major:$("#major").val(),minor:$("#minor").val(),city:$("#city").val(),dateRange:$("#dateRange").val()},function(data){data=$.parseJSON(data);if(data.redirectUrl){window.location.href=data.redirectUrl}})})}}}();
(function($,window,document,undefined){$.fn.axsCarousel=function(options){return this.each(function(){if(!$(this).data("axsCarousel")){$(this).data("axsCarousel",new AXSCarousel(this,options))}})};function AXSCarousel(element,options){var $carousel=$(element);if(!$carousel.length||!$carousel.children().length){return false}var defaults={showNav:true,generateHTML:true,updateItemsParent:false,forceItemNum:false,forceItemNumMap:false,moveBy:1,mobile:550,imageDriven:false,mouseDrag:false,touchDrag:true,autoplay:true,autoplaySpeed:8e3,autoplayTimeout:2e3,autoplayHoverPause:true,loop:true,viewportClass:"axs-carousel__viewport",stageClass:"axs-carousel__stage",navClass:"axs-carousel__nav",prevBtnClass:"axs-carousel__prev-btn",nextBtnClass:"axs-carousel__next-btn",itemsClass:"axs-carousel__item",activeClass:"axs-carousel__item--active",nextToActiveClass:"axs-carousel__item--next-active",prevToActiveClass:"axs-carousel__item--prev-active",loadedClass:"axs-carousel--loaded",pauseAnimationClass:"axs-carousel--pause-animation",mobileViewClass:"axs-carousel--mobile-view",touchClass:"axs-carousel--touch"};var settings=$.extend({},defaults,options);var $window=$(window),$document=$(document),$html=$("html"),dragEvents="",carouselReadyQueue={added:[],removed:[]},carouselReady,stage={offset:0,margin:0},drag={start:{},distance:{},target:false},forceItemNum={timeout:false,width:false,num:false},autoplay={timeout:false,paused:false,initialized:false},items={$original:false,$current:false,$active:false,$nextActive:false,$nextToActive:false,$prevToActive:false},$stage,$viewport,$nav,$nextBtn,$prevBtn,mobileViewActive;function isTouchSupport(){return"ontouchstart"in window&&!window.navigator.msPointerEnabled}function isTouchSupportIE(){return window.navigator.msPointerEnabled}function getEventObject(event){return event.originalEvent||event||window.event}function getTouches(event){if(event.touches!==undefined){return{x:event.touches[0].pageX,y:event.touches[0].pageY}}if(event.touches===undefined){if(event.pageX!==undefined){return{x:event.pageX,y:event.pageY}}if(event.pageX===undefined){return{x:event.clientX,y:event.clientY}}}}function onDragStart(event){$carousel.trigger("carousel.drag.start");var ev=getEventObject(event);drag.target=ev.target;drag.start.x=getTouches(ev).x;drag.start.y=getTouches(ev).y;$carousel.addClass(settings.pauseAnimationClass);pauseAutoplay();updateCurrentItems();$document.on(dragEvents,$.proxy(function(ev){touchEventRouter(ev)},this))}function onDragMove(event){var ev=getEventObject(event),tempMove=stage.offset+drag.distance.x;drag.distance.x=getTouches(ev).x-drag.start.x;updateStagePosition(tempMove)}function onDragEnd(){var dragThreshold=20;if(drag.target&&$(drag.target).length&&Math.abs(drag.distance.x)>5){suppressClick(drag.target)}if(drag.distance.x<-dragThreshold){moveNext()}else if(drag.distance.x>dragThreshold){movePrev()}else if(Math.abs(drag.distance.x)>0){updateStagePosition(stage.offset)}resetDragProps();$carousel.removeClass(settings.pauseAnimationClass);$document.off(dragEvents);$carousel.trigger("carousel.drag.end")}function resetDragProps(){drag.start.x=0;drag.distance.x=0;drag.target=false}function touchEventRouter(event){var type=event.type;if(type==="mousedown"||type==="touchstart"||type==="pointerdown"){onDragStart(event)}else if(type==="mousemove"||type==="touchmove"||type==="pointermove"){onDragMove(event)}else if(type==="mouseup"||type==="touchend"||type==="pointerup"){onDragEnd()}else if(type==="touchcancel"){onDragEnd()}}function initEvents(){if($nextBtn){$nextBtn.on("click.next",function(e){e.preventDefault();moveNext()})}if($prevBtn){$prevBtn.on("click.prev",function(e){e.preventDefault();movePrev()})}$window.on("resize",function(){if(settings.forceItemNum){clearTimeout(forceItemNum.timeout);forceItemNum.timeout=setTimeout(function(){forceItemNumRouter()},200)}});if(settings.mouseDrag&&!isTouchSupport()){$stage.on("mousedown",$.proxy(function(event){touchEventRouter(event)},this));$stage.on("dragstart",function(){return false});$stage.get(0).onselectstart=function(){return false}}if(settings.touchDrag&&isTouchSupport()){dragEvents="mousemove.carousel mouseup.carousel touchmove.carousel touchend.carousel";$carousel.addClass(settings.touchClass);$stage.on("touchstart",$.proxy(function(event){touchEventRouter(event)},this))}if(settings.touchDrag&&isTouchSupportIE()){dragEvents="pointermove.carousel pointerup.carousel";$carousel.addClass(settings.touchClass);$stage.css({"touch-action":"none"}).on("pointerdown",$.proxy(function(event){touchEventRouter(event)},this))}}function loadImage(images,callback){var $images=$(images);var imagesProcessed=0;var imagesLen=$images.length;function isAllImages(){if(imagesProcessed===imagesLen){callback&&callback()}}function processImage(){imagesProcessed+=1;isAllImages()}$images.each(function(){var $img=$(this);var src=$img.attr("src")+"?"+(new Date).getTime();$img.attr("src",src);$img.on("load",processImage).on("error",function(){$(this).remove();processImage()})})}function suppressClick(target){$(target).on("click.preventTouchClick",function(e){if(e.preventDefault){e.preventDefault()}if(e.stopPropagation){e.stopPropagation()}$(this).off("click.preventTouchClick")})}function preInitialize(){if(document.readyState==="complete"){loadImage($carousel.find("img"),initialize)}else{$window.on("load",function(){loadImage($carousel.find("img"),initialize)})}}function initialize(){if(settings.generateHTML){generateHTML()}if(settings.showNav){generateNav()}setElements();setItemData();if(settings.forceItemNum){forceItemNumRouter()}if(settings.imageDriven){setImageDrivenWidth()}if(settings.loop){addToReadyQueue("loop");initLoop()}if(settings.mobile&&!settings.forceItemNum){if($window.width()<=settings.mobile){addToReadyQueue("mobile");updateToMobileView()}$window.on("resize",$.debounce(200,function(){var width=$window.width();if(width<=settings.mobile){updateToMobileView()}else if(mobileViewActive&&width>settings.mobile){escapeMobileView()}}))}if(settings.autoplay){setTimeout(function(){autoplay.initialized=true;startAutoplay()},settings.autoplayTimeout);if(settings.autoplayHoverPause){$nav.add($stage).on("mouseenter",function(){pauseAutoplay()}).on("mouseleave",function(){resumeAutoplay()})}}initEvents();readyCheck()}function setElements(){items.$original=$carousel.find("."+settings.itemsClass);items.$current=items.$original;$stage=$carousel.find("."+settings.stageClass);$viewport=$carousel.find("."+settings.viewportClass)}function setItemData(){var itemPositionCount=1;items.$current.each(function(){$(this).data("item-position",itemPositionCount);itemPositionCount+=1});items.$current.first().addClass(settings.activeClass).next().addClass(settings.nextToActiveClass);items.$current.prev().addClass(settings.prevToActiveClass)}function generateNav(){$carousel.append('<div class="'+settings.navClass+'">'+'<span class="'+settings.prevBtnClass+'"><svg class="svg-icon--left"><use xlink:href="#svg-icon-left"></use></svg> </span> <span class="'+settings.nextBtnClass+'"> <svg class="svg-icon--right"><use xlink:href="#svg-icon-right"></use></svg> </span>'+"</div>");$nav=$carousel.find("."+settings.navClass);$nextBtn=$nav.find("."+settings.nextBtnClass);$prevBtn=$nav.find("."+settings.prevBtnClass)}function initLoop(){var shortList=items.$original.length<6;var numToAppend=Math.ceil(items.$original.length/2);var numToPrepend=items.$original.length-numToAppend;var $clonesToPrepend=shortList?items.$original.clone():items.$original.last().prevAll(":lt("+(numToPrepend-1)+")").andSelf().clone();var $clonesToAppend=shortList?items.$original.clone():items.$original.first().nextAll(":lt("+(numToAppend-1)+")").andSelf().clone();$clonesToAppend.add($clonesToPrepend).addClass("cloned").removeClass(settings.activeClass).removeClass(settings.nextToActiveClass).removeClass(settings.prevToActiveClass);$stage.prepend($clonesToPrepend).append($clonesToAppend);var offset=getCollectionWidth($clonesToPrepend);moveStage(offset,false,function(){removeFromReadyQueue("loop")});updateCurrentItems();updateStageWidth()}function addToReadyQueue(process){}function removeFromReadyQueue(process){}function readyCheck(){if(carouselReadyQueue.added.length===carouselReadyQueue.removed.length){carouselReady=true;$carousel.addClass(settings.loadedClass).data("is-loaded",true).trigger("carousel.ready")}}function generateHTML(){var $itemsParent=settings.updateItemsParent?$carousel.find(settings.updateItemsParent):$carousel;var $itemsToWrap=$itemsParent.children();$itemsToWrap.removeClass(settings.itemsClass);$itemsParent.wrapInner('<ul class="'+settings.stageClass+'"/>');$carousel.wrapInner('<div class="'+settings.viewportClass+'"/>');$itemsToWrap.wrap('<li class="'+settings.itemsClass+'"/>')}function setImageDrivenWidth(removeStyles){items.$current.each(function(){var $this=$(this);var $img=$($this.find("img")[0]);var imgWidth=$img.width();if($img.length&&imgWidth>0&&($img.context.naturalWidth!==undefined&&$img.context.naturalWidth>0)){if(!removeStyles){$this.css({"max-width":++imgWidth})}else{$this.css({"max-width":""})}}else{$this.addClass(settings.itemsClass+"--no-image");$this.css({"max-width":"450px"})}})}function forceItemNumRouter(){if(typeof settings.forceItemNum==="number"&&!settings.forceItemNumMap){resizeItem(settings.forceItemNum)}else if(settings.forceItemNumMap&&typeof settings.forceItemNumMap==="object"){forceItemNumMap()}}function forceItemNumMap(){var useDefault=true;var width=$window.width();for(var breakpointWidth in settings.forceItemNumMap){if(settings.forceItemNumMap.hasOwnProperty(breakpointWidth)){var val=settings.forceItemNumMap[breakpointWidth];if(width<breakpointWidth){resizeItem(val);settings.moveBy=val;useDefault=false;return}}}if(useDefault){settings.moveBy=settings.forceItemNum;resizeItem(settings.forceItemNum)}}function resizeItem(itemNum){var newItemWidth=$viewport.width()/itemNum;if(forceItemNum.width!==newItemWidth){forceItemNum.width=newItemWidth;resetPosition()}}function updateCurrentItems(){items.$current=$carousel.find("."+settings.itemsClass);items.$active=items.$current.filter("."+settings.activeClass);items.$nextToActive=items.$current.filter("."+settings.nextToActiveClass);items.$prevToActive=items.$current.filter("."+settings.prevToActiveClass)}function updateStageWidth(){$stage.width(getCollectionWidth(items.$current)*2)}function updateToMobileView(){$carousel.trigger("carousel.update-to-mobile.start");mobileViewActive=true;$carousel.addClass(settings.mobileViewClass);settings.imageDriven&&setImageDrivenWidth(true);forceItemNum.width=$viewport.width();resetPosition();removeFromReadyQueue("mobile");$carousel.trigger("carousel.update-to-mobile.complete")}function escapeMobileView(){mobileViewActive=false;$carousel.removeClass(settings.mobileViewClass);forceItemNum.width=false;settings.imageDriven&&setImageDrivenWidth();resetPosition()}function resetPosition(){pauseAutoplay();updateCurrentItems();$carousel.addClass(settings.pauseAnimationClass);var newItemWidth=forceItemNum.width?forceItemNum.width:"";stage.offset=0;stage.margin=0;items.$current.css({width:newItemWidth});var offset=getCollectionWidth(items.$active.prevAll());updateStageWidth();moveStage(offset,false,resumeAutoplay);$carousel.removeClass(settings.pauseAnimationClass)}function updateStageMargin(margin){$stage.css({"margin-left":parseFloat(margin)+"px"})}function getItemWidth(item){return $(item).outerWidth(true)}function getCollectionWidth(collection){var collectionWidth=0;$(collection).each(function(){collectionWidth+=getItemWidth(this)});return collectionWidth}function startAutoplay(){if(autoplay.initialized&&!autoplay.paused){$carousel.trigger("carousel.autoplay.start");autoplay.timeout=setTimeout(function(){moveNext();startAutoplay()},settings.autoplaySpeed)}}function pauseAutoplay(){if(!autoplay.paused){clearTimeout(autoplay.timeout);autoplay.paused=true;$carousel.trigger("carousel.autoplay.pause")}}function resumeAutoplay(){if(autoplay.paused){autoplay.paused=false;startAutoplay()}}function moveStage(distance,backward,callback){$carousel.trigger("carousel.move-stage.start");var distNumber=parseFloat(distance);var offset=!backward?-1*distNumber:distNumber;var newPosition=stage.offset+offset;stage.offset=newPosition;updateStagePosition(newPosition,callback);settings.loop&&updateStageMargin(stage.margin)}function updateStagePosition(distance,callback){if($html.hasClass("csstransforms3d")){$stage.css({transform:"translate3d("+distance+"px, 0px, 0px)"})}else{$stage.css({left:distance+"px"})}$stage.on("transitionend",function(){$carousel.trigger("carousel.move-stage.complete");callback&&callback();$stage.off("transitionend")})}function getItemsToMove(backwards){var $itemsToMove=backwards?items.$nextActive.nextUntil(items.$active).andSelf():items.$active.nextUntil(items.$nextActive).andSelf();return $itemsToMove}function setNextActive(backwards){if(!backwards){var $nextSiblings=items.$active.nextAll().andSelf();if($nextSiblings.length>settings.moveBy){items.$nextActive=$nextSiblings.filter(":eq("+settings.moveBy+")")}else if(!items.$active.is(":last-child")){items.$nextActive=items.$active.next()}else{items.$nextActive=false}}else{var $prevSiblings=items.$active.prevAll().andSelf();if($prevSiblings.length>settings.moveBy){items.$nextActive=items.$current.filter(":eq("+(items.$active.index()-settings.moveBy)+")")}else if(!items.$active.is(":first-child")){items.$nextActive=items.$active.prev()}else{items.$nextActive=false}}}function move(backwards){updateCurrentItems();setNextActive(backwards);if(items.$nextActive){removeItemClasses();setItemClasses(backwards);var $itemsToMove=getItemsToMove(backwards);var offset=getCollectionWidth($itemsToMove);if(settings.loop){if(backwards){var $toRelocate=items.$current.last().prevAll(":lt("+(settings.moveBy-1)+")").andSelf();stage.margin-=parseFloat(getCollectionWidth($toRelocate));$toRelocate.prependTo($stage)}else{var $toRelocate=items.$current.first().nextAll().andSelf().filter(":lt("+settings.moveBy+")");stage.margin+=parseFloat(getCollectionWidth($toRelocate));$toRelocate.appendTo($stage)}}moveStage(offset,backwards)}}function moveNext(){move(false)}function movePrev(){move(true)}function setItemClasses(){items.$nextActive.addClass(settings.activeClass).next().addClass(settings.nextToActiveClass);items.$nextActive.prev().addClass(settings.prevToActiveClass)}function removeItemClasses(){items.$active.removeClass(settings.activeClass);items.$nextToActive.removeClass(settings.nextToActiveClass);items.$prevToActive.removeClass(settings.prevToActiveClass)}function getInQueue(){return carouselReadyQueue}preInitialize();return{move:moveStage,next:moveNext,prev:movePrev,pauseAutoplay:pauseAutoplay,resumeAutoplay:resumeAutoplay,queue:getInQueue,reset:resetPosition}}})(window.jQuery,window,document);
var axs=window.axs||{};axs.Core=function(){var $html=$("html"),$body=$("body");var cookieConsentInit=function(){var country=$.cookie(geoTypes.Geo_Static)?$.cookie(geoTypes.Geo_Static).split(":")[0]:"";var isCookiePolicyEnabledCountry=false;if($.inArray(country,$.parseJSON(cookiePolicyEnabledCountries))>-1){$("#cookieFooter").show();isCookiePolicyEnabledCountry=true}$("#axs_cookie_toggle .svg-icon--close").click(function(){$("#axs_cookie_banner").hide()});$("#axs_cookie_toggle .cookie_policy_anchor").click(function(){$("#axs_cookie_banner").clearQueue();$("#axs_cookie_banner").toggle("fast")});$("#axs_cookie_toggle a.accept").click(function(){$.cookie("axs_consent_to_write_cookies","true",{expires:new Date(2029,11,31),path:"/"});$("#axs_cookie_banner").hide();$("#axs_cookie_toggle .cookie_policy_anchor").hide()});if($.cookie("axs_consent_to_write_cookies")==="true"||!isCookiePolicyEnabledCountry){$("#axs_cookie_toggle .cookie_policy_anchor").hide()}else{if($.cookie("axs_consent_to_write_cookies")==null){$("#axs_cookie_toggle .cookie_policy_anchor").show();$("#axs_cookie_banner").show().delay(3e4).fadeOut();$.cookie("axs_consent_to_write_cookies","false",{expires:new Date(2029,11,31),path:"/"})}else{$("#axs_cookie_toggle .cookie_policy_anchor").show()}}};var nl2br=function(str,is_xhtml){var breakTag=is_xhtml||typeof is_xhtml==="undefined"?"<br "+"/>":"<br>";return(str+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+breakTag+"$2")};function setupShareViaEmail(){$(".btn-share--email").on("click",function(e){e.preventDefault();$("#sharemod").data("axsModal").show()});$("#txtMsg").keyup(function(){var txtMsgVal=$("#txtMsg").val();if(txtMsgVal==="Add a personal message:"||txtMsgVal===""){$("#share_event_predefined_msg").show();$("#share_event_custom_msg").hide()}else{var txtMsgValWithBr=nl2br(txtMsgVal);$("#share_event_predefined_msg").hide();$("#share_event_custom_msg").html(txtMsgValWithBr).show()}});$("#txtFromName").keyup(function(){var firstName=$("#txtFromName").val();var orig=$("#txtFromName").attr("orig");if(firstName===""||firstName==="First name"){firstName=orig}$("#txtShareEventName").text(firstName)});$("#sharemod .send_button").on("click",function(e){e.preventDefault();var thisModal=$(this).closest(".modal");axs.animations.loadingElement.start(thisModal);var fromName=$("#txtFromName").val();var sendTo=$("#txtSendTo").val();var eventImg=$("#share_event_img_div").html();var eventInfo=$("#share_event_info").html();var defaultMsg=$("#share_event_predefined_msg").html();var msg=$("#txtMsg").val();var sendEmailToSelf=$("#chkSendEmailToSelf").prop("checked");var headline=$("#sTxtHeadline").html();var supportingActs=$("#sTxtSupportingActs").html();var venueName=$("#sTxtVenueName").html();var eventDate=$("#sTxtEventDate").html();var eventEDPUrl=$("#sTxtEDPUrl").html();var eventImageUrl=$("#sImgEventImage").attr("src");var tourTitle=$("#sTxtTourTitle").html();var country=$.cookie(geoTypes.Geo_Static)?$.cookie(geoTypes.Geo_Static).split(":")[0]:"";var ticketUrl=$("#hid_ticketLink").val();if(msg===""||msg==="Add a personal message:"){msg=fromName+" "+eventTranslations.share.sharePredefinedMessage}var emailReg=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;var error=false;$("#myaxs-share-event-email_from_error").text("");$("#myaxs-share-event-email_send_to_error").text("");if($.trim(fromName)===""||fromName.toLowerCase()==="first name"){$("#myaxs-share-event-email_from_error").text(eventTranslations.emailDialog.validationMessages.name);error=true}if($.trim(sendTo)===""||sendTo.toLowerCase()==="email address"){$("#myaxs-share-event-email_send_to_error").text(eventTranslations.emailDialog.validationMessages.email.required);error=true}else if(!emailReg.test(sendTo)){$("#myaxs-share-event-email_send_to_error").text(eventTranslations.emailDialog.validationMessages.email.invalid);error=true}if(!error){var dataStr=JSON.stringify({fromName:fromName,sendTo:sendTo,msg:encodeURIComponent(msg),sendEmailToSelf:sendEmailToSelf,eventImg:eventImg,eventInfo:encodeURIComponent(eventInfo),defaultMsg:encodeURIComponent(defaultMsg),headline:encodeURIComponent(headline),supportingActs:encodeURIComponent(supportingActs),venueName:encodeURIComponent(venueName),eventDate:eventDate,eventEDPUrl:encodeURIComponent(eventEDPUrl),eventImageUrl:eventImageUrl,tourTitle:tourTitle,country:country,ticketUrl:encodeURIComponent(ticketUrl)});$.ajax({type:"POST",async:false,url:Routing.generate("api_proxy_share_event_email")+"?locale="+locale,data:dataStr,dataType:"json",success:function(data){$("#sharemod").data("axsModal").hide();axs.animations.loadingElement.stop(thisModal);$("#share-methods-confirm").appendTo($("#share-methods-confirm").parent()).show().delay(1e4).fadeOut(1e3);var logData={};logData.event=eventData;logData.user=userData;$.post(Routing.generate("api_global_logger_post")+"?application=AXS&actionType=share_event_email",JSON.stringify(logData))},error:function(req,status,error){axs.animations.loadingElement.stop(thisModal);$("#myaxs-share-event-email_from_error").text("There was an error processing your request. Please try again later.")}})}else{axs.animations.loadingElement.stop(thisModal)}})}function setupModals(){$("#myaxs_container_login").axsModal();$("#myaxs_container_create").axsModal();$("#sharemod").axsModal();$("#sharemod-confirm").axsModal();$("#axs-newsletter-dialog").axsModal();$("#global-search").axsModal({oldModal:false});$("#location-search").axsModal({oldModal:false});$("#music-genre").axsModal({oldModal:false});$("#sports-genre").axsModal({oldModal:false});$("#art-genre").axsModal({oldModal:false});$("#headlines-genre").axsModal({oldModal:false});$("#amexmod").axsModal({triggers:".btn-amex-points"})}function setupGenericModals(){$("[data-modal-id]").each(function(){var modal=String($(this).data("modalId")).replace("#","");var autoModal=$("#"+modal).axsModal({triggers:this})})}function setupTrendingTopicsTicker(){var section="#trending-topics";if($(section).length){var topicsTicker=new axs.Ticker({container:section,content:".trending-topics-banner__container--layout"});axs.pubsub.subscribe("trendingTopics","navstatus",function(e,nav){if(nav.attach){topicsTicker.reset()}else{topicsTicker.start()}});if(axs.Analytics){var pageKey=axs.Core.pageKey?axs.Core.pageKey:"pageKeyUndefined";$(section).find("a").on("click",function(){axs.Analytics.trackTrendingTopicsClick(pageKey,$(this).text().toLowerCase())})}}}function setupLanguageSelector(element){$(element).on("click.locationSelection",function(e){e.preventDefault();var _locale=$(this).data("locale");window.location.href=window.location.href=axs.utilities.getLocalizedURL(_locale)})}function getTeaserType(articleModel){var className="";if(articleModel.video!==null){className="teaser--video"}else if(articleModel.slideshow&&articleModel.slideshow.length){className="teaser--slideshow"}return className}var myaxsAuthPanel="myaxs-auth-include",currentMyaxsAuthPanel="myaxs-auth-include-current";function setupOmniture(element){$(element).each(function(){$(this).on("click.omniture",function(){var omnitureAction=$(this).attr("omAction");switch(omnitureAction){case"create_account":if(axs.Analytics){axs.Analytics.trackSignUpAnalytics()}break;case"sign_in":break;case"my_axs":break;case"log_out":break}})})}function setupAXSNewsletter(element){$(element).on("click",function(e){e.preventDefault();if($("#axs-newsletter-dialog > #user").attr("class")==="y"){axs.Global.setUserSubscription("axs",true,function(retval){if(retval){$("#axs-newsletter-dialog #not-logged-in").hide();$("#axs-newsletter-dialog #signed-up").show()}},true)}axs.Core.initAxsNewsletterPopup()})}function resolveBrowserFallbacks(){function getBrowserData(){var userAgent=navigator.userAgent.toLowerCase(),isChrome=userAgent.indexOf("chrome")>-1,isFirefox=userAgent.indexOf("firefox")>-1,isSafari=userAgent.indexOf("safari")>-1,isAdroid=userAgent.indexOf("android")>-1,isOpera=userAgent.indexOf("presto")>-1,isOldIE=userAgent.indexOf("msie")>-1;if(isChrome&&isSafari){isSafari=false}if(isChrome){$html.addClass("browser--chrome")}if(isFirefox){$html.addClass("browser--firefox")}if(isSafari){$html.addClass("browser--safari")}if(isOpera){$html.addClass("browser--opera")}if(isAdroid){$html.addClass("is-android")}if(isOldIE){$html.addClass("browser--unsupported")}}function initBrowserDetectionBanner(){if($html.hasClass("browser--unsupported")&&$.cookie("browser_detection")!=true){var updateBrowserBanner=$("#update-your-browser");updateBrowserBanner.show();updateBrowserBanner.find(".close-btn").click(function(){$.cookie("browser_detection",1,24);updateBrowserBanner.remove()})}}$("html").removeClass("no-js").addClass("js");getBrowserData();initBrowserDetectionBanner()}function initAxsEmailSignupForm(dnau){$("form#axs-email-signup-form").validate();$("form#axs-email-signup-form").on("submit",function(e){e.preventDefault();$("#axs-email-signup-form-error").text("");var fname=$("input#axs-email-signup-fname").val();if(!fname||fname==="Enter your first name"||fname==="First Name"){$("#axs-email-signup-form-error").text(translations.newsletterForm.formFields.firstName.validationMessages.required);return false}var lname=$("input#axs-email-signup-lname").val();if(!lname||lname==="Enter your last name"||lname==="Last Name"){$("#axs-email-signup-form-error").text(translations.newsletterForm.formFields.name.lastName.validationMessages.required);return false}var zip=$("input#axs-email-signup-zip").val();if(!zip||zip==="Enter your Zip/Postal code"){$("#axs-email-signup-form-error").text(translations.newsletterForm.formFields.email.validationMessages.required);return false}var email=$("input#axs-email-signup-email").val();var email2=$("input#axs-email-signup-email2").val();if(email!==email2){$("#axs-email-signup-form-error").text(translations.newsletterForm.formFields.confirmEmail.validationMessages.mismatch);return false}var country=$.cookie(geoTypes.Geo_Static)?$.cookie(geoTypes.Geo_Static).split(":")[0]:"";$.ajax({type:"POST",async:true,url:Routing.generate("axs_email_update_fulfillment_api"),data:JSON.stringify({email:email,first_name:fname,last_name:lname,zip:zip,country:country}),dataType:"json",success:function(data){if(data.error){if(data.error_description){$("#axs-email-signup-form-error").text("Error: "+data.error_description)}}else{$("#axs-newsletter-dialog #not-logged-in").hide();$("#axs-newsletter-dialog #signed-up").show()}},error:function(req,status,error){if(error)$("#axs-email-signup-form-error").text("Error: "+error);else $("#axs-email-signup-form-error").text("Error during account creation.  Try one more time, then contact customer service.")}});$("#axs-newsletter-dialog #not-logged-in").hide();$("#axs-newsletter-dialog #signed-up").show();return true})}return{initialize:function(){$.get("/axs/bundles/aegaxs/icons/defs/icon-defs.svg",function(e){var svgSpriteElement=e.childNodes[0];svgSpriteElement.style.height=0;svgSpriteElement.style.width=0;svgSpriteElement.style.float="left";$body.append(svgSpriteElement)});resolveBrowserFallbacks();axs.utilities=new axs.ExtendUtilities;axs.animations=new axs.ExtendAnimations;axs.takeover=new axs.ExtendTakeover;axs.flyout=new axs.ExtendFlyout;axs.UIFramework=new axs.ExtendUIFramework;axs.Core.share();axs.Global.partnerLogos();axs.Location.locationInitialize();axs.Core.displayLocaleContent();axs.Twitter.initialize();axs.Search.initialize();setupGenericModals();setupModals();setupTrendingTopicsTicker();setupLanguageSelector("#language-selector .local_link, #locale-banner .local_link");setupOmniture(".omniture-my-axs");setupAXSNewsletter(".nav_mail > a");$("#tabs").tabs();initAxsEmailSignupForm();if(!Modernizr.placeholder){axs.Global.searchValue("#q");axs.Global.searchValue("#location_input",translations.location.searchDefaultText)}axs.Global.searchEventHandling("#q");axs.Twitter.initialize();if(Modernizr.touchevents){$(document).on("focus","input",function(e){$body.addClass("bugfix-iosfixedfocus");if($(this).closest("#global-nav").length){$body.addClass("bugfix-iosfixedfocus-nav")}}).on("blur","input",function(e){$body.removeClass("bugfix-iosfixedfocus");if($(this).closest("#global-nav").length){$body.removeClass("bugfix-iosfixedfocus-nav")}})}setupShareViaEmail();$(".share-url-box").on("click",function(e){e.preventDefault();$(this).select()});try{cookieConsentInit()}catch(err){}},displayLocaleContent:function(){var $countryInput=$("#country");var countryCodes={US:"US",UK:"UK",GB:"GB",sweden:"SE",canada:"CA"};if($countryInput.length){var country=countryCodes.US;if($countryInput.val()!==""){country=$countryInput.val()}switch(country){case countryCodes.UK:case countryCodes.GB:case countryCodes.sweden:$("#registrationConsentUS").hide();$("#registrationConsentUK").show();break;case countryCodes.canada:$(".canada-only").show();$(".no-canada").hide();break}}},publishMediaBreakpoint:function(){axs.pubsub.publish("media.breakpoint",{breakpoint:axs.UIFramework.getBreakpoint()})},share:function(){$(".share-google-plus").on("click",function(e){e.preventDefault();var data=$(this).data("social");var type=$(this).data("type");window.open(data.url,"googleplus","toolbar=no,location=no,directories=no,width=500,height=480,top=100");if(typeof logData!="undefined"){axs.utilities.logData("share_"+type+"_google_plus",logData)}});$(".share-twitter").on("click",function(e){e.preventDefault();var data=$(this).data("social");var type=$(this).data("type");window.open(data.url,"twitter","toolbar=no,location=no,directories=no,width=415,height=480,top=100");if(typeof logData!="undefined"){axs.utilities.logData("share_"+type+"_twitter",logData)}});$(".share-facebook").on("click",function(e){e.preventDefault();var data=$(this).data("social");var type=$(this).data("type");axs.Facebook.shareDialog(data["url"]);if(typeof logData!="undefined"){axs.utilities.logData("share_"+type+"_facebook",logData)}});$(".email-send-btn").on("click",function(e){e.preventDefault();var personalMessage=$("#txtMsg").val();if(personalMessage===$("#txtMsg").html()){personalMessage=null}var data={senderName:$("#txtFromName").val(),sendTo:$("#txtSendTo").val(),personalMsg:personalMessage,locale:locale};if(typeof emailData==="undefined"){emailData={}}if($("#hdn_csrf_token")[0]){data.csrf_token=$("#hdn_csrf_token").val()}$.extend(true,data,emailData);var thisModal=$(this).closest(".modal");axs.animations.loadingElement.start(thisModal);var msg=$("#txtMsg").val();if(msg=="Add a personal message")msg="";var emailReg=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;var error=false;$("#myaxs-share-event-email_from_error").text("");$("#myaxs-share-event-email_send_to_error").text("");var fromName=$("#txtFromName").val();var sendTo=$("#txtSendTo").val();if($.trim(fromName)==""||fromName.toLowerCase()=="first name"){$("#myaxs-share-event-email_from_error").text(eventTranslations.emailDialog.validationMessages.name);error=true}if($.trim(sendTo)==""||sendTo.toLowerCase()=="email address"){$("#myaxs-share-event-email_send_to_error").text(eventTranslations.emailDialog.validationMessages.email.required);error=true}else if(!emailReg.test(sendTo)){$("#myaxs-share-event-email_send_to_error").text(eventTranslations.emailDialog.validationMessages.email.invalid);error=true}if(!error){$.ajax({type:"POST",async:false,url:Routing.generate("api_proxy_email_send")+"?triggeredEmailExternalKey=AXS_Share_Content_Email&toEmail=&emailType=Share Content",data:JSON.stringify(data),dataType:"json",contentType:"application/json",success:function(data){axs.animations.loadingElement.stop(thisModal);$("#sharemod-confirm").data("axsModal").show();if(typeof logData!="undefined"){logData["emailContent"]=data;axs.utilities.logData("share_article_email",logData)}},error:function(req,status,error){axs.animations.loadingElement.stop(thisModal);$("#myaxs-share-event-email_from_error").text("There was an error processing your request. Please try again later.")}})}else{axs.animations.loadingElement.stop(thisModal)}})},closeAllPopups:function(){$(".ui-autocomplete:visible").hide()},outsideClick:function(){function OutsideClick(){var eventNamespace="mousedown.outside";function bindClick(exclusions,callback){var $exclusions=$(exclusions);$(document).on(eventNamespace,function(e){if($(e.target).closest($exclusions).length===0&&!$(e.target).is($exclusions)){e.stopPropagation();callback&&callback();unbindClick()}})}function unbindClick(){$(document).off(eventNamespace)}return{bind:bindClick,unbind:unbindClick}}return new OutsideClick}(),initShowPopups:function(){detectLoginSignupPopup()},initAuthForms:function(dnau){axs.Core.initAuthSignupForm(dnau);axs.Core.initAuthLoginForm(dnau)},showLoginForm:function(e){if(e!=null){e.preventDefault()}$("."+myaxsAuthPanel).removeClass(currentMyaxsAuthPanel).hide();$("#myaxs-sign-in-auth").addClass(currentMyaxsAuthPanel).show()},showCreateForm:function(e){if(e!=null){e.preventDefault()}$("."+myaxsAuthPanel).removeClass(currentMyaxsAuthPanel).hide();$("#myaxs-sign-up-auth").addClass(currentMyaxsAuthPanel).show();if(axs.Analytics)axs.Analytics.trackSignUpAnalytics()},showPasswordLostForm:function(e){if(e!=null){e.preventDefault()}$("#myaxs-reset-pwd-request-form-error").text("");$("#reset-pwd-invalid-email-error").hide();$("#reset_pwd_email").val("");$("."+myaxsAuthPanel).removeClass(currentMyaxsAuthPanel).hide();$(".myaxs-auth-include-pwlost").addClass(currentMyaxsAuthPanel).show()},initAuthEmbeddedForms:function(){axs.Core.initAuthForms();$("#myaxs-sign-up-auth").addClass(currentMyaxsAuthPanel).show();$("fb_sign_in_btn").replaceWith("fb_sign_up_btn");$(".myaxs-login-trigger").on("click",function(e){axs.Core.showLoginForm(e)});$(".myaxs-create-trigger").on("click",function(e){axs.Core.showCreateForm(e)});$("a.myaxs-pwlost").on("click",function(e){axs.Core.showPasswordLostForm(e)});if($.QueryString.signin==="true"){axs.Core.showLoginForm()}if($.QueryString.forgotpassword==="true"){axs.Core.showPasswordLostForm()}},initAuthPopups:function(dnau){if(authPopupsInitialized){return}authPopupsInitialized=true;axs.Core.initAuthForms(dnau);$(".myaxs-login-trigger").on("click",function(e){e.preventDefault();axs.Core.myaxsAuthSignInPopup(dnau)});$(".myaxs-create-trigger").on("click",function(e){e.preventDefault();axs.Core.myaxsAuthSignUpPopup(dnau)})},initAuthSignupForm:function(dnau){$.validator.addMethod("matchValue",function(value,element){if($(element).attr("placeholder")!==value&&value!==""){return true}else{return false}});jQuery.validator.setDefaults({success:"valid"});$("form#myaxs-create-form").validate({ignore:".password-placehoder-input",errorClass:"is-error",errorPlacement:function(error,element){var originalLabel=$(element).parent().find("label");if(originalLabel.length){originalLabel.hide();error.insertBefore(originalLabel)}if(ifHasPlaceholderPolyfill(element)){if(!$(element).is(":focus")&&$(element).val()===""){$(element).hide().prev().show()}}},highlight:function(element,errorClass,validClass){if(ifHasPlaceholderPolyfill(element)){$(element).addClass(errorClass).prev().addClass(errorClass)}else{$(element).addClass(errorClass)}},unhighlight:function(element,errorClass,validClass){if(ifHasPlaceholderPolyfill(element)){$(element).removeClass(errorClass).prev().removeClass(errorClass)}else{$(element).removeClass(errorClass)}},success:function(error){if(error.siblings("label").length){error.siblings("label").show();error.remove()}},rules:{axs_pass:{required:true,minlength:6},axs_fname:{matchValue:true},axs_lname:{matchValue:true},axs_email:{matchValue:true,equalTo:"#axs_email_create"}},messages:{axs_fname:translations.signUp.formFields.firstName.validationMessages.required,axs_lname:translations.signUp.formFields.lastName.validationMessages.required,axs_email:translations.signUp.formFields.email.validationMessages.required,axs_pass:{required:translations.signUp.formFields.password.validationMessages.required,minlength:$.validator.format(translations.signUp.formFields.password.validationMessages.minLength)},axs_zip:translations.signUp.formFields.postalCode.validationMessages.required,axs_email2:translations.signUp.formFields.confirmEmail.validationMessages.required,axs_pass2:translations.signUp.formFields.confirmPassword.validationMessages.required}});$("form#myaxs-create-form").on("submit",function(e){e.preventDefault();axs.Core.loadingScreen.show(function(){if($("form#myaxs-create-form").validate().form()==false){axs.Core.loadingScreen.hide();return}$("#myaxs-create-form-error").text("");var fname=$("input#axs_fname_create").val();var fnamePlaceholder=$("input#axs_fname_create").attr("placeholder");if(!fname||fname==="Enter your first name"||fname===fnamePlaceholder){$("#axs_fname_create").addClass("is-error");$("#myaxs-create-form-error").text("Error: first name is required.");return false}var lname=$("input#axs_lname_create").val();var lnamePlaceholder=$("input#axs_lname_create").attr("placeholder");if(!lname||lname==="Enter your last name"||lname===lnamePlaceholder){$("#myaxs-create-form-error").text("Error: last name is required.");return false}var $location=$("#axs_zip_create");var zip=$location.val();var cityId="";var country=$.cookie(geoTypes.Geo_Static)!=null?$.cookie(geoTypes.Geo_Static).split(":")[0]:"";if(country==="")country=$("#country").val();var sourceType=$("#sourceType").val();var sourceId=$("#sourceId").val();var clientId=$("#clientId").val();var axsClientId=$("#axsClientId").val();var callbackUrl=$("#callbackUrl").val();var skin=$("#skin").val();var axs_3rd_party=$("#axs_3rd_party_accept").attr("checked")==="checked";var email=$("input#axs_email_create").val();var email2=$("input#axs_email2_create").val();if(email!==email2){$("#myaxs-create-form-error").text("Error: Emails do not match");return false}var password=$("input#axs_pass_create").val();var password2=$("input#axs_pass2_create").val();if(password!==password2){$("#myaxs-create-form-error").text("Error: Passwords does not match");return false}var src=$.QueryString.src;var query=window.location.search;var pathname=window.location.pathname;$url=$("form#myaxs-create-form").attr("action");$loginUrl=$("form#myaxs-login-form").attr("action");var token=$("#hdn_csrf_token").val();var canadaConsentCheckbox=$("#caslAcceptance").prop("checked");var postData={email:email,password:password,first_name:fname,last_name:lname,zip:zip,city_id:cityId,country:country,csrf_token:token,src:src,query:query,pathname:pathname,sourceType:sourceType,sourceId:sourceId,axs_3rd_party:axs_3rd_party,axsClientId:axsClientId,clientId:clientId,callbackUrl:callbackUrl,skin:skin,canadaConsentCheckbox:canadaConsentCheckbox};if($("#enableAllCommunications").length){postData.enableAllCommunications=$("#enableAllCommunications").prop("checked")}$(".next-button",this).attr("disabled","disabled");$.ajax({type:"GET",url:$url,data:postData,dataType:"jsonp",success:function(data){if(typeof data==="string"){data=jQuery.parseJSON(data);if(data!=null&&data.redirect){window.location=data.redirect;return}}if(data.error){axs.Core.loadingScreen.hide();$("form#myaxs-create-form .next-button").removeAttr("disabled");if(data.error_description){$("#myaxs-create-form-error").text("Error: "+data.error_description)}}else{$.ajax({type:"GET",async:false,url:$loginUrl,dataType:"jsonp",data:{_username:email,_password:password,csrf_token:token,isMobile:false},success:function(data){if(data.error){axs.Core.loadingScreen.hide();$("form#myaxs-create-form .next-button").removeAttr("disabled");if(data.error_description){$("#myaxs-create-form-error").text("Error: "+data.error_description)}else{$("#myaxs-create-form-error").text("Problem with authentication.  Please call customer service, or try again.")}}else{try{if(axs.Analytics)axs.Analytics.trackStandardAccountCreateCompleteAnalytics(data.id)}catch(e){}if($(".login_reload_home")[0]){window.location=axs.Global.utilities.generateURL("default_index",{_locale:locale})}else{window.location.reload()}}},error:function(req,status,error){axs.Core.loadingScreen.hide();$("form#myaxs-create-form .next-button").removeAttr("disabled");if(error){$("#myaxs-login-form-error").text("Error: "+error).show()}else{$("#myaxs-login-form-error").text("Error.  Please contact customer service, or try again.").show()}}})}},error:function(req,status,error){$("form#myaxs-create-form .next-button").removeAttr("disabled");if(error){$("#myaxs-create-form-error").text("Error: "+error)}else{$("#myaxs-create-form-error").text("Error during account creation.  Try one more time, then contact customer service.")}}})})})},initAuthLoginForm:function(dnau){$("form#myaxs-login-form").validate({ignore:".password-placehoder-input",errorClass:"is-error",errorPlacement:function(error,element){var originalLabel=$(element).parent().find("label");if(originalLabel.length){originalLabel.hide();error.insertBefore(originalLabel)}if(ifHasPlaceholderPolyfill(element)){if(!$(element).is(":focus")&&$(element).val()===""){$(element).hide().prev().show()}}},highlight:function(element,errorClass,validClass){if(ifHasPlaceholderPolyfill(element)){$(element).addClass(errorClass).prev().addClass(errorClass)}else{$(element).addClass(errorClass)}},unhighlight:function(element,errorClass,validClass){if(ifHasPlaceholderPolyfill(element)){$(element).removeClass(errorClass).prev().removeClass(errorClass)}else{$(element).removeClass(errorClass)}},success:function(error){if(error.siblings("label").length){error.siblings("label").show();error.remove()}},messages:{_username:translations.signUp.formFields.email.validationMessages.required,_password:translations.signUp.formFields.password.validationMessages.required}});$("form#myaxs-login-form").on("submit",function(e){e.preventDefault();axs.Core.loadingScreen.show(function(){if($("form#myaxs-login-form").validate().form()==false){axs.Core.loadingScreen.hide();return}$("#myaxs-login-form-error").text("").hide();var email=$("input#axs_email_login").val();var password=$("input#axs_pass_login").val();var token=$("#hdn_csrf_token").val();var clientId=$("#clientId").val();var axsClientId=$("#axsClientId").val();var callbackUrl=$("#callbackUrl").val();var skin=$("#skin").val();$url=$("form#myaxs-login-form").attr("action");$.ajax({type:"GET",dataType:"jsonp",url:$url,data:{_username:email,_password:password,csrf_token:token,axsClientId:axsClientId,clientId:clientId,callbackUrl:callbackUrl,skin:skin},success:function(data){if(data!=null&&data.redirect){window.location=data.redirect;return}if(data.error){axs.Core.loadingScreen.hide();if(data.error_description){$("#myaxs-login-form-error").text(translations.login.badCredentials).show()}else{$("#myaxs-login-form-error").text("Problem with authentication.  Please call customer service, or try again.").show()}}else{if(axs.Analytics){axs.Analytics.trackStandardSignInCompleteAnalytics(data.id)}callback=$("#myaxs_container_login").data("callback");if(callback!=null){$("#myaxs_container_login").data("callback").resolve(data.id);setTimeout(function(){location.reload()},500)}else if($(".login_reload_home")[0]){window.location=axs.Global.utilities.generateURL("default_index",{_locale:locale})}else{location.reload()}}},error:function(req,status,error){axs.Core.loadingScreen.hide();if(error)$("#myaxs-login-form-error").text("Error: "+error).show();else $("#myaxs-login-form-error").text("Error.  Please contact customer service, or try again.").show()}})})})},initAxsEmailSignupForm:function(dnau){$("form#axs-email-signup-form").validate();$("form#axs-email-signup-form").on("submit",function(e){e.preventDefault();$("#axs-email-signup-form-error").text("");var fname=$("input#axs-email-signup-fname").val();if(!fname||fname==="Enter your first name"||fname==="First Name"){$("#axs-email-signup-form-error").text(translations.newsletterForm.formFields.firstName.validationMessages.required);return false}var lname=$("input#axs-email-signup-lname").val();if(!lname||lname==="Enter your last name"||lname==="Last Name"){$("#axs-email-signup-form-error").text(translations.newsletterForm.formFields.name.lastName.validationMessages.required);return false}var zip=$("input#axs-email-signup-zip").val();if(!zip||zip==="Enter your Zip/Postal code"){$("#axs-email-signup-form-error").text(translations.newsletterForm.formFields.email.validationMessages.required);return false}var email=$("input#axs-email-signup-email").val();var email2=$("input#axs-email-signup-email2").val();if(email!==email2){$("#axs-email-signup-form-error").text(translations.newsletterForm.formFields.confirmEmail.validationMessages.mismatch);return false}var country=$.cookie(geoTypes.Geo_Static)?$.cookie(geoTypes.Geo_Static).split(":")[0]:"";$.ajax({type:"POST",async:true,url:Routing.generate("axs_email_update_fulfillment_api"),data:JSON.stringify({email:email,first_name:fname,last_name:lname,zip:zip,country:country}),dataType:"json",success:function(data){if(data.error){if(data.error_description){$("#axs-email-signup-form-error").text("Error: "+data.error_description)}}else{$("#axs-newsletter-dialog #not-logged-in").hide();$("#axs-newsletter-dialog #signed-up").show()}},error:function(req,status,error){if(error)$("#axs-email-signup-form-error").text("Error: "+error);else $("#axs-email-signup-form-error").text("Error during account creation.  Try one more time, then contact customer service.")}});$("#axs-newsletter-dialog #not-logged-in").hide();$("#axs-newsletter-dialog #signed-up").show();return true})},initAxsNewsletterPopup:function(){$("#axs-newsletter-dialog").data("axsModal").show()},getTeaserTypeClass:getTeaserType,sendGeo:function(){},locationRedirect:function($url){window.location=$url},follow:function(userId,categoryId,objectId,followButton){if(userId===0||userId===""){var callBackWhenLoginSuccess=$.Deferred();callBackWhenLoginSuccess.then(function(c_userID){axs.Core.follow(c_userID,categoryId,objectId,followButton)});$(followButton).data("donotshowalert",true);axs.Core.myaxsAuthSignInPopup(null,callBackWhenLoginSuccess);return false}else{if(typeof followButton!=="undefined")$(followButton).closest(".follower").hide().prev(".following").show();var comingFromRemindMe=$(followButton).data("callFromRemindMe");if(comingFromRemindMe!==null&&comingFromRemindMe){$(followButton).data("callFromRemindMe",false);var donotshowalert=$(followButton).data("donotshowalert");if(donotshowalert==null||!donotshowalert){$(followButton).data("donotshowalert",false);alert(eventTranslations.follow.followingAlertMessage)}}$.ajax({type:"POST",async:true,url:Routing.generate("alert_add")+"/"+userId+"/"+categoryId+"/"+objectId,dataType:"json",success:function(data){if(data==="success"){}else{alert("Failed due to "+data)}}});return true}},unfollow:function(userId,categoryId,objectId,unfollowButton){if(userId==0){}else{if(typeof unfollowButton!=="undefined"){$(unfollowButton).closest(".following").hide().next(".follower").show()}$.ajax({type:"POST",async:true,url:Routing.generate("alert_remove")+"/"+userId+"/"+categoryId+"/"+objectId,dataType:"json",success:function(data){if(data==="success"){}else{alert("Failed due to "+data)}}})}},showLoader:function($class_name){var $element=$class_name instanceof jQuery?$class_name:$($class_name);$element.addClass("loader")},hideLoader:function($class_name){var $element=$class_name instanceof jQuery?$class_name:$($class_name);$element.removeClass("loader")},getTeaserTypeClass:getTeaserType,takeover:function(){function TakeoverSkin(){var cssProdPath="https://d1ya1fm0bicxg1.cloudfront.net/skins/takeover/",cssLocalPath="https://localhost/axs/bundles/aegaxs/takeovers/",cssExtention=".theme.css",cssId="takeover-css-link",$clickable=$("body, #page-relative-block, .ad-top-leaderboard"),$topAds=$(".ad-top-leaderboard, #ad-leaderboard"),delay=500,clickEvent="click.takeover",takeoverIsActive=false,takeoverTestIsActive=false,disableOnLocalMachine=false,disableTakeovers=false,testSettings,tName,tUrl,cssHref,$css,takeoverTimeout;function setVariables(){tName=takeover_name;tUrl=takeover_url;cssHref=cssProdPath+tName+"/"+tName+cssExtention;setCssLink(cssHref)}function setCssLink(href){$css=$('<link id="'+cssId+'" rel="stylesheet" type="text/css" media="screen" href="'+href+'">');
}function setTakeover(){if(isActive()){$body.prepend($css);$clickable.on(clickEvent,function(e){if(e.target===this){window.open(tUrl)}});axs.pubsub.publish("takeoverSkin",{active:true});var carousels=$("*").filter(function(){return $(this).data("axs-carousel")!==undefined});if(carousels.length){carousels.each(function(){if($(this).data("is-loaded")){$(this).data("axs-carousel").reset()}})}takeoverIsActive=true}}function setTakeoverTimeout(callback){takeoverTimeout=setTimeout(callback,delay)}function resizeTimeoutCallback(){if(takeoverTestIsActive){setTestVariables();setTakeover()}else{attemptTakeover(setTakeover)}}function removeTakeover(){if(takeoverIsActive){resetVariables();removeTakeoverElements()}}function disableAllTakeovers(){disableTakeovers=true}function resetVariables(){takeover_name=undefined;takeover_url=undefined;tName=false;tUrl=false}function evaluateWindow(){return $(window).width()>750}function isActive(){return tName&&tUrl&&!takeoverIsActive&&!disableTakeovers}function setTestVariables(options){var defaults={takeover_name:"monsteradidas",takeover_url:"http://www.google.com",local:true,cssHref:false};testSettings=testSettings&&!options?testSettings:$.extend(defaults,options);tName=testSettings.takeover_name;tUrl=testSettings.takeover_url;if(testSettings.cssHref){cssHref=testSettings.cssHref}else{cssHref=testSettings.local?cssLocalPath+tName+"/"+tName+cssExtention:cssProdPath+tName+"/"+tName+cssExtention}setCssLink(cssHref)}function removeTakeoverElements(){$topAds.children().remove();$("#"+cssId).remove();$clickable.off(clickEvent);takeoverIsActive=false;axs.pubsub.publish("takeoverSkin",{active:false})}function initTestTakeover(options){takeoverTestIsActive=true;disableOnLocalMachine=false;disableTakeovers=false;removeTakeover();setTestVariables(options);initialize()}function attemptTakeover(callback){var attemptCount=0;clearTimeout(timeoutCallback);var timeoutCallback=function(){if(attemptCount<5){if(checkForVariables()){setVariables();callback&&callback()}else{attemptCount++;setTakeoverTimeout(timeoutCallback)}}};setTakeoverTimeout(timeoutCallback)}function checkForVariables(){return typeof takeover_name!=="undefined"||typeof takeover_url!=="undefined"}function bindEvents(){$(window).on("resize.takeover",function(){clearTimeout(takeoverTimeout);if(evaluateWindow()){setTakeoverTimeout(resizeTimeoutCallback)}else{removeTakeover()}})}function initialize(){if(disableOnLocalMachine&&window.location.href.indexOf("localhost")>-1){disableAllTakeovers()}if(takeoverTestIsActive){setTakeover()}else{attemptTakeover(setTakeover)}bindEvents()}initialize();return{remove:removeTakeover,test:initTestTakeover,block:disableAllTakeovers}}return new TakeoverSkin}(),ViewMoreAnimation:function(){function ViewMore(){var $btn=$(".view-more__btn");var classLoading="view-more__btn--loading";function addLoading(context){if(context){$(context).find($btn).addClass(classLoading)}else{$btn.addClass(classLoading)}}function removeLoading(context){if(context){$(context).find($btn).removeClass(classLoading)}else{$btn.removeClass(classLoading)}}return{add:addLoading,remove:removeLoading}}return new ViewMore}()}}();axs.Core.Ads={Common:{getAdParams:function(url){if(url.indexOf("app_qadev.php")!=-1)url=url.replace("/axs/app_qadev.php","");else if(url.indexOf("qa.")!=-1)url=url.replace(url.match(/\/\w+-axs/)[0],"");if(url.indexOf("?")!=-1){url=url.substr(0,url.indexOf("?"),-1)}if(url.substr(url.length-1)==="/"){url=url.substr(0,url.length-1)}return""}}};axs.Core.LoadingScreen=function(){function LoadingScreen(options){var defaults={message:translations.pleaseWait,timedClose:false,classLoader:"loader-desktop"};var settings=$.extend(defaults,options);var loadingId="loading-screen";function addLoadingHTML(){$("body").append(""+'<div id="'+loadingId+'" class="'+settings.classLoader+'">'+"<span>"+settings.message+"</span>"+"</div>")}function removeLoadingHTML(){if($("#"+loadingId)){$("#"+loadingId).remove()}}function showLoadingScreen(callback){addLoadingHTML();callback&&callback();if(settings.timedClose){setTimeout(hideLoadingScreen,settings.timedClose)}}function hideLoadingScreen(callback){removeLoadingHTML();callback&&callback()}return{show:showLoadingScreen,hide:hideLoadingScreen}}return LoadingScreen}();axs.Core.loadingScreen=new axs.Core.LoadingScreen;axs.Core.zenDesk=function(){$("#zendesk-widget-overlay").click(function(){$(this).hide();var script=document.createElement("script");script.text='/*<![CDATA[*/window.zEmbed||function(e,t){var n,o,d,i,s,a=[],r=document.createElement("iframe");window.zEmbed=function(){a.push(arguments)},window.zE=window.zE||window.zEmbed,r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="display: none",d=document.getElementsByTagName("script"),d=d[d.length-1],d.parentNode.insertBefore(r,d),i=r.contentWindow,s=i.document;try{o=s}catch(c){n=document.domain,r.src=\'javascript:var d=document.open();d.domain="\'+n+\'";void(0);\',o=s}o.open()._l=function(){var o=this.createElement("script");n&&(this.domain=n),o.id="js-iframe-async",o.src=e,this.t=+new Date,this.zendeskHost=t,this.zEQueue=a,this.body.appendChild(o)},o.write(\'<body onload="document._l();">\'),o.close()}("https://assets.zendesk.com/embeddable_framework/main.js","axs.zendesk.com");/*]]>*/';document.body.appendChild(script)})}();
window.axs=window.axs||{};axs.Logout=function(){"use strict";function eraseCookie(name){var date=new Date(0),expires="; expires="+date.toGMTString();document.cookie=name+"="+expires+"; path=/"}function isntNative(){var output=true;if(document.cookie.indexOf("axs_app")>-1){output=false}return output}function cookieSmasher(){var cookies=document.cookie.split(";"),i;for(i=0;i<cookies.length;i++){eraseCookie(cookies[i].split("=")[0])}}function logout(){window.location=Routing.generate("_security_logout",{_locale:locale})}if(isntNative()){cookieSmasher()}logout()};
window.axs=window.axs||{};axs.Facebook=function(){"use strict";var scope_permissions={scope:"email, user_likes, user_location, user_events"};var scope_permissions_extended={scope:"email, user_likes, user_location, user_events, rsvp_event"};var facebookModal;function initFacebookEmailModal(){facebookModal=$("#facebook-email-modal").axsModal();var $facebookEmailSendButton=$("#facebook-email-send");$facebookEmailSendButton.off();$facebookEmailSendButton.click(function(){axs.Facebook.retryPermissions("email")})}var is_uiwebview=$.QueryString["axsSDKMobile"];function WebViewInit(){var is_authPage=window.location.pathname.match(/^\/auth\/client$/);var is_accountPage=window.location.pathname.match(/^\/auth\/client\/account$/);if(is_uiwebview==="true"){if(is_accountPage){FB.getLoginStatus(function(response){if(response.status==="connected"){if(!isFacebookEnabled&&$.cookie().fbDisconnectWasClicked!=="true"){axs.Core.loadingScreen.show(axs.Facebook.connectFacebookToCurrentUser(function(response){if(!response.success){axs.users.messageBox({alertType:"message-box--error has-topMargin",message:response.errorMessage,prependTo:"#fb-connect-error",isTemporary:true});axs.Core.loadingScreen.hide();FB.logout(function(response){})}else{window.location.reload()}}))}}$.cookie("fbDisconnectWasClicked","")})}else if(is_authPage){FB.getLoginStatus(function(response){if(response.status==="connected"){var promise=axs.Facebook.hasPermission("email");promise.done(function(){axs.Core.loadingScreen.show(axs.Facebook.loginCheck(false,null,response))});promise.fail(function(){facebookModal.showPermanent()})}else if(response.status==="not_authorized"){}else{}},true)}}}return{initialize:function(){initFacebookEmailModal();WebViewInit()},loginCheck:function(isAutoLogin,callback,fbResponse){var f=function(al){if(!al){al=false}var origin="axs";if(location.pathname.match(/\/(auth)/i)){origin="auth"}var url="";var accessToken=fbResponse.authResponse.accessToken;var userID=fbResponse.authResponse.userID;try{url=Routing.generate("facebook_login",{accessToken:accessToken,userID:userID})}catch(e){console.log(e);url=$("#facebook_login_route").val()+"?accessToken="+accessToken+"&userID="+userID}var data={};if($.QueryString["axsClientId"]!=null){url+="&axsClientId="+$.QueryString["axsClientId"];if($.QueryString["clientId"]!=null&&$.QueryString["callbackUrl"]!=null){url+="&clientId="+$.QueryString["clientId"]+"&callbackUrl="+$.QueryString["callbackUrl"]}}console.log(url);var postCall=$.post(url+"&al="+al,data,function(json){if(json!=null&&json.redirect){window.location=json.redirect;return}if(json.success){if(origin!="auth"){$(".dialog").find("a:first").click();if(isAutoLogin==true){if(axs.Analytics){axs.Analytics.trackAutoSignInCompleteAnalytics(json.id)}}else{if(axs.Analytics){axs.Analytics.trackFBSignInCompleteAnalytics(json.id)}}window.location.reload()}else{if($.QueryString["clientId"]==null&&$.QueryString["axsClientId"]==null){window.location.reload()}}}else{console.log("desc: "+json.error_description+" | line: "+json.error_line+" | trace: "+json.error_trace)}});postCall.fail(function(xhr,textStatus,errorThrown){console.log(textStatus);console.log(errorThrown);console.log(xhr.status);console.log(xhr.responseText);axs.Core.loadingScreen.hide()})};setTimeout(f,500,isAutoLogin)},login:function(callback){var scope_permission=scope_permissions;if($.QueryString["axsClientId"]!=null&&$.QueryString["axsClientId"]==2){scope_permission=scope_permissions_extended}FB.getLoginStatus(function(fbResponseObject){if(fbResponseObject.status==="connected"){var promise=axs.Facebook.hasPermission("email");promise.done(function(){console.log("loginCheck executed");axs.Facebook.loginCheck(false,callback,fbResponseObject)});promise.fail(function(){if(is_uiwebview){facebookModal.showPermanent()}else{axs.Facebook.retryPermissions("email",facebookModal.showPermanent)}})}else{facebookLogin()}});function facebookLogin(){FB.login(function(response){if(response.authResponse){var promise=axs.Facebook.hasPermission("email");promise.done(function(){console.log("it has email rights");axs.Facebook.loginCheck(false,callback,response)});promise.fail(function(){console.log("email permits denied");facebookModal.showPermanent()})}},scope_permission)}},hasPermission:function(permission){var promise=$.Deferred();FB.api("/me/permissions",function(response){console.log(response);for(var p in response["data"]){if(response["data"][p].permission===permission){if(response["data"][p].status==="granted"){console.log("permissions granted");promise.resolve()}else{console.log("permissions denied");promise.reject()}}}});return promise},retryPermissions:function(permissions,callback,callbackFail){FB.login(function(response){axs.Facebook.hasPermission(permissions).then(function(){console.log("retry successful");console.log(response);axs.Facebook.loginCheck(false,callback,response)},function(){if(typeof callbackFail==="function"){callbackFail()}})},{scope:permissions,auth_type:"rerequest"})},connectFacebookToCurrentUser:function(callback){FB.getLoginStatus(function(response){var $axs_client_id=$("#axs_client_id");var $access_token=$("#access_token");function connectUser(callback,fbResponse){var axsClientParams="";if($axs_client_id[0]&&$access_token[0]){axsClientParams+="&axsClientId="+$axs_client_id.val();axsClientParams+="&access_token="+$access_token.val()}var facebookUserConnectProxyURL="";var accessToken=fbResponse.authResponse.accessToken;var userID=fbResponse.authResponse.userID;try{facebookUserConnectProxyURL=Routing.generate("api_proxy_facebook_user_connect",{accessToken:accessToken,userID:userID});facebookUserConnectProxyURL=facebookUserConnectProxyURL.replace(/^(?:\/\/|[^\/]+)*\//,"/")}catch(e){console.log(e);facebookUserConnectProxyURL=$("#api_proxy_facebook_user_connect_url").val()+"?accessToken="+accessToken+"&userID="+userID}facebookUserConnectProxyURL+=axsClientParams;$.ajax({type:"POST",async:true,url:facebookUserConnectProxyURL,complete:function(response){var json=JSON.parse(response.responseText);if(callback){callback({success:json.success,errorMessage:json.error_description})}}})}if(response.status==="connected"){connectUser(callback,response)}else{var scope_permission=scope_permissions;if($axs_client_id[0]){if($axs_client_id[0].value==2){scope_permission=scope_permissions_extended}}FB.login(function(response){if(response.authResponse){connectUser(callback,response)}else{axs.Core.loadingScreen.hide()}},scope_permission)}})},logout:function(){try{!!FB}catch(e){axs.Facebook.axsLogout()}if(FB.getLoginStatus&&FB.getAuthResponse()){FB.getLoginStatus(function(response){if(response.authResponse&&(response.status==="connected"||response.status==="not_authorized")){setTimeout(function(){FB.logout(function(response){axs.Facebook.logout();axs.Logout()})},500)}else{axs.Logout()}},true)}else{axs.Logout()}},disconnect:function(callback,userAction){if(is_uiwebview&&userAction){$.cookie("fbDisconnectWasClicked","true")}if(typeof callback!=="function"){callback=function(){}}FB.api("/me/permissions","DELETE",callback)},shareDialog:function(url){url=url||$('meta[property="og:url"]').attr("content")||window.location.href;var obj={method:"share_open_graph",action_type:"og.likes",action_properties:JSON.stringify({object:url}),display:"popup"};function callback(){}FB.ui(obj,callback)},feedDialog:function(link,name,caption,description,properties,actions,pic){var obj={method:"feed",link:link,name:name,caption:caption,description:description,properties:properties,actions:actions,picture:pic,display:"popup"};function callback(response){}FB.ui(obj,callback)},getFBLoginStatus:function(){FB.getLoginStatus(function(response){return response})},displayFacePile:function(){var $facepile=$(".facepile");var fbResponseObject=axs.Facebook.getFBLoginStatus();if(fbResponseObject&&(fbResponseObject.status==="connected"||fbResponseObject.status==="not_authorized")){if($facepile[0]){$facepile.show()}}else{if($facepile[0]){$facepile.remove()}}}}}();
(function($,namespace){var timer;function follow(userId,categoryId,objectId,followButton,firstFollow){if(timer){clearTimeout(timer)}if(userId===0||userId===""){var callBackWhenLoginSuccess=$.Deferred();callBackWhenLoginSuccess.then(function(c_userID){axs.follow.add(c_userID,categoryId,objectId,followButton)});$(followButton).data("donotshowalert",true);axs.auth.myaxsAuthSignInPopup(null,callBackWhenLoginSuccess);return false}else{if(typeof followButton!=="undefined"){if(typeof firstFollow!=="undefined"&&firstFollow==true)$(followButton).closest(".follower").first().addClass("hidden").hide().prev(".following").first().removeClass("hidden").show();else $(followButton).closest(".follower").addClass("hidden").hide().prev(".following").removeClass("hidden").show()}var comingFromRemindMe=$(followButton).data("callFromRemindMe");if(comingFromRemindMe!==null&&comingFromRemindMe){$(followButton).data("callFromRemindMe",false);var donotshowalert=$(followButton).data("donotshowalert");if(donotshowalert==null||!donotshowalert){$(followButton).data("donotshowalert",false);alert(eventTranslations.follow.followingAlertMessage)}}$.ajax({type:"POST",async:true,url:Routing.generate("alert_add")+"/"+userId+"/"+categoryId+"/"+objectId,dataType:"json",success:function(data){if(data==="success"){}else{alert("Failed due to "+data)}}});return true}}function unfollow(userId,categoryId,objectId,unfollowButton,createTimer){if(userId==0){}else{if(typeof unfollowButton!=="undefined"){$(unfollowButton).closest(".following").addClass("hidden").hide().next(".follower").removeClass("hidden").show()}if(createTimer==true){timer=setTimeout(function(){$(unfollowButton).closest(".followingObjectContainer").remove()},5e3)}$.ajax({type:"POST",async:true,url:Routing.generate("alert_remove")+"/"+userId+"/"+categoryId+"/"+objectId,dataType:"json",success:function(data){if(data==="success"){}else{alert("Failed due to "+data)}}})}}function toggleFollow(categoryId,objectId,followButton,callback,omnitureData){var userFollowId=objectId+"_"+categoryId;var isFollowed=!!followButton.getAttribute("data-is-followed");addFollow({id:userFollowId,title:followButton.getAttribute("data-follow-title"),imgsrc:followButton.getAttribute("data-follow-img-src")},function(){if(isFollowed){followButton.removeAttribute("data-is-followed");followButton.parentElement.classList.remove("is-followed");followButton.classList.remove("is-followed");$(followButton).find(".follow-btn-text").text("Follow");if(followButton.className.indexOf("sprite-share-following")!==-1){followButton.className="sprite-share-follow"}$(followButton).find("use").attr("xlink:href","#svg-icon-plus")}else{followButton.setAttribute("data-is-followed","true");followButton.parentElement.classList.add("is-followed");followButton.classList.add("is-followed");$(followButton).find(".follow-btn-text").text("Following");$(followButton).find("use").attr("xlink:href","#svg-icon-checkmark2");if(followButton.className.indexOf("sprite-share-follow")!==-1){followButton.className="sprite-share-following"}}callback&&callback()},!isFollowed,omnitureData)}namespace.follow={add:follow,remove:unfollow,toggleFollow:toggleFollow}})(window.jQuery,window.axs||{});
(function($,namespace){function flyout(){var $trigger=$(".flyout__trigger:not(.flyout__trigger--with-hover)"),menuContainer=".flyout__menu-container",classIsOpen="flyout__menu-container--open";$trigger.each(function(){var $e=$(this),$menu=$e.find(menuContainer);var toggleFlyout=function(){$menu.add($e).toggleClass(classIsOpen)};$e.on("click.toggleFlyout",function(e){if(!$menu.hasClass(classIsOpen)){toggleFlyout();axs.utilities.outsideClick.bind($e.add($menu).add(".ui-autocomplete"),toggleFlyout)}})})}namespace.ExtendFlyout=flyout})(window.jQuery,window.axs||{});
var axs=window.axs||{};axs.Global=function(){var changes;var defaultDiacriticsRemovalMap=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];return{setupGlobalEventHandlers:function(){$("#locale-banner .close-btn, #locale-banner .close-dialog-lnk").on("click",function(){$.cookie("locale_banner_closed",true,{path:"/"});$("#locale-banner").hide()})},setFrameworkTranslations:function(){switch(locale){case"sv-SE":$.extend($.validator.messages,{required:"Detta f&auml;lt &auml;r obligatoriskt.",maxlength:$.validator.format("Du f&aring;r ange h&ouml;gst {0} tecken."),minlength:$.validator.format("Du m&aring;ste ange minst {0} tecken."),rangelength:$.validator.format("Ange minst {0} och max {1} tecken."),email:"Ange en korrekt e-postadress.",url:"Ange en korrekt URL.",date:"Ange ett korrekt datum.",dateISO:"Ange ett korrekt datum (&Aring;&Aring;&Aring;&Aring;-MM-DD).",number:"Ange ett korrekt nummer.",digits:"Ange endast siffror.",equalTo:"Ange samma v&auml;rde igen.",range:$.validator.format("Ange ett v&auml;rde mellan {0} och {1}."),max:$.validator.format("Ange ett v&auml;rde som &auml;r mindre eller lika med {0}."),min:$.validator.format("Ange ett v&auml;rde som &auml;r st&ouml;rre eller lika med {0}."),creditcard:"Ange ett korrekt kreditkortsnummer."});break}},clearSearch:function(){var domain=window.location.hostname;$.cookie("axs_search",null,{path:"/",domain:domain.replace("www",""),secure:false});$("input.q").autocomplete("close")},closeSearch:function(){$("input.q").autocomplete("close")},removeDiacritics:function(str){if(!changes){changes=defaultDiacriticsRemovalMap}for(var i=0;i<changes.length;i++){str=str.replace(changes[i].letters,changes[i].base)}return str},hideHref:function(url){$('a[href$="'+url+'"]').hide()},setLocation:function(e,input){var $input=$(input);if(typeof isMobile==="undefined"||typeof isMobile!="undefined"&&isMobile==false){if(axs.Analytics)axs.Analytics.trackLocationChangeAnalytics($input.val())}e.preventDefault();var url=Routing.generate("autocomplete_locations")+"?term="+$input.val();$.ajax({type:"POST",async:false,url:url,dataType:"json",success:function(data){if(data.length>0){window.location=Routing.generate("location_set_geo")+"?city="+data[0].label+"&id="+data[0].id+"&referrer="+window.location.href}else $(".location_search_error").css("display","block");if(typeof isMobile!="undefined"&&isMobile){$.mobile.hidePageLoadingMsg()}},error:function(req,status,error){if(error){$(".location_search_error").css("display","block");if(typeof isMobile!="undefined"&&isMobile){$.mobile.hidePageLoadingMsg()}}}})},initLocationAutoComplete:function(input){var $input=$(input);locationACCount=0;var locAC=$input.autocomplete({predSearchID:"location-auto-complete",minLength:1,dataType:"json",source:Routing.generate("autocomplete_locations"),open:function(event,ui){locationACCount=0;suggestionFound=true},close:function(event,ui){suggestionFound=false},select:function(event,ui){if(typeof isMobile==="undefined"||typeof isMobile!="undefined"&&isMobile==false){if(axs.Analytics){axs.Analytics.trackLocationChangeAnalytics(ui.item.label)}window.location=Routing.generate("location_set_geo")+"?city="+ui.item.label+"&id="+ui.item.id+"&referrer="+window.location.href}}});locAC.data("ui-autocomplete")._renderItem=function(ul,item){var url=Routing.generate("location_set_geo")+"?city="+item.label+"&id="+item.id+"&referrer="+window.location.href;ul.addClass("loc-autocomplete").attr("id","location-autocomplete");if(item.label=="Stockholm, AB, Sweden"){item.label="Stockholm, Sweden"}if(locationACCount==0){$("#loc_city").val(item.label);$("#loc_id").val(item.id);locationACCount++}item.value=item.label;if(typeof isMobile!="undefined"&&isMobile){return $("<li class='ui-btn ui-btn-icon-right ui-li '></li>").data("ui-autocomplete-item",item).append("<a>"+item.label+"</a>").appendTo(ul)}else{var $list=$('<li class="loc-row"></li>').data("ui-autocomplete-item",item).append('<a href="'+url+'">'+item.label+"</a>").appendTo(ul);return $list}};if(typeof isMobile!="undefined"&&isMobile){locAC.data("ui-autocomplete")._resizeMenu=function(){var ul=this.menu.element;ul.outerWidth(this.element.outerWidth())}}},addLocationLookup:function($elements){$elements.each(function(){var lastXhr;var locAC=$(this).autocomplete({minLength:1,dataType:"json",source:function(request,response){if(lastXhr)lastXhr.abort();lastXhr=$.getJSON(Routing.generate("autocomplete_locations"),request,function(data,status,xhr){if(xhr===lastXhr){response(data)}})}}).data("ui-autocomplete")._renderItem=function(ul,item){ul.addClass("loc-autocomplete");if(item.label=="Stockholm, AB, Sweden"){item.label="Stockholm, Sweden"}item.value=item.label;if(typeof isMobile!="undefined"&&isMobile){return $("<li class='ui-btn ui-btn-icon-right ui-li '></li>").data("ui-autocomplete-item",item).append("<a>"+item.label+"</a>").appendTo(ul);ul.outerWidth(this.element.outerWidth())}else{var $list=$('<li class="loc-row"></li>').data("ui-autocomplete-item",item).append('<a href="javascript:void(0);">'+item.label+"</a>").appendTo(ul);return $list}};if($(this).data("source")){$(this).data("ui-autocomplete").selectedItem=$(this).data("source")}$(this).blur(function(){if(lastXhr)lastXhr.abort()})})},removeUserFBLink:function(callback){error=null;var data={};if(typeof $.QueryString["axsClientId"]!=="undefined"&&typeof $.QueryString["access_token"]!=="undefined"){data.axsClientId=$.QueryString["axsClientId"];data.access_token=$.QueryString["access_token"]}var facebookDisconnectProxyURL=$("#api_proxy_facebook_connect_disable_url").val();if(!facebookDisconnectProxyURL){facebookDisconnectProxyURL=Routing.generate("api_proxy_facebook_connect_disable")}$.ajax({type:"POST",async:true,url:facebookDisconnectProxyURL,data:JSON.stringify(data),dataType:"json",success:function(data){if(data.error){if(data.error_description)callback(data.error_description);else callback(data.error)}else if(data){callback(data,error)}else{callback("System error.  Please try again later.")}},error:function(req,status,error){if(error)callback(error);else callback("System error.  Please try again later.")}})},userUnlinkSeasonTickets:function(callback){var error=null;var axsClientId="";var accessToken="";var linkedSeasonAttributeName="";if($("#axs_client_id")[0]){axsClientId=$("#axs_client_id").val()}if($("#access_token")[0]){accessToken=$("#access_token").val()}if($("#linked_season_attribute_name")[0]){linkedSeasonAttributeName=$("#linked_season_attribute_name").val()}var url=Routing.generate("api_proxy_user_unlink_season");$.ajax({type:"POST",async:true,url:url,data:JSON.stringify({axs_client_id:axsClientId,access_token:accessToken,linked_season_attribute_name:linkedSeasonAttributeName}),dataType:"json",success:function(data){if(data.error){if(data.error_description)error=data.error_description;else error=data.error}else{user=data}if(callback){callback(error)}},error:function(req,status,error){if(error)error=error;else error="System error.  Please try again later.";if(callback){callback(error)}}})},updateUserPassword:function(e){e.preventDefault();var userPassCurrent=$("input#axs_pass_current").val();var userPassNew=$("input#axs_pass_new").val();if(userPassCurrent==""||userPassCurrent=="Enter current password"){$("div#myaxs-change-pass-form-error").text("Please enter current password.");return false}if(userPassNew==""||userPassNew=="Enter new password"){$("div#myaxs-change-pass-form-error").text("Please enter new password.");return false}if(userPassNew.length<6){$("div#myaxs-change-pass-form-error").text("New password must have at least 6 characters.");return false}var userPassNew2=$("input#axs_pass_new2").val();if(userPassNew2==""||userPassNew2=="Re-enter new password"){$("div#myaxs-change-pass-form-error").text("Please enter password again to confirm.");return false}if(userPassNew!=userPassNew2){$("div#myaxs-change-pass-form-error").text("New passwords did not match.")}else{var retval=axs.Global.setUserPass(userPassCurrent,userPassNew);if(retval.error)$("div#myaxs-change-pass-form-error").text("Please enter the correct current password.");else if(retval.user&&retval.user.email){axs.Global.toggleHidePasswordEditForm();axs.Global.resetPasswordEditForm();if(typeof isMobile==="undefined"||typeof isMobile!="undefined"&&isMobile==false){alert("Your new password has been saved.")}else{$("#passwordSaved").show();$("passwordSaved").fadeOut(5e3)}return true}}return false},setUserSubscription:function(name,state,callback,notAsync){var alertName=null,stateVal=null,content={};if(name=="venue")alertName="venue_alert_active";if(name=="event")alertName="event_performer_alert_active";if(name=="axs")alertName="axs_newsletter_alert_active";if(name=="offers")alertName="special_offers_alert_active";if(state==true)stateVal="true";else stateVal="false";content[alertName]=stateVal;var error=null;$.ajax({type:"POST",async:notAsync?false:true,url:Routing.generate("api_proxy_user_subscription")+"?csrf_token="+$("#hdn_csrf_token").val(),data:JSON.stringify(content),dataType:"json",success:function(data){if(data.error){if(data.error_description)error=data.error_description;else error=data.error}else if(data){var isSubscribed=data[alertName];callback({isSubscribed:isSubscribed})}else{error="System error.   Please try again later."}},error:function(req,status,error){if(error)error=error;else error="System error.  Please try again later."}})},cancelProfileUpdate:function(e){e.preventDefault();var userEmail=$("input#users-change-email-field").val();$("#profile-info-first-name").val($("#profile-info-first-name").attr("old"));$("#profile-info-last-name").val($("#profile-info-last-name").attr("old"));$("#profile-info-email").val($("#profile-info-email").attr("old"));$("#profile-info-zip").val($("#profile-info-zip").attr("old"))},toggleHidePasswordEditForm:function(){$("div#users-password-section-heading").text("Password:");$("div#users-password").removeClass("password_active").show();$("div#users-password-forgot-password-link").hide();$("div#users-password-update-control").hide();$("div#users-password-edit-control").show();$("div#myaxs-change-pass-form-error").text("")},resetPasswordEditForm:function(){$("#users-password-update-control input[type=password]").val("");$("#axs_pass_current").parent().removeClass("hidden");$("#users-password-section-heading").val("Password");$("#message1").text("Password set");$("#message2").text("to edit");$("#isFacebookAcnt").val(0)},setUserPass:function(currPass,newPass){var user=null,error=null;var data={currpass:currPass,password:newPass};if($("#axs_client_id")[0]){data.axs_client_id=$("#axs_client_id").val()}if($("#access_token")[0]){data.access_token=$("#access_token").val()}if($("#hdn_csrf_token")[0]){data.csrf_token=$("#hdn_csrf_token").val()}var resetPasswordAPIURL=$("#reset_password_api_url").val();if(!resetPasswordAPIURL){resetPasswordAPIURL=Routing.generate("api_proxy_user_password")}$.ajax({type:"POST",async:false,url:resetPasswordAPIURL,data:JSON.stringify(data),dataType:"json",success:function(data){if(data.error){if(data.error_description)error=data.error_description;else error=data.error}else if(data.password){user=data}else{error="System error.   Please try again later."}},error:function(req,status,error2){if(error2)error=error2;else error="System error.  Please try again later."}});var retval={user:user,error:error};return retval},setUserPassToken:function(newPass,confirmPass,userId,axsClientId,token){var response=null,error=false;var data={password:newPass,confirm:confirmPass,userId:userId,token:token,axsClientId:axsClientId};if($("#hdn_csrf_token")[0]){data.csrf_token=$("#hdn_csrf_token").val()}if(newPass==confirmPass){$.ajax({type:"POST",async:false,url:Routing.generate("api_proxy_user_password_token"),data:JSON.stringify(data),dataType:"json",success:function(data){response=data},error:function(req,status,error){error=true}})}else error=true;return{response:response,error:error}},updateUserProfile:function(e,callback){e.preventDefault();var $frm=$("#myaxs-profile-info-form")[0];var fname=$.trim($frm.first_name.value);var lname=$.trim($frm.last_name.value);var email=$.trim($frm.email_address.value);var $location=$("#user-zip-code");var zip=$location.val();var cityId=null;var currentPassword="";if($frm.current_password!=undefined)currentPassword=$.trim($frm.current_password.value);var newPassword="";if($frm.password_new!=undefined)newPassword=$.trim($frm.password_new.value);var info={first_name:fname,last_name:lname,email:email,location:{}};if(zip){info["location"]["postal_code"]=zip}if(cityId){info["location"]["cityId"]=cityId}if($("#axs_client_id")[0]){info.axs_client_id=$("#axs_client_id").val()}if($("#access_token")[0]){info.access_token=$("#access_token").val()}if($("#hdn_csrf_token")[0]){info.csrf_token=$("#hdn_csrf_token").val()}if($("#enableAllCommunications").length){info.enableAllCommunications=$("#enableAllCommunications").prop("checked")}var retval=axs.Global.setUserProfileInfo(info);var user=retval.user;var serviceReturnVal=false;if(user!==null){$("#myaxs-profile-info-form input").each(function(){$(this).attr("old",this.value)});axs.pubsub.publish("update.userinfo",user);$("#myaxs-email").html("Hi "+user.first_name);$("#users-email-name").text(user.first_name+" "+user.last_name);$("#users-email-email").text(user.email);$("#users-email-location").text(user.location.postal_code);if($("#enableAllCommunications").length){if(user.communications&&user.communications.length>0){var commsActive=true;for(var x in user.communications){if(user.communications[x].isActive==false){commsActive=false}}$("#enableAllCommunications").prop("checked",commsActive)}else{$("#enableAllCommunications").prop("checked",false)}}serviceReturnVal=true}if(user==null&&retval.error!=""){if(callback)callback.call(this,retval.error);return false}if(newPassword!=null&&newPassword!=""){retval=axs.Global.setUserPass(currentPassword,newPassword);if(retval.error){$("#myaxs-change-pass-form-error").text(myAxsTranslations.pages.accountInformation.formFields.password.currentPassword.validationMessages.invalid);$("#myaxs-change-pass-form-error").show();serviceReturnVal=false}else if(retval.user&&retval.user.email){$("#myaxs-change-pass-form-error").hide();axs.Global.toggleHidePasswordEditForm();axs.Global.resetPasswordEditForm();$("#passwordSaved").show();$("passwordSaved").fadeOut(5e3);serviceReturnVal=serviceReturnVal&&true}}if(callback)callback.call(this,serviceReturnVal,user);return serviceReturnVal},getLocationAutoCompleteData:function(location){var locationData=axs.Global.getLocationData(location);var data=null;if(locationData!=null&&locationData.length>0){locationData=locationData[0];var label=locationData.name;if(locationData.countryCode=="US"){label+=", "+locationData.state}else{label+=", "+locationData.country}data={id:locationData.id,label:label,type:"city",value:locationData.name}}return data},updateUserPhoneNumber:function(e){e.preventDefault();var $frm=$("#form-myaxs-communications-sms-alerts")[0];var phone=$.trim($frm.user_phone.value);var info={phone:phone};if($("#hdn_csrf_token")[0]){info.csrf_token=$("#hdn_csrf_token").val()}var retval=axs.Global.setUserProfileInfo(info);var user=retval.user;if(user!==null){return true}return false},toggleHideEmailEditForm:function(email){if(typeof isMobile==="undefined"||typeof isMobile!="undefined"&&isMobile==false){$("div#users-email-update-control").hide();$("div#users-email").show()}},setUserProfileInfo:function(info,callback,async){var user=null,error=null,async=async||false;if($("#hdn_csrf_token")[0]){info.csrf_token=$("#hdn_csrf_token").val()}$apiURL=$("form#myaxs-profile-info-form").attr("action");if(!$apiURL){$apiURL=Routing.generate("api_proxy_user_update")}$.ajax({type:"POST",async:async,url:$apiURL,data:JSON.stringify(info),dataType:"json",success:function(data){if(data.error){if(data.error_description){error=data.error_description;if(data.error_description.indexOf("User is not in session")!=-1){window.location.href=axs.utilities.generateURL("default_index",{_locale:locale})}}else{error=data.error}}else{user=data;callback&&callback(data)}},error:function(req,status,error){if(error){error=error}else{error="System error.  Please try again later."}}});var retval={user:user,error:error};return retval},getUser:function(){var user=null,error=null;$.ajax({type:"POST",async:false,url:Routing.generate("api_proxy_user")+"?csrf_token="+$("#hdn_csrf_token").val(),dataType:"json",success:function(data){if(data.error){if(data.error_description)error=data.error_description;else error=data.error}else if(data.email){user=data}else{error="System error.  Please try again later."}},error:function(req,status,error){if(error)error=error;else error="System error.  Please try again later."}});return user},getMoreDatesForArtistAtCurrentVenueAction:function($container,source,params){$container.addClass("loader");var geoData=$.cookie(geoTypes.Geo_Dynamic).split(":");var dateFormat=params["dateFormat"];var dateFormatShort=params["dateFormatShort"];var tbdText=params["tbdText"];params["locale"]=locale;$.ajax({type:"GET",async:true,url:Routing.generate("api_get_more_dates_for_artist_at_current_venue")+"?csrf_token="+$("#hdn_csrf_token").val(),dataType:"json",data:params,success:function(data){if(data&&data.events.length>0){var moreDatesEvents=[];$(data.events).each(function(i){this.omnitureModuleString="AX:E:WL:"+(i+1)+":1:ET:"+this.eventId;this.multipleDates=false;if(this.additionalDates.length>0){this.multipleDates=true}if(moment(this.eventDateTime).isValid()){moment.lang(locale.substring(0,2));this.eventDate=moment(this.eventDateTime).format(dateFormat);if(this.multipleDates||this.dateOnly){this.eventDate=moment(this.eventDateTime).format(dateFormatShort)}var regexMatches=this.eventDate.match(/(mon|t(ue|ues|hu|hur)|wed|fri|s(at|un))\b/i);if(regexMatches)this.eventDate=this.eventDate.replace(regexMatches[0],regexMatches[0].toUpperCase())}if(this.eventDateTime=="TBD"){this.eventDate=tbdText}moreDatesEvents.push({eventId:this.eventId,location:this.omnitureModuleString,eventUrl:this.ticketing?this.ticketing.eventUrl:null})});axs.OmnitureData.setMoreDateEvents(moreDatesEvents);if(!source){source='                                {{#each events}}                                     <div class="event-stack no-thumb">                                         <div class="event-stack-copy">                                             <a class="headliner events_link" href="{{ticketing.eventUrl}}" omId="{{omnitureModuleString}}">{{{title.eventTitleText}}}</a>                                             <a class="venue-name" href="{{ venue.url }}">{{ venue.title }}</a>                                              <p class="venue-location">{{ venue.city }},                                              {{#if venue.state}}                                                 {{venue.state}}                                               {{else}}                                                 {{venue.country}}                                               {{/if}}                                             </p>                                             <p class="showtime">                                                {{#if multipleDates }}                                                         '+translations.starting+":                                                {{/if}}                                                 {{{eventDate}}}                                             </p>                                         </div>                                     </div>                                 {{/each}}                                        "}var template=Handlebars.compile(source);var html=template(data);var itemContainer=$container.find(".content-module-content");if(!itemContainer[0])itemContainer=$container;itemContainer.hide().html(html);if(data.url){var str="<a href="+data.url+' id="js-more-event-date-display-control" class="link" t>'+translations.viewAll+"</a>";itemContainer.append(str)}itemContainer.fadeIn(500);$container.removeClass("loader")}else{$container.hide()}},error:function(){$container.removeClass("loader");$container.hide()}})},getRelatedEvents:function($container,source,params){if(typeof isMobile==="undefined"||typeof isMobile!="undefined"&&isMobile==false)$container.addClass("loader");var geoData=$.cookie(geoTypes.Geo_Dynamic);if(geoData){geoData=geoData.split(":")}var countryCode=geoData!=null?geoData[0]:"US";var latitude=geoData!=null?geoData[5]:"0";var longitude=geoData!=null?geoData[6]:"0";var performerId=params["performerId"]?params["performerId"]:"";var excludedEventIds=params["excludedEventIds"]?params["excludedEventIds"]:"";var siteId=params["siteId"];var callback=params["callback"];var eventId=params["eventId"]?params["eventId"]:"";var dateFormat=params["dateFormat"];var dateFormatShort=params["dateFormatShort"];var tbdText=params["tbdText"];var rows=params["rows"]?params["rows"]:5;var radius="100,400,1000";if(performerId||eventId){$.ajax({type:"GET",async:true,url:Routing.generate("api_proxy_get_events_related")+"?siteId="+siteId+"&performerId="+performerId+"&lat="+latitude+"&long="+longitude+"&rows="+rows+"&radius="+radius+"&locale="+locale+"&excludedEventIds="+excludedEventIds+"&eventId="+eventId+"&csrf_token="+$("#hdn_csrf_token").val(),dataType:"json",success:function(data){if(typeof isMobile==="undefined"||typeof isMobile!="undefined"&&isMobile==false)$container.removeClass("loader");if(data&&data.events&&data.events.length>0){var relatedEvents=[];$(data.events).each(function(i){this.omnitureModuleString="AX:E:EL:"+(i+1)+":1:ET:"+this.eventId;this.multipleDates=false;if(this.additionalDates.length>0){this.multipleDates=true}if(moment(this.eventDateTime).isValid()){moment.lang(locale.substring(0,2));this.eventDate=moment(this.eventDateTime).format(dateFormat);if(this.multipleDates||this.dateOnly){this.eventDate=moment(this.eventDateTime).format(dateFormatShort)}var regexMatches=this.eventDate.match(/(mon|t(ue|ues|hu|hur)|wed|fri|s(at|un))\b/i);if(regexMatches)this.eventDate=this.eventDate.replace(regexMatches[0],regexMatches[0].toUpperCase())}if(this.eventDateTime=="TBD"){this.eventDate=tbdText}var imagematch=/^(https?):\/\//;var relatedMediaImageUrl=this.relatedMedia["2"].file_name;if(relatedMediaImageUrl){this.relatedMedia["2"].file_name=relatedMediaImageUrl.replace(imagematch,"//")}relatedEvents.push({eventId:this.eventId,location:this.omnitureModuleString,eventUrl:this.ticketing?this.ticketing.eventUrl:null})});axs.OmnitureData.setRelatedEvents(relatedEvents);if(!source)source='{{#each events}}                                             <div class="event-stack cf">                                                 <a omId="{{omnitureModuleString}}" class="event-stack-img events_link" href="{{ticketing.eventUrl}}"><img src="{{ relatedMedia.2.file_name }}" class="grid_image_134" alt="" /></a>                                                 <div class="event-stack-copy">                                                     <div class="emphasize mt3"><a omId="{{omnitureModuleString}}" class="events_link" href="{{ticketing.eventUrl}}">{{{title.eventTitleText}}}</a></div>                                                     <div><span class="nb">                                                    {{#if title.supporting}}                                                         {{{title.supporting}}}                                                     {{/if}}                                                     </span></div>                                                     <div class="emphasize mt10"><a href="{{ venue.url }}">{{ venue.title }}</a></div>                                                      <div>{{ venue.city }},                                                      {{#if venue.state}}                                                         {{venue.state}}                                                       {{else}}                                                         {{venue.country}}                                                       {{/if}}                                                     </div>                                                     {{#if multipleDates }}                                                         '+translations.starting+":                                                    {{/if}}                                                     {{{eventDate}}}                                                 </div>                                             </div>                                         {{/each}}";var template=Handlebars.compile(source);var html=template(data);var $itemContainer=$container.find(".content-module-content");if(!$itemContainer[0])$itemContainer=$container;
$itemContainer.html(html);if(callback)callback.call()}else $container.hide()},error:function(){if(typeof isMobile==="undefined"||typeof isMobile!="undefined"&&isMobile==false)$container.removeClass("loader")}})}else{$container.hide()}},searchValue:function(element,defaultValue){var $element=$(element);$element.each(function(){var $element=$(this);var $form=$element.closest("form");var defaultValueString=defaultValue==null?translations.header.searchDefaultText:defaultValue;var focusStateClass="global-search-focus";$element.attr("placeholder",defaultValueString);if($element.val()===""){$element.val(defaultValueString)}$element.focus(function(){$("body").addClass(focusStateClass);if($element.val()===defaultValueString){$element.val("")}});$element.blur(function(){$("body").removeClass(focusStateClass);if($element.val()===""){$element.val(defaultValueString)}});$form.submit(function(e){$("body").removeClass(focusStateClass);if($element.val()===""||$element.val()===defaultValueString){e.preventDefault()}})})},searchEventHandling:function(element){$(element).each(function(){var $element=$(this);var $form=$element.closest("form");var toggleFocusClass=function(){};$element.on("focus",function(){$element.cssTransitionEnd(toggleFocusClass)});$form.submit(function(e){if($element.val()===""){e.preventDefault()}})})},ctaButtonChangeTimer:function($currentDateTime,$onSaleDateTime,$waitingRoomDuration){var timeout=0;if($onSaleDateTime){var nowUTC=moment.utc($currentDateTime,"YYYY-MM-DD HH:mm:ss");var onsaleDateTimeUTC=moment.utc($onSaleDateTime,"YYYY-MM-DD HH:mm:ss");var waitingRoomDateTimeUTC=moment(onsaleDateTimeUTC).subtract("minute",$waitingRoomDuration);if(nowUTC.isBefore(waitingRoomDateTimeUTC))timeout=waitingRoomDateTimeUTC.diff(nowUTC);else if(nowUTC.isBefore(onsaleDateTimeUTC))timeout=onsaleDateTimeUTC.diff(nowUTC)}var refresh=function(){timeout=0;window.location.reload(true)};if(timeout>0&&timeout<moment.utc().add("days",1).diff(moment.utc($currentDateTime,"YYYY-MM-DD HH:mm:ss"))){window.setTimeout(refresh,timeout+1e3)}},autoSetSMSNotifications:function(isActive){axs.Global.setUserCommunications(new Array,function(response){$.each(response,function(index,value){if(value.communicationTypeId==1&&value.optinTypeId!=1){value.isActive=isActive}});axs.Global.setUserCommunications(response)})},autoSetSMSNotificationsOn:function(){axs.Global.autoSetSMSNotifications("true")},autoSetSMSNotificationsOff:function(){axs.Global.autoSetSMSNotifications("false")},saveCommunicationsCheckBoxes:function(hideAlert,callback){var communicationsData=[];var callback=callback||axs.Global.refreshCommunicationsPreferences;$(".communications-container").each(function(){var data=$(this).data("communicationsdata");$("input[type=checkbox]",this).each(function(){communicationTypeId=0;if($(this).hasClass("sms")){communicationTypeId=1}else if($(this).hasClass("email")){communicationTypeId=2}else if($(this).hasClass("push")){communicationTypeId=3}var c={axsUserCommunicationId:data.communicationTypes[communicationTypeId].axsUserCommunicationId,optinTypeId:data.optinTypeId,communicationTypeId:communicationTypeId,deviceId:null,isActive:$(this).is(":checked")};communicationsData.push(c)})});axs.Global.setUserCommunications(communicationsData,callback,hideAlert)},refreshCommunicationsPreferences:function(response,hideAlert){if(hideAlert==null||hideAlert=="undefined"||hideAlert==true){if(typeof isMobile!=="undefined"){var message=myAxsTranslations.pages.accountInformation.updateMessage;message=message.replace("%type%",myAxsTranslations.pages.myCommunications.notificationPreference);axs.Core.UI.Alert.show(message)}else axs.users.messageBox()}var communicationIds=new Array;$.each(response,function(index,value){if(typeof communicationIds[value.optinTypeId]==="undefined")communicationIds[value.optinTypeId]=new Array;if(typeof communicationIds[value.optinTypeId][value.communicationTypeId]==="undefined")communicationIds[value.optinTypeId][value.communicationTypeId]=new Array;communicationIds[value.optinTypeId][value.communicationTypeId]["axs-user-comm-id"]=value.axsUserCommunicationId;communicationIds[value.optinTypeId][value.communicationTypeId]["is-active"]=value.isActive});$(".communications-container").each(function(index,container){var communicationData=JSON.parse(container.attributes["data-communicationsdata"].value);$.each(communicationData.communicationTypes,function(communicationTypeId,communication){var axsUserCommId=0;var isActive=false;if(typeof communicationIds[communicationData.optinTypeId][communicationTypeId]!=="undefined"){axsUserCommId=communicationIds[communicationData.optinTypeId][communicationTypeId]["axs-user-comm-id"];isActive=communicationIds[communicationData.optinTypeId][communicationTypeId]["is-active"]}communication.axsUserCommunicationId=axsUserCommId;communication.isActive=isActive});$(this).attr("data-communicationsdata",JSON.stringify(communicationData));$(this).data("communicationsdata",communicationData)})},setUserCommunications:function(communicationsData,callback,hideAlert){var user=null,error=null;$.ajax({type:"POST",url:Routing.generate("api_proxy_user_communications",{csrf_token:$("#hdn_csrf_token").val()}),data:JSON.stringify(communicationsData),dataType:"json",success:function(data){if(data.error){if(data.error_description)error=data.error_description;else error=data.error}else{user=data;if(callback){callback.call(undefined,data,hideAlert)}}},error:function(req,status,error){if(error)error=error;else error="System error.  Please try again later."}});var retval={user:user,error:error};return retval},communicationsToggleButtonState:function(){axs.Global.communicationsAddPreviousValues();$("#edit-mobile-number").on("cancel",function(){axs.Global.resetCommunicationsForm()});$(".add-sms-alerts").addClass("is-inactive");$("#form-myaxs-communications-sms-alerts .add-sms-alerts").off("click.updateNumber");$(".btn-save_communication-info").removeClass("is-inactive");axs.Global.addCommunicationsInfoClickEvent();var userPhone=$("#user-phone");var userPhoneValue=userPhone.val();userPhone.add("#sms_terms_checkbox").on("blur keyup change",function(){if(userPhone.val()!=userPhoneValue){$(".btn-save_communication-info").addClass("is-inactive");$(".btn-save_communication-info").off("click");$("#terms-conditions-container").removeClass("hidden");axs.Global.addSMSAlertsClickEvent()}else{$(".btn-save_communication-info").removeClass("is-inactive");axs.Global.addCommunicationsInfoClickEvent();if(userPhoneValue){$("#terms-conditions-container").addClass("hidden")}$("#form-myaxs-communications-sms-alerts .add-sms-alerts").off("click.updateNumber")}})},addCommunicationsInfoClickEvent:function(){var $saveButton=$(".btn-save_communication-info");$saveButton.off("click");$saveButton.on("click",function(){axs.Global.saveCommunicationsCheckBoxes(true)})},addSMSAlertsClickEvent:function(){var $smsForm=$("#form-myaxs-communications-sms-alerts");var isTermsAccepted=$("#sms_terms_checkbox").is(":checked");var $button=$("#form-myaxs-communications-sms-alerts .add-sms-alerts");$button.off("click.updateNumber").removeClass("is-inactive");if($smsForm.length&&isTermsAccepted&&$smsForm.valid()){$button.on("click.updateNumber",function(e){e.preventDefault();var $phoneNumber=$("#user-phone");var alertMessage="Your Mobile Number has been added. Click the Mobile Help link for more information";function updateNumber(successCallback){if(axs.Global.updateUserPhoneNumber(e)){axs.Global.communicationsAddPreviousValues();$(".sms").each(function(){var optinTypeId=$(this).attr("id").substring($(this).attr("id").lastIndexOf("-")+1);if($($phoneNumber).val().length>0&&optinTypeId!=1){$(this).removeAttr("disabled")}else{$(this).attr("disabled","disabled").removeAttr("checked")}});if($phoneNumber.val()){if($(".add-sms-alerts").text()=="Add SMS Alerts"){if(typeof isMobile!=="undefined"){axs.Global.autoSetSMSNotificationsOn()}else{axs.Global.enableSMSAlerts();axs.Global.saveCommunicationsCheckBoxes(false)}}$(".add-sms-alerts").text("Update Number");$("#user-phone").rules("remove","required");$("#terms-conditions-container").addClass("hidden")}else{$(".add-sms-alerts").text("Add SMS Alerts");$("#user-phone").rules("add",{required:true});if(typeof isMobile!=="undefined"){axs.Global.autoSetSMSNotificationsOff()}else{axs.Global.saveCommunicationsCheckBoxes(false)}}$("#sms_terms_checkbox").attr("checked",false);axs.Global.communicationsToggleButtonState();successCallback&&successCallback()}}function mobileUpdateNumberSuccessCallback(){axs.Global.resetCommunicationsForm();axs.Core.loadingScreen.hide();axs.Core.UI.Alert.show(alertMessage,null,2e3)}function responsiveUpdateNumberSuccessCallback(){axs.users.messageBox();axs.Core.loadingScreen.hide()}if(typeof isMobile!=="undefined"){axs.Core.loadingScreen.show(function(){updateNumber(mobileUpdateNumberSuccessCallback)})}else{axs.Core.loadingScreen.show(function(){updateNumber(responsiveUpdateNumberSuccessCallback)})}})}else{$button.addClass("is-inactive")}},enableSMSAlerts:function(){$(".sms").each(function(){if($(this).attr("disabled")==undefined){$(this).attr("checked",true)}})},enableCommunicationsValidation:function(){$("#form-myaxs-communications-sms-alerts").validate({rules:{user_phone:{phoneUS:true},sms_terms:{required:true,minlength:1,maxlength:1}},messages:{user_phone:{required:"Enter your mobile number."},sms_terms:{required:"Please agree to the Terms & Conditions",minlength:"Please agree to the Terms & Conditions",maxlength:"Please agree to the Terms & Conditions"}},errorElement:"div",errorPlacement:function(error,element){if($(element).hasClass(this.errorClass)){error.insertBefore($(element).parent()).addClass("error-message")}},success:function(element){$(element).parent().prev("."+this.errorClass).remove()}});var userPhone=$("#user-phone");if(userPhone[0]&&!userPhone.val()){userPhone.rules("add",{required:true})}},communicationsAddPreviousValues:function(){$("#user-phone").attr("previous",$("#user-phone").val())},resetCommunicationsForm:function(){$("#user-phone").val($("#user-phone").attr("previous"));$("#sms_terms_checkbox").attr("checked",false);$("#terms-conditions-container").addClass("hidden");$("#form-myaxs-communications-sms-alerts").validate().resetForm();if($("#user-phone").val()){$("#help-txt-message").show();$("#update-mobile-number-description").show();$("#mobile-number-title").show();$("#btn-edit-mobile-number-label").show();$("#btn-edit-mobile-number-label").html("<p class='ui-li-desc'><b>Mobile Number: </b><br/>"+$("#user-phone").val()+"</p>");$("#add-mobile-number-description").hide();$("#mobile-number-title-example").hide();$("#btn-add-mobile-number-label").hide()}else{$("#help-txt-message").hide();$("#update-mobile-number-description").hide();$("#mobile-number-title").hide();$("#btn-edit-mobile-number-label").hide();$("#add-mobile-number-description").show();$("#mobile-number-title-example").show();$("#btn-add-mobile-number-label").show()}axs.Global.communicationsToggleButtonState()},submitResetPasswordRequest:function(){$("#myaxs_container_pwsent").hide();var transitionToConfirmation=function(){$("#myaxs_container_pwlost").hide();$("#myaxs_container_pwsent").show()};$("form#myaxs-reset-pwd-request-form").validate({rules:{reset_pwd_email:{required:true,email:true}},messages:{reset_pwd_email:{required:myAxsTranslations.pages.forgotPassword.request.emptyEmailError,email:myAxsTranslations.pages.accountInformation.formFields.email.validationMessages.required}},errorClass:"is-error",errorPlacement:function(error,element){var originalLabel=$(element).closest("form").find("label[for="+element[0].id+"]");if(originalLabel.length){originalLabel.hide();error.insertBefore(originalLabel)}},success:function(error){if(error.siblings("label").length){error.siblings("label").show();error.remove()}}});$("form#myaxs-reset-pwd-request-form").on("submit",function(e){e.preventDefault();$("div#myaxs-reset-pwd-request-form-error").html("");var data={};data.email=$("input#reset_pwd_email").val();if(typeof $("#axsClientId")[0]!=="undefined"&&$("#axsClientId").val()!==""){data.axsClientId=$("#axsClientId").val();data.clientId=$("#clientId").val();data.callback=$("#callbackUrl").val();data.skin=$("#skin").val()}$apiURL=$("form#myaxs-reset-pwd-request-form").attr("action");if(!$apiURL){$apiURL=Routing.generate("api_proxy_send_forgot_email_link",{_locale:locale},true)}axs.Core.loadingScreen.show(function(){$.ajax({type:"POST",async:true,url:$apiURL,dataType:"json",data:JSON.stringify(data),success:function(data){if(data.success){transitionToConfirmation();axs.Core.loadingScreen.hide()}else if(data.error&&data.invalid_email){axs.Core.loadingScreen.hide();$("#reset-pwd-invalid-email-error").show()}else{axs.Core.loadingScreen.hide();$("#myaxs-reset-pwd-request-form-error").text(translations.error.systemError)}},error:function(req,status,error){axs.Core.loadingScreen.hide();$("#myaxs-reset-pwd-request-form-error").text(translations.error.systemError)}})})})},submitResetPassword:function(userId,axsClientId,token){$("div#myaxs_container_reset_pwd_update").show();$("div#myaxs_container_reset_pwd_confirm").hide();var transitionToConfirmation=function(){$("div#myaxs_container_reset_pwd_update").hide();$("div#myaxs_container_reset_pwd_confirm").show()};$("form#myaxs-reset-pwd-form").validate({rules:{reset_new_pwd:{required:true,minlength:6},reset_confirm_pwd:{equalTo:"#reset_new_pwd"}},messages:{reset_new_pwd:{required:myAxsTranslations.pages.accountInformation.formFields.password.newPassword.validationMessages.required,minlength:$.validator.format(myAxsTranslations.pages.resetPassword.request.minLengthError)},reset_confirm_pwd:{equalTo:myAxsTranslations.pages.accountInformation.formFields.password.confirmPassword.validationMessages.passwordMismatch}},errorClass:"is-error",errorPlacement:function(error,element){var originalLabel=$(element).parent().find("label");if(originalLabel.length){originalLabel.hide();error.insertBefore(originalLabel)}},success:function(error){if(error.siblings("label").length){error.siblings("label").show();error.remove()}}});$("form#myaxs-reset-pwd-form").on("submit",function(e){e.preventDefault();axs.Core.loadingScreen.show(function(){var userPassCurrent=$("#reset_new_pwd").val();var userPassNew=$("#reset_confirm_pwd").val();var status=axs.Global.setUserPassToken(userPassNew,userPassCurrent,userId,axsClientId,token);if(status.response){if(status.response.success){axs.Core.loadingScreen.hide();transitionToConfirmation()}else if(status.response.error&&status.response.invalid_email){$("#reset-pwd-invalid-email-error").show();axs.Core.loadingScreen.hide()}else if(status.response.error&&status.response.invalid_token){$("#myaxs-reset-pwd-form-error").text(myAxsTranslations.pages.resetPassword.request.invalidToken);axs.Core.loadingScreen.hide()}else if(status.response.error&&status.response.invalid_password_confirmation){$("#myaxs-reset-pwd-form-error").text(myAxsTranslations.pages.resetPassword.request.invalidPasswordConfirmation);axs.Core.loadingScreen.hide()}else{$("#myaxs-reset-pwd-form-error").text(translations.error.systemError);axs.Core.loadingScreen.hide()}}else{$("#myaxs-reset-pwd-form-error").text(translations.error.systemError);axs.Core.loadingScreen.hide()}})})},mapLocale:function(locale){var mappedLocale=localeMapping[locale];if(mappedLocale==null){mappedLocale=locale}return mappedLocale},getLocationData:function($term){var cityData=null;$.ajax({url:Routing.generate("api_proxy_get_location_full")+"?term="+$term+"&csrf_token="+$("#hdn_csrf_token").val(),type:"get",dataType:"json",async:false,success:function(data){if(data&&!jQuery.isEmptyObject(data)){cityData=data}}});return cityData},partnerLogos:function(){var $partnerLogosContainer=$("#footer-partner-logos");var partnerLogos={amex:"#footer-partner-logos__amex",monster:"#footer-partner-logos__monster",renaissance:"#footer-partner-logos__renaissance-hotels",budweiser:"#footer-partner-logos__budweiser",verizon:"#footer-partner-logos__verizon"};function removeAllLogos(){$partnerLogosContainer.remove()}function keepOnlyLogos(logosToKeep){var allLogos=[];for(var logo in partnerLogos){allLogos.push(partnerLogos[logo])}var $allLogos=$(allLogos.join(","));var $logosToKeep=$(logosToKeep.join(","));$allLogos.not($logosToKeep).remove()}if($.cookie("axs_geo_static_v1")){switch($.cookie("axs_geo_static_v1").split(":")[0]){case"GB":case"SE":keepOnlyLogos([partnerLogos.amex,partnerLogos.renaissance]);break}}if(axs.utilities.getQueryVal("skin")){switch(axs.utilities.getQueryVal("skin")){case"ogden":case"mountainwinery":removeAllLogos();break;case"o2priority":$(partnerLogos.amex).remove();break;case"livenationse":$(partnerLogos.amex).remove();break;case"sprintcenter":$(partnerLogos.verizon).remove();break}}}}}();(function($){$.fn.serializeObject=function(){var o={};var a=this.serializeArray();$.each(a,function(){if(this.name.indexOf("-")!=-1){var split=this.name.split("-");var p={};p[split[1]]=this.value;o[split[0]]=p}else o[this.name]=this.value||""});return o};$.fn.values=function(data){var els=$(this).find(":input").get();if(typeof data!="object"){data={};$.each(els,function(){if(this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))){data[this.name]=$(this).val()}});return data}else{$.each(els,function(){if(this.name&&data[this.name]){if(this.type=="checkbox"||this.type=="radio"){$(this).attr("checked",data[this.name]==$(this).val())}else{$(this).val(data[this.name])}}});return $(this)}};String.prototype.reverse=function(){var s="";var i=this.length;while(i>0){s+=this.substring(i-1,i);i--}return s}})(jQuery);
var axs=window.axs||{};(function keycombo($,namespace){function KeyCombo(options){var defaults={logKeys:false,combos:[]};var settings=$.extend({},defaults,options);var $document=$(document),eventNamespace,keysPressed=[],combos=settings.combos;function addPressedKey(e){var keycode=e.keyCode;if(keysPressed.indexOf(keycode)===-1){keysPressed.push(keycode)}matchKeysPressed();if(settings.logKeys){console.log("=======================");console.log("key pressed: "+keycode);console.log("current keys: "+keysPressed)}}function removePressedKey(e){var keycode=e.keyCode,keypressIndex=keysPressed.indexOf(keycode);if(keypressIndex>-1){keysPressed.splice(keypressIndex,1)}}function matchKeysPressed(){if(combos.length){for(var i in combos){var thisCombo=combos[i];var thisKeys=thisCombo[0];var thisCallback=thisCombo[1];var doCallback=true;if(thisKeys!=undefined&&thisKeys.length){for(var i in thisKeys){var key=thisKeys[i];if(keysPressed.indexOf(key)===-1){doCallback=false;break}}}if(doCallback){if(typeof thisCallback!=="function"){thisCallback=function(){}}thisCallback()}}}}function initialize(){eventNamespace=".keycombo_"+Math.ceil(Math.random()*100);$document.on("keydown"+eventNamespace,function(e){addPressedKey(e)}).on("keyup"+eventNamespace,function(e){removePressedKey(e)})}function getCombos(){return combos}function addCondition(keys,callback){combos.push([keys,callback])}function unbindKeypress(){$document.off("keydown"+eventNamespace).off("keyup"+eventNamespace)}initialize();return{combos:getCombos,add:addCondition,unbind:unbindKeypress}}namespace.KeyCombo=KeyCombo})(window.jQuery,axs);
var axs=window.axs||{};axs.Location=function(){var $form=$("#location-form"),$input=$("#location_input"),$submitTrigger=$form.find("button");function locationInit(){var suggestionFound=false;if($input.length>0){axs.Global.initLocationAutoComplete($input)}}function globalLocationUI(){$edit.on("focus",function(){$edit.scrollLeft(0)}).on("blur",function(){$edit.scrollLeft(0);if($edit.text()===""){$edit.text(originalVal);$input.val("")}}).on("keyup.inputSync",function(e){$input.val($edit.text())}).on("keydown.inputSync",function(e){if(e.keyCode==13){e.preventDefault();$form.submit()}})}function locationSubmitHandling(){$submitTrigger.click(function(){$form.submit()});$form.on("submit",function(e){if($input.val()===""){e.preventDefault();return false}axs.Global.setLocation(e,$input)})}function locationSearch(){var $form=$("#location-search-form");var $inputField=$("#location-search__form-input");var noResultMessage=$("#location-search__no-result");$form.on("submit",function(e){if($inputField.val()===""){e.preventDefault();return false}axs.Global.setLocation(e,$inputField)});var options={adjustWidth:false,getValue:"label",requestDelay:300,hideOnNoFocus:false,preventDefaultOnEnter:false,url:function(uriTerm){return Routing.generate("autocomplete_locations")+"?term="+uriTerm},list:{maxNumberOfElements:100,match:{enabled:true},onShowListEvent:function(){noResultMessage.hide()},onLoadEvent:function(){if($inputField.val().length>0){noResultMessage.show()}}},template:{type:"custom",method:function(value,item){var itemLink=Routing.generate("location_set_geo")+"?city="+item.label+"&id="+item.id+"&referrer="+window.location.href;itemLink=window.encodeURI(itemLink);if(item.label=="Stockholm, AB, Sweden"){item.label="Stockholm, Sweden"}return"<a class='location-result__row' href="+itemLink+" >"+"<div class='display-table-cell'>"+"<div class='search-result__label'>"+item.label+"</div>"+"</div>"+"<div class='display-table-cell align-right'><svg class='svg-icon--location--lg'><use xlink:href='#svg-icon-location'></use></svg></div>"+"</a>"}}};$inputField.easyAutocomplete(options)}return{locationInitialize:function(){locationInit();locationSubmitHandling();locationSearch()}}}();
(function($,window,document,namespace){var modalData="axsModal";var ListOfModals=[];$.fn.axsModal=function(options){this.each(function(){if(!$(this).data(modalData)){$(this).data(modalData,new Modal(this,options))}});var modal=$(this).data(modalData);if(modal){ListOfModals.push(modal)}return modal};function Modal(modal,options){var defaults={triggers:null,hideBtns:".js-close-modal",onShow:null,onClose:null,oldModal:true};var settings=$.extend({},defaults,options);var $document=$(document),$body=$("body"),$newModalWrapper=$("#page-modal-wrapper"),$navItems=$(".nav-item"),modalStatus="modal-open",classModalContainer=".modal-container",classModal=".modal",classNewModal="new-modal",classNewModalInnerContainer=".new-modal__inner-container",escapeEvent="keyup.escapeModal";var $modal,$hideBtns,$triggers;function scopeElements(){$modal=$(modal);if(settings.triggers){$triggers=$(settings.triggers)}if(settings.hideBtns){$hideBtns=$modal.find(settings.hideBtns)}}function getModal(){return $modal}function bindEvents(){$hideBtns.on("click.hideModal",function(){cancelModal()});if($triggers){$triggers.on("click.showModal",function(){triggerModal()})}}function bindCancelEvents(){$document.on(escapeEvent,function(event){if(event.keyCode===27){cancelModal()}});if(settings.oldModal){axs.utilities.outsideClick.bind($modal.find(classModal),cancelModal)}else{axs.utilities.outsideClick.bind($modal.find(classNewModalInnerContainer),cancelModal)}}function unbindCancelEvents(){$document.off(escapeEvent);axs.utilities.outsideClick.unbind()}function showModal(callback){if($(classModalContainer).is(":visible")){hideOtherModals()}$body.addClass(modalStatus);if(settings.oldModal===true){$body.removeClass(classNewModal);$modal.appendTo($body).show()}else{$body.addClass(classNewModal);if($body.hasClass("drawer-open")){$modal.prependTo($body).show()}else{$modal.prependTo($newModalWrapper).show()}}bindCancelEvents();callback&&callback()}function hideModal(callback,ev){$navItems.removeClass("is-active");if(!!ev===false||ev.target&&$(ev.target).closest("#global-nav").length===0){$body.removeClass(modalStatus+" "+classNewModal);$modal.hide()}unbindCancelEvents();callback&&callback()}function triggerModal(){showModal(settings.onShow)}function cancelModal(ev){hideModal(settings.onClose,ev)}function hideOtherModals(){unbindCancelEvents();$(classModalContainer).filter(":visible").hide()}function updateModal(options){settings=$.extend(settings,options)}function showPermanentModal(callback){showModal(callback);unbindCancelEvents()}scopeElements();bindEvents();return{show:showModal,hide:hideModal,update:updateModal,showPermanent:showPermanentModal,element:getModal()}}namespace.modalManager=function(){function ModalManager(){var modals={};function listModals(){return ListOfModals}function getModal(name){return modals[name]}function registerModal(name,modal){if(!modals[name]){modals[name]=modal}}function hideAllModals(){$.each(listModals(),function(){$(this)[0].hide()})}return{list:listModals,get:getModal,register:registerModal,hideAll:hideAllModals}}return new ModalManager}()})(window.jQuery,window,document,window.axs||{});
(function($){var o=$({});$.subscribe=function(){o.on.apply(o,arguments)};$.unsubscribe=function(){o.off.apply(o,arguments)};$.publish=function(){o.trigger.apply(o,arguments)}})(window.jQuery);(function($,namespace){function PubSubManager(){var subscribers={},published={};function subscribe(subscriber,event,callback){if(!subscribers[subscriber]){$.subscribe(event,callback);subscribers[subscriber]={};subscribers[subscriber]["event"]=event;subscribers[subscriber]["callback"]=callback}}function unsubscribe(subscriber){if(subscribers[subscriber]){$.unsubscribe(subscribers[subscriber]["event"]);delete subscribers[subscriber]}}function publish(event,dataObj){$.publish(event,dataObj);published[event]=dataObj}function getSubscriptions(subscriber){if(subscriber){return subscribers[subscriber]}else{return subscribers}}function getPublished(content){if(content){return published[content]}else{return published}}return{subscribe:subscribe,unsubscribe:unsubscribe,publish:publish,getSubscriptions:getSubscriptions,getPublished:getPublished}}namespace.pubsub=new PubSubManager})(window.jQuery,window.axs||{});
var axs=window.axs||{};axs.Search=function(){function rowClick(){$(".results-table [data-href]").each(function(){$(this).off("click.rowclick");$(this).on("click.rowclick",function(e){e.preventDefault();window.location=$(this).data("href")})})}function init(){function getHistory(){var cookie_data=$.cookie("axs_search");var data=[];if(cookie_data){$.each(cookie_data.split(/\:/),function(i,val){data.push({label:val,type:"history",link:axs.utilities.generateURL("search_index",{_locale:locale,q:$.trim(val)})})})}return data}function getSearchResultLength(){return $("#eac-container-global-search__form-input ul li").length}var historyResult=getHistory();var $inputField=$("#global-search__form-input");var $noResultMessage=$("#global-search__no-result");var $noHistoryMessage=$("#global-search__no-search");var $searchHistoryContainer=$("#global-search__history-container");var $searchResultContainer=$("#global-search__result-container");var options={listLocation:"results",getValue:"label",requestDelay:300,adjustWidth:false,hideOnNoFocus:false,preventDefaultOnEnter:false,localDataLengthMatch:2,showDefaultListOnFocus:true,data:{results:historyResult},url:function(uriTerm){var numResultsPerCategoryToFetch=100;var search_params="?term="+uriTerm+"&rows="+numResultsPerCategoryToFetch;if($.cookie(geoTypes.Geo_Dynamic)){var geo_data=$.cookie(geoTypes.Geo_Dynamic).split(":");search_params+="&country="+(geo_data[0]?geo_data[0]:"");search_params+=geo_data[5]?"&latitude="+geo_data[5]:"";search_params+=geo_data[6]?"&longitude="+geo_data[6]:""}else{search_params+="&country=''"}return axs.utilities.generateURL("search_autocomplete_index",{_locale:locale})+search_params},list:{maxNumberOfElements:100,hideOnEmptyPhrase:false,match:{enabled:true},onShowListEvent:function(){if(getSearchResultLength()!==0){$noHistoryMessage.hide();$noResultMessage.hide()}},onLoadEvent:function(){if($inputField.val().length===0&&getSearchResultLength()===0){$noResultMessage.hide();$noHistoryMessage.show()}else if($inputField.val().length>2&&getSearchResultLength()===0){$noHistoryMessage.hide();$noResultMessage.show()}else if($inputField.val().length<=2&&getSearchResultLength()===0){$noHistoryMessage.hide();$noResultMessage.hide()}}},template:{type:"custom",method:function(value,item){if(item.type==="history"){$searchHistoryContainer.show();$searchResultContainer.hide()}else{$searchHistoryContainer.hide();$searchResultContainer.show()}var dataType="search-result--"+(item.category||"history");var itemCategory=item.category||"";var itemLabel=item.label||"";var itemDescription=item.description||"";return"<a class='search-result__row' data-result-type="+dataType+" href="+item.link+" >"+"<div class='display-table-cell'>"+"<div class='search-result__category'>"+itemCategory+"</div>"+"<div class='search-result__label'>"+itemLabel+"</div>"+"<div class='search-result__description'>"+itemDescription+"</div>"+"</div>"+"<div class='display-table-cell align-right'><svg class='svg-icon--right'><use xlink:href='#svg-icon-right'></use></svg></div>"+"</a>"}}};$inputField.easyAutocomplete(options);var $showClearHistory=$(".show-clear-history-options-js-trigger");var $clearHistoryWrapper=$(".clear-history-wrapper");var $clearHistory=$(".clear-history-js-trigger");var $cancelClearHistory=$(".cancel-clear-history-js-trigger");$showClearHistory.click(function(){$(this).hide();$clearHistoryWrapper.addClass("clear-history-wrapper-expanded")});$clearHistory.click(function(){$searchHistoryContainer.hide();$searchResultContainer.show();$.removeCookie("axs_search",{path:"/",domain:window.location.hostname.replace("www","")});init();$inputField.focus()});$cancelClearHistory.click(function(){$showClearHistory.show();$clearHistoryWrapper.removeClass("clear-history-wrapper-expanded")})}return{initialize:function(){rowClick();init()}}}();
(function($,namespace){var $body=$("body");function TakeoverSkin(){var cssProdPath="https://d1ya1fm0bicxg1.cloudfront.net/skins/takeover/",cssLocalPath="https://localhost/axs/bundles/aegaxs/takeovers/",cssExtention=".theme.css",cssId="takeover-css-link",$clickable=$("body, #page-relative-block, .ad-top-leaderboard"),$topAds=$(".ad-top-leaderboard, #ad-leaderboard"),delay=500,clickEvent="click.takeover",takeoverIsActive=false,takeoverTestIsActive=false,disableOnLocalMachine=true,disableTakeovers=false,testSettings,tName,tUrl,cssHref,$css,takeoverTimeout;function setVariables(){tName=takeover_name;tUrl=takeover_url;cssHref=cssProdPath+tName+"/"+tName+cssExtention;setCssLink(cssHref)}function setCssLink(href){$css=$('<link id="'+cssId+'" rel="stylesheet" type="text/css" media="screen" href="'+href+'">')}function setTakeover(){if(isActive()){$body.prepend($css);$clickable.on(clickEvent,function(e){if(e.target===this){window.open(tUrl)}});axs.pubsub.publish("takeoverSkin",{active:true});var carousels=$("*").filter(function(){return $(this).data("axs-carousel")!==undefined});if(carousels.length){carousels.each(function(){if($(this).data("is-loaded")){$(this).data("axs-carousel").reset()}})}takeoverIsActive=true}}function setTakeoverTimeout(callback){takeoverTimeout=setTimeout(callback,delay)}function resizeTimeoutCallback(){if(takeoverTestIsActive){setTestVariables();setTakeover()}else{attemptTakeover(setTakeover)}}function removeTakeover(){if(takeoverIsActive){resetVariables();removeTakeoverElements()}}function disableAllTakeovers(){disableTakeovers=true}function resetVariables(){takeover_name=undefined;takeover_url=undefined;tName=false;tUrl=false}function evaluateWindow(){return $(window).width()>750}function isActive(){return tName&&tUrl&&!takeoverIsActive&&!disableTakeovers}function setTestVariables(options){var defaults={takeover_name:"monsteradidas",takeover_url:"http://www.google.com",local:true,cssHref:false};testSettings=testSettings&&!options?testSettings:$.extend(defaults,options);tName=testSettings.takeover_name;tUrl=testSettings.takeover_url;if(testSettings.cssHref){cssHref=testSettings.cssHref}else{cssHref=testSettings.local?cssLocalPath+tName+"/"+tName+cssExtention:cssProdPath+tName+"/"+tName+cssExtention}setCssLink(cssHref)}function removeTakeoverElements(){$topAds.children().remove();$("#"+cssId).remove();$clickable.off(clickEvent);takeoverIsActive=false;axs.pubsub.publish("takeoverSkin",{active:false})}function initTestTakeover(options){takeoverTestIsActive=true;disableOnLocalMachine=false;disableTakeovers=false;removeTakeover();setTestVariables(options);initialize()}function attemptTakeover(callback){var attemptCount=0;clearTimeout(timeoutCallback);var timeoutCallback=function(){if(attemptCount<5){if(checkForVariables()){setVariables();callback&&callback()}else{attemptCount++;setTakeoverTimeout(timeoutCallback)}}};setTakeoverTimeout(timeoutCallback)}function checkForVariables(){return typeof takeover_name!=="undefined"||typeof takeover_url!=="undefined"}function bindEvents(){$(window).on("resize.takeover",function(){clearTimeout(takeoverTimeout);if(evaluateWindow()){setTakeoverTimeout(resizeTimeoutCallback)}else{removeTakeover()}})}function initialize(){if(disableOnLocalMachine&&window.location.href.indexOf("localhost")>-1){disableAllTakeovers()}if(takeoverTestIsActive){setTakeover()}else{attemptTakeover(setTakeover)}bindEvents()}initialize();return{remove:removeTakeover,test:initTestTakeover,block:disableAllTakeovers}}namespace.ExtendTakeover=TakeoverSkin})(window.jQuery,window.axs||{});
(function($,namespace){function ticker(options){var defaults={container:".ticker",content:".ticker-content",dur:6e3,autoStart:true};var settings=$.extend({},defaults,options);var $container=settings.container instanceof jQuery?settings.container:$(settings.container),$content=settings.content instanceof jQuery?$container.find(settings.content):$(settings.content,$container),offsetIncrement=$content.parent().height(),contentHeight=$content.outerHeight(),offset=0,eventName="tickerHover",tickerActive=false,tickerInterval=null;function offsetContent(){offset+=offsetIncrement;offset=offset>=contentHeight?0:offset;if(Modernizr.csstransitions){$content.css("top",-1*offset)}else{$content.animate({top:-1*offset},1e3)}}function updateContentHeight(){contentHeight=$content.outerHeight()}function shouldTickerStart(){if(contentHeight>offsetIncrement&&!tickerActive){return true}}function shouldTickerReset(){if(contentHeight<=offsetIncrement&&tickerActive){return true}}function init(){if(settings.autoStart){public_startTicker()}$(window).on("resize",function(){updateContentHeight();public_startTicker();if(shouldTickerReset()){public_resetTicker()}})}function public_startTicker(){if(shouldTickerStart()){tickerInterval=setInterval(offsetContent,settings.dur);tickerActive=true;public_bindEvents()}}function public_pauseTicker(){clearInterval(tickerInterval);tickerActive=false}function public_resetTicker(){public_pauseTicker();$content.css("top",0);public_unbindEvents()}function public_bindEvents(){$container.on("mouseenter."+eventName,function(){public_pauseTicker()});$container.on("mouseleave."+eventName,function(){public_unbindEvents();public_startTicker()})}function public_unbindEvents(){$container.off("mouseenter."+eventName).off("mouseleave."+eventName)}init();return{start:public_startTicker,pause:public_pauseTicker,reset:public_resetTicker,bind:public_bindEvents,unbind:public_unbindEvents}}namespace.Ticker=ticker})(window.jQuery,window.axs||{});
var axs=window.axs||{};axs.truncate=function(str,to,options){var match,str=str.trim(),tagRegex=/<([^>\s]*)[^>]*>/g,stack=[],lastIndex=0,result="";var defaults={endWith:"..."};var settings=$.extend(defaults,options);function getLength(){var strLength=str.length;while(match=tagRegex.exec(str)){strLength-=match[0].length}return strLength}function truncateHTML(){while((match=tagRegex.exec(str))&&to){var temp=str.substring(lastIndex,match.index).substr(0,to);result+=temp;to-=temp.length;lastIndex=tagRegex.lastIndex;if(to){result+=match[0];if(match[1].indexOf("/")===0){stack.pop()}else if(match[1].lastIndexOf("/")!==match[1].length-1){stack.push(match[1])}}}result+=str.substr(lastIndex,to);if(stack.length){var indexes=stack.length-1;for(var i=indexes;i>=0;i--){if(i===0){result+=settings.endWith+"</"+stack.pop()+">"}else{result+="</"+stack.pop()+">"}}}else{result+=settings.endWith}return result}return{original:str,truncated:truncateHTML(),len:getLength()}};
var axs=window.axs||{};axs.Twitter=function(){return{initialize:function(){!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs)}}(document,"script","twitter-wjs")}}}();
(function($,namespace){var $html=$("html");var $body=$("body");function UIFramework(){var $nav=$("#global-nav"),$searchTrigger=$(".mobile-search-trigger"),$searchContainer=$("#global-search-container"),navOffsetTop=$nav.length&&$nav.offset().top,classNavIsAttached="nav-is-attached",desktopSize=1185,navIsAttachedStatus=false,$navPlaceholder;var s_pageDrawer="#global-menu-drawer",s_globalMenu="#global-menu",s_globalMenuCategories="#global-menu-categories",s_navGlobalMenu="#nav-global-menu-container",s_drawerTrigger="#global-menu-trigger",s_closeDrawerTrigger=".global-menu-close-trigger",s_globalSubMenu=".global-menu__submenu",s_globalSubMenuBack=".global-menu__submenu--back",s_navDesktopItem=".nav-item",s_subMenuWithChildren='li:has("'+s_globalSubMenu+'") > a',event_clickSubMenu="click.submenu",currentBreakpoint=getCurrentBreakpoint(),$pageDrawer=$(s_pageDrawer),$globalMenu=$(s_globalMenu),$globalMenuCategories=$(s_globalMenuCategories),$navGlobalMenu=$(s_navGlobalMenu),$drawerTrigger=$(s_drawerTrigger),$closeDrawerTrigger=$(s_closeDrawerTrigger),$navDesktopItem=$(s_navDesktopItem),classDrawerOpen="drawer-open",classBlockTrans="drawer-block-transition",classOpen="is-open",classNavLinkSelected="has-submenu-open",s_openSubmenu=s_globalSubMenu+"."+classOpen,browseMenuIsOpen,mobileSearchIsOpen;function updateNavStartingPosition(){navOffsetTop=$navPlaceholder&&$navPlaceholder.is(":visible")?$navPlaceholder.offset().top:$nav.offset().top}function evaluateAttachNav(){return $(window).scrollTop()>navOffsetTop}function attachNav(){$body.addClass(classNavIsAttached);if(!$navPlaceholder){$navPlaceholder=$('<div id="global-nav-placeholder"/>').insertAfter($nav)}var h=$nav.outerHeight();$navPlaceholder.height(h).show();navIsAttachedStatus=true}function detachNav(){$body.removeClass(classNavIsAttached);$navPlaceholder.hide();navIsAttachedStatus=false}function sharedOpenMenu($container){browseMenuIsOpen=true;if(!$container.find(s_globalMenu).length){$globalMenu.prependTo($container)}}function sharedCloseMenu(){browseMenuIsOpen=false}function openDrawerSubMenu($subMenu,$navLink){closeDrawerSubMenu();$navLink.addClass(classNavLinkSelected);$subMenu.addClass(classOpen);$subMenu.find(s_globalSubMenuBack).on(event_clickSubMenu,function(){closeDrawerSubMenu();$(this).off(event_clickSubMenu)})}function closeDrawerSubMenu(){var $allSubMenuCategories=$globalMenuCategories.find("li");$allSubMenuCategories.each(function(){$(this).find(s_globalSubMenu).removeClass(classOpen);$(this).find("."+classNavLinkSelected).removeClass(classNavLinkSelected)})}function openDrawer(){sharedOpenMenu($pageDrawer);$body.addClass(classDrawerOpen);axs.modalManager.hideAll();axs.utilities.outsideClick.bind($("#global-menu-drawer, .modal-container "),function(){closeDrawer()},"mousedown.outsideMobileMenu");$globalMenu.find(s_subMenuWithChildren).on(event_clickSubMenu,function(e){e.preventDefault();var $subMenu=$(this).parent().find(s_globalSubMenu);openDrawerSubMenu($subMenu,$(this))});$nav.cssTransitionEnd(function(){$body.addClass(classBlockTrans)})}function closeDrawer(){sharedCloseMenu();$body.removeClass(classDrawerOpen).removeClass(classBlockTrans);$globalMenu.find(s_subMenuWithChildren).off(event_clickSubMenu);closeDrawerSubMenu($globalMenu.find(s_openSubmenu))}function drawerInit(){$drawerTrigger.on("click",function(e){if(browseMenuIsOpen){closeDrawer()}else{openDrawer()}});axs.pubsub.subscribe("globalUsernameDisplay","update.userinfo",function(e,user){$(".user-name").text(user.first_name)})}function openMobileSearch(){var nh=$nav.outerHeight(),np=parseFloat($nav.css("padding-top"));$searchContainer.addClass(classOpen).css("top",nh-np);axs.utilities.outsideClick.bind($searchContainer.add($searchTrigger),closeMobileSearch);mobileSearchIsOpen=true}function closeMobileSearch(){$searchContainer.removeClass(classOpen).css("top","");axs.utilities.outsideClick.unbind();mobileSearchIsOpen=false}function layoutInit(){$globalMenu.find(s_subMenuWithChildren).addClass("has-submenu");$searchTrigger.on("click",function(){if(!$searchContainer.hasClass(classOpen)){openMobileSearch()}});drawerInit();$closeDrawerTrigger.click(closeDrawer);axs.pubsub.subscribe("navLocation","media.breakpoint",function(e,data){if(data.breakpoint==="desktop-view"){mobileSearchIsOpen&&closeMobileSearch();browseMenuIsOpen&&closeDrawer()}});var adjustDropdown=function(dropdown,input,navIsAttached){var $dropdown=dropdown instanceof jQuery?dropdown:$(dropdown);var $input=input instanceof jQuery?input:$(input);if($dropdown.is(":visible")){var offset=$input.offset().top+$input.outerHeight(true);offset=navIsAttached?offset-$(window).scrollTop():offset;$dropdown.css("top",offset)}};axs.pubsub.subscribe("mobileAutoComplete","navstatus",function(e,nav){if(nav.attach){if(!$("body.bugfix-iosfixedfocus-nav").length){attachNav();adjustDropdown("#search-autocomplete-menu","#q",nav.attach);adjustDropdown("#location-autocomplete","#location_input",nav.attach)}}else{detachNav();adjustDropdown("#search-autocomplete-menu","#q",nav.attach);adjustDropdown("#location-autocomplete","#location_input",nav.attach)}});axs.pubsub.publish("media.breakpoint",{breakpoint:currentBreakpoint});publishNavState();$navDesktopItem.click(function(){$(this).addClass("is-active")})}function getCurrentBreakpoint(){return $html.css("font-family").replace(/'|"/g,"")}function evaluateBreakpoint(){var breakpointResult=$(window).width();if(desktopSize<breakpointResult){breakpointResult=getCurrentBreakpoint();axs.pubsub.publish("media.breakpoint",{breakpoint:breakpointResult})}}function publishNavState(){if(evaluateAttachNav()&&!navIsAttachedStatus){axs.pubsub.publish("navstatus",{attach:true})}else if(!evaluateAttachNav()&&navIsAttachedStatus){axs.pubsub.publish("navstatus",{attach:false})}}$(window).scroll(function(){publishNavState()});$(window).resize(function(){evaluateBreakpoint();updateNavStartingPosition()});layoutInit();return{updateNavStartingPosition:updateNavStartingPosition,getBreakpoint:getCurrentBreakpoint}}namespace.ExtendUIFramework=UIFramework})(window.jQuery,window.axs||{});
axs.users=function(){function modalInit(){axs.modalManager.register("disconnectFacebook",$("#fb-disconnect-modal").axsModal());axs.modalManager.register("mobileHelp",$("#mobile-help-modal").axsModal())}return{initialize:function(){modalInit();if(typeof $("div#axs-newsletter-dialog > div#user").attr("class")!="undefined"&&$("div#axs-newsletter-dialog > div#user").attr("class")!="y"){axs.Core.initAuthPopups(true);$("a.myaxs-login.popup").trigger("click");return}$("#lnk-mobile-help").on("click",function(){axs.modalManager.get("mobileHelp").show()});var user=axs.Global.getUser();if(user){if(user.venue_alert_active)$("input#users-venue-alert").prop("checked",true);if(user.event_performer_alert_active)$("input#users-event-performer-alert").prop("checked",true)}else{axs.Core.initAuthPopups(true);$("a.myaxs-login.popup").trigger("click")}$("input#users-venue-alert").on("click",function(){var isChecked=$(this).is(":checked");axs.Global.setUserSubscription("venue",isChecked,function(retval){if(retval)$("input#users-venue-alert").prop("checked",retval.isSubscribed)})});$("input#users-event-performer-alert").on("click",function(){var isChecked=$(this).is(":checked");axs.Global.setUserSubscription("event",isChecked,function(retval){if(retval)$("input#users-event-performer-alert").prop("checked",retval.isSubscribed)})});$("input#users-axs-newsletter-alert").on("click",function(){var isChecked=$(this).is(":checked");axs.Global.setUserSubscription("axs",isChecked,function(retval){if(retval)$("input#users-axs-newsletter-alert").prop("checked",retval.isSubscribed)})});$("input#users-special-offers-alert").on("click",function(){var isChecked=$(this).is(":checked");axs.Global.setUserSubscription("offers",isChecked,function(retval){if(retval)$("input#users-special-offers-alert").prop("checked",retval.isSubscribed)})});$(".btn-save_communication-info").on("click",function(){axs.Global.saveCommunicationsCheckBoxes(true)});axs.Global.enableCommunicationsValidation();axs.users.connectUserToFacebook();axs.users.disconnectUserFromFacebook();axs.users.setPasswordOnFacebookDisconnect();axs.users.saveAccountChanges();$("#communications-email-checkbox-4").attr("checked","checked").attr("disabled","disabled")},setPasswordOnFacebookDisconnect:function(){$("#create-user-password-form").validate({rules:{password_new:{required:true,minlength:6},password_new_again:{equalTo:"#txt-password-new"}},messages:{password_new:{required:$.validator.format(myAxsTranslations.pages.accountInformation.facebookConnectModule.disconnectDialog.formFields.password.validationMessages.required),minlength:$.validator.format(myAxsTranslations.pages.accountInformation.facebookConnectModule.disconnectDialog.formFields.password.validationMessages.minLength)},password_confirm:{equalTo:$.validator.format(myAxsTranslations.pages.accountInformation.facebookConnectModule.disconnectDialog.formFields.newPassword.validationMessages.passwordMismatch)}},onfocusout:false,errorElement:"span",errorPlacement:function(error,element){error.insertBefore($(element).parent()).wrap("<div/>")},submitHandler:function(form){form.submit()}});$("#create-user-password-btn").on("click",function(){if($("#create-user-password-form").validate()){var userPassCurrent=$("#txt-password_current").val();var userPassNew=$("#txt-password-new").val();$("#fb-disconnect-modal").addClass("loader");var retval=axs.Global.setUserPass(userPassCurrent,userPassNew);if(!retval.error){axs.Facebook.disconnect(function(){axs.Global.removeUserFBLink(function(){$("#fb-disconnect-modal").removeClass("loader");var newsletterModal=axs.modalManager.get("newsletter");if(newsletterModal!==undefined){newsletterModal.hide()}window.location.reload()})})}}})},saveAccountChanges:function(){jQuery.validator.addMethod("noSpecialCharacters",function(value,element){return this.optional(element)||/^[^<>?{}/\\\[\]]+$/i.test(value)},"No special characters please");$("#myaxs-profile-info-form").validate({rules:{first_name:{required:true,maxlength:100,noSpecialCharacters:true},last_name:{required:true,maxlength:200,noSpecialCharacters:true},email_address:{required:true,email:true,maxlength:200},zip_code:{required:false,minlength:5,maxlength:15,noSpecialCharacters:true},password_new:{required:function(){var $currentPassword=$("#txt-current-password");return $currentPassword.is(":visible")&&$currentPassword.val().length>0},minlength:6},password_new_again:{equalTo:"#txt-password"}},messages:{first_name:{required:myAxsTranslations.pages.accountInformation.formFields.name.firstName.validationMessages.required,noSpecialCharacters:myAxsTranslations.pages.accountInformation.formFields.general.validationMessages.specialCharacters},last_name:{required:myAxsTranslations.pages.accountInformation.formFields.name.lastName.validationMessages.required,noSpecialCharacters:myAxsTranslations.pages.accountInformation.formFields.general.validationMessages.specialCharacters},email_address:myAxsTranslations.pages.accountInformation.formFields.email.validationMessages.required,zip_code:{required:myAxsTranslations.pages.accountInformation.formFields.postalCode.validationMessages.required,noSpecialCharacters:myAxsTranslations.pages.accountInformation.formFields.general.validationMessages.specialCharacters},current_password:myAxsTranslations.pages.accountInformation.formFields.password.currentPassword.validationMessages.required,password_new:{required:myAxsTranslations.pages.accountInformation.formFields.password.newPassword.validationMessages.required,minlength:$.validator.format(myAxsTranslations.pages.accountInformation.formFields.password.newPassword.validationMessages.minLength)},password_new_again:{equalTo:$.validator.format(myAxsTranslations.pages.accountInformation.formFields.password.confirmPassword.validationMessages.passwordMismatch)}},errorElement:"div",errorPlacement:function(error,element){if($(element).hasClass(this.errorClass)){error.insertBefore($(element).parent()).addClass("error-message")}},success:function(element){$(element).parent().prev("."+this.errorClass).remove()},submitHandler:function(form){return false}});$("#myaxs-profile-info-form .save-account-info").on("click",function(e){var self=this;if($("#myaxs-profile-info-form").valid()){$(self).addClass("is-loading");axs.Core.loadingScreen.show(function(){var $locationField=$("#user-zip-code");axs.Global.updateUserProfile(e,function(retVal,user){if(retVal&&typeof retVal!="string"){isNative=user?user.isNative:false;axs.Core.loadingScreen.hide();axs.users.messageBox({prependTo:"#myaxs-profile-info-form .account-section:first"});if($("#txt-password").val().length>0&&$("#txt-password").val().length>0)window.location.reload();$("#myaxs-form-error").hide();$(":password").val("");if(isNative){$("#txt-current-password").val("");$("#txt-current-password").parent().removeClass("hidden");$("#password-helper-text").html("<b class='header'>Password is set</b>Your current AXS.com password is set. To change your password, simply fill out the form and click 'Save Changes.'")}}else if(retVal!=null&&typeof retVal!="boolean"){$("#myaxs-form-error").text(retVal);$("#myaxs-form-error").show();axs.Core.loadingScreen.hide();$(self).removeClass("is-loading")}axs.Core.loadingScreen.hide();$(self).removeClass("is-loading")})});axs.Core.loadingScreen.hide();$(self).removeClass("is-loading")}})},connectUserToFacebook:function(){$("#lnk-facebook-connect").on("click",function(){axs.Core.loadingScreen.show(axs.Facebook.connectFacebookToCurrentUser(function(response){if(!response.success){axs.users.messageBox({alertType:"message-box--error has-topMargin",message:response.errorMessage,prependTo:"#fb-connect-error",isTemporary:true});axs.Core.loadingScreen.hide();FB.logout(function(response){})}else{window.location.reload()}}))})},disconnectUserFromFacebook:function(){$("#fbDisconnect").on("click",function(){if(!isNative){axs.modalManager.get("disconnectFacebook").show()}else{axs.Core.loadingScreen.show(function(){axs.Facebook.disconnect(function(){axs.Global.removeUserFBLink(function(){window.location.reload()})},true)})}})},refreshAlertsTab:function(){axs.users.getUserAlerts(function(alerts,error){$("div#tabs-1").empty();var eventIds=alerts[1];$.each(eventIds,function(i,v){var content='<ul class="alertItem" style="float: left">'+'<li class="w200">'+"<div><strong>headliner</strong></div>"+"<div><strong>tour</strong></div>"+"<div><strong>With:</strong> support</div>"+"</li>"+'<li class="w120 pl5">'+"<div><strong>venue</strong></div>"+"<div>city</div>"+"</li>"+'<li class="w120 pl5">'+"<div>Day</div>"+"<div>time</div>"+"</li>"+'<li class="w90 pl5">Follow event</li>'+'<li class="w90 pl10">Button</li>'+"</ul>";$("div#tabs-1").append(content)})})},setUserEmail:function(newEmail){var user=null,error=null;$.ajax({type:"POST",async:false,url:Routing.generate("api_proxy_user_email"),data:JSON.stringify({email:newEmail}),dataType:"json",success:function(data){if(data.error){if(data.error_description)error=data.error_description;else error=data.error}else{user=data}},error:function(req,status,error){if(error)error=error;else error="System error.  Please try again later."}});var retval={user:user,error:error};return retval},getUserAlerts:function(callback){var alerts=null,error=null;$.ajax({type:"POST",async:true,url:Routing.generate("api_proxy_user_alerts"),dataType:"json",success:function(data){if(data.error){if(data.error_description)callback(alerts,data.error_description);else callback(alerts,data.error)}else if(data){callback(data,error)}else{callback(alerts,"System error.  Please try again later.")}},error:function(req,status,error){if(error)callback(alerts,error);else callback(alerts,"System error.  Please try again later.")}})},unfollow:function(userId,categoryId,objectId,followButton){axs.Core.unfollow(userId,categoryId,objectId,followButton);$("#alert_"+categoryId+"_"+objectId).remove()},displayUserUpcomingEvents:function(dateFormatsArray){$.ajax({type:"GET",async:true,url:Routing.generate("api_proxy_user_events_upcoming")+"?locale="+locale,dataType:"json",timeout:3e4,success:function(data){formats=$.parseJSON(dateFormatsArray);if(typeof data!=="undefined"&&data.length>0){if(data[0].productCode){var $eventPartialName="myPurchasedEvent";var $eventPartialTemplateName="myPurchasedEvent-partial"}else{var $eventPartialName="myFollowedEvent";var $eventPartialTemplateName="myFollowedEvent-partial"}if(data[0].additionalDates!=undefined&&data[0].additionalDates.length>0){data[0].multipleDates=true}}else{var $eventPartialName="noUpcomingEvents";var $eventPartialTemplateName="noUpcomingEvents-partial"}var $upcomingEventsDiv=$("#account-upcoming-events-template").html();var sourcePartial=$("#"+$eventPartialTemplateName).html();Handlebars.partials[$eventPartialTemplateName]=Handlebars.compile(sourcePartial);sourcePartial=$("#frontGateOrder-partial").html();Handlebars.partials["frontGateOrder-partial"]=Handlebars.compile(sourcePartial);sourcePartial=$("#myPurchasedFrontGateEvent-partial").html();Handlebars.partials["myPurchasedFrontGateEvent-partial"]=Handlebars.compile(sourcePartial);var $resultTemplate=Handlebars.compile($upcomingEventsDiv);Handlebars.registerPartial($eventPartialName,$("#"+$eventPartialTemplateName).html());Handlebars.registerPartial("frontGateOrder-partial",$("#frontGateOrder-partial").html());Handlebars.registerPartial("myPurchasedFrontGateEvent-partial",$("#myPurchasedFrontGateEvent-partial").html());var $html=$resultTemplate(data);var $cont=$("#myaxs-main-cont");$cont.prepend($html)},error:function(){}})},displayOrderHistory:function(dateFormatsArray){axs.Core.loadingScreen.show();$.ajax({type:"GET",async:true,url:Routing.generate("api_proxy_user_my_events")+"?locale="+locale,dataType:"json",timeout:6e4,success:function(data){axs.Core.loadingScreen.hide();var mobileAppBannerMessage=myAxsTranslations.pages.myEvents.mobileBannerMessage;mobileAppBannerMessage=mobileAppBannerMessage.replace("%mobileAppLink%","http://www.axs.com/features/axsmobileapp");mobileAppBannerMessage=mobileAppBannerMessage.replace("%supportLink%","https://support.axs.com/home");data.mobileAppBannerMessage=mobileAppBannerMessage;formats=$.parseJSON(dateFormatsArray);var sourcePartial=$("#myPurchasedEvent-partial").html();Handlebars.partials["myPurchasedEvent-partial"]=Handlebars.compile(sourcePartial);sourcePartial=$("#mySharedTicketStatus-partial").html();Handlebars.partials["mySharedTicketStatus-partial"]=Handlebars.compile(sourcePartial);sourcePartial=$("#frontGateOrder-partial").html();Handlebars.partials["frontGateOrder-partial"]=Handlebars.compile(sourcePartial);sourcePartial=$("#myPurchasedFrontGateEvent-partial").html();Handlebars.partials["myPurchasedFrontGateEvent-partial"]=Handlebars.compile(sourcePartial);sourcePartial=$("#noUpcomingEvents-partial").html();Handlebars.partials["noUpcomingEvents-partial"]=Handlebars.compile(sourcePartial);var $resultTemplate=Handlebars.compile($("#my-events-template").html());Handlebars.registerPartial("myPurchasedEvent-partial",$("#myPurchasedEvent-partial").html());Handlebars.registerPartial("mySharedTicketStatus-partial",$("#mySharedTicketStatus-partial").html());Handlebars.registerPartial("frontGateOrder-partial",$("#frontGateOrder-partial").html());Handlebars.registerPartial("myPurchasedFrontGateEvent-partial",$("#myPurchasedFrontGateEvent-partial").html());Handlebars.registerPartial("noUpcomingEvents-partial",$("#noUpcomingEvents-partial").html());var $html=$resultTemplate(data);$("#js-order-history-container").append($html)},error:function(xHr,textStatus,errorThrown){$("#content_order_history_unavailable").show();axs.Core.loadingScreen.hide()}})},messageBox:function(options){var defaults={alertType:"message-box--success",message:translations.changesSaved,prependTo:".main-content-panel",elementType:"div",isTemporary:true,duration:8e3,animationSpeed:500,scrollToTop:true,callback:function(){return false}};var d=$.extend(defaults,options||{});var $alert=$("<"+d.elementType+' class="'+d.alertType+'">'+d.message+"</"+d.elementType+">").prependTo($(d.prependTo));if($alert.hasClass("is-success")){if(d.scrollToTop)$("html,body").animate({scrollTop:0},250)}if(d.isTemporary)$alert.hide().fadeIn(d.animationSpeed).delay(d.duration).fadeOut(d.animationSpeed,function(){$alert.remove();d.callback()});else{d.callback()}}}}();
jQuery.fn.extend({setLinkTarget:function(target){var target=target?target:"_blank";this.attr("target",target)},cssTransitionEnd:function(callback,unbind){var removeTransition=!unbind?true:false;this.on("transitionend",function(){callback&&callback();if(removeTransition){$(this).unbind("transitionend")}})}});(function($,namespace){function utilities(){function getQueryValule(variable){var query=window.location.search.substring(1);var vars=query.split("&");for(var i=0,len=vars.length;i<len;i++){var pair=vars[i].split("=");if(pair[0]==variable){return pair[1]}}return false}function outsideClick(){function OutsideClick(){var eventNamespace="";function bindClick(exclusions,callback,customEventNamespace){var $exclusions=$(exclusions);eventNamespace=customEventNamespace||"mousedown.outside";$(document).on(eventNamespace,function(e){if($(e.target).closest($exclusions).length===0&&!$(e.target).is($exclusions)){e.stopPropagation();callback&&callback(e);unbindClick()}})}function unbindClick(){$(document).off(eventNamespace)}return{bind:bindClick,unbind:unbindClick}}return new OutsideClick}function isSecure(){return window.location.protocol==="https:"}function translate(string,args){$(args).each(function(){string=string.replace(this.key,this.value)});return string}function generateURL(route,params){if(params&&params._locale&&params._locale=="en-US"){delete params["_locale"];if(jQuery.isEmptyObject(params))params=null}if(params){if(!params._locale)return Routing.generate(route+"_base",params);else{params._locale=axs.Global.mapLocale(params._locale);return Routing.generate(route,params)}}else return Routing.generate(route+"_base")}function getLocalizedURL(_locale){var url="";if(Object.keys(localizedURLs).length>0){url=decodeURIComponent(localizedURLs[_locale]);var match=url.match(/.*[?&](referer|referrer)=([^&]+)(&|$)/);if(match){var referer=match[2];localizedReferer=referer.replace(Routing.getBaseUrl(),"");var refererMatch=localizedReferer.match(/\/([\w]{2}|[\w]{2}-[\w]{2})(\/|\b)/);if(refererMatch){var alias=axs.Global.mapLocale(_locale);localizedReferer=localizedReferer.replace("/"+refererMatch[1],alias?"/"+alias:"");url=url.replace(referer,Routing.getBaseUrl()+localizedReferer)}else{var alias=axs.Global.mapLocale(_locale);url=url.replace(referer,Routing.getBaseUrl()+(alias?"/"+alias:"")+localizedReferer)}}}else{var url=window.location.href;url=url.replace("http://","");url=url.replace(Routing.generate("default_index_base"),"/");var path=url.substr(url.indexOf("/")+1,url.length);var hasLocale=path.substr(0,path.indexOf("/")).length==2;if(hasLocale)path=path.substr(path.indexOf("/")+1,path.length);var alias=axs.Global.mapLocale(_locale);url=Routing.generate("default_index_base")+(alias!=""?alias+"/":"")+path}$.cookie("preferred_locale",_locale,{path:"/"});if($.removeCookie!=null){$.removeCookie("initial_redirect",{path:"/"})}else{$.cookie("initial_redirect",null,{path:"/"})}return url}function logData(actionType,data){if(data&&userData){data["user"]=userData}$.post(Routing.generate("api_global_logger_post")+"?application=AXS&actionType="+actionType,JSON.stringify(data))}return{getQueryVal:getQueryValule,outsideClick:outsideClick(),isSecure:isSecure,translate:translate,generateURL:generateURL,getLocalizedURL:getLocalizedURL,logData:logData}}namespace.ExtendUtilities=utilities})(window.jQuery,window.axs||{});
var axs=window.axs||{};axs.AXSID=function(){var params={};function startAXSId(axsClientId,clientId,clientSecret,randomId,axsIdClientName,locale,facebookAppId,axsIdSkin,axsIdContactSupport,axsIdPrivacyPolicy,axsIdTerms,country,callback){window.AXSIDReady=function(){params={axsClientID:axsClientId,clientID:clientId+"_"+randomId,clientSecret:clientSecret,containerID:"axsid_login",locale:locale,country:country,clientDisplayName:axsIdClientName,privacyPolicyLink:axsIdPrivacyPolicy,termsAndConditionsLink:axsIdTerms,contactSupportLink:axsIdContactSupport,facebookAppID:facebookAppId,skin:axsIdSkin,timeout:20};AXSID.login(params,function(err,status,user){if(user){if(user.email){callback(null,user)}}})}}function hideAxsIdForm(){AXSID.hide(params)}function generateRedirectUrl(url,accessToken,refreshToken){var separator=url.indexOf("?")===-1?"?":"&";return url+separator+"access_token="+accessToken+"&refresh_token="+refreshToken}return{startAXSId:startAXSId,hideAxsIdForm:hideAxsIdForm,generateRedirectUrl:generateRedirectUrl}}();
(function(window,undefined){"$:nomunge";var $=window.jQuery||window.Cowboy||(window.Cowboy={}),jq_throttle;$.throttle=jq_throttle=function(delay,no_trailing,callback,debounce_mode){var timeout_id,last_exec=0;if(typeof no_trailing!=="boolean"){debounce_mode=callback;callback=no_trailing;no_trailing=undefined}function wrapper(){var that=this,elapsed=+new Date-last_exec,args=arguments;function exec(){last_exec=+new Date;callback.apply(that,args)}function clear(){timeout_id=undefined}if(debounce_mode&&!timeout_id){exec()}timeout_id&&clearTimeout(timeout_id);if(debounce_mode===undefined&&elapsed>delay){exec()}else if(no_trailing!==true){timeout_id=setTimeout(debounce_mode?clear:exec,debounce_mode===undefined?delay-elapsed:delay)}}if($.guid){wrapper.guid=callback.guid=callback.guid||$.guid++}return wrapper};$.debounce=function(delay,at_begin,callback){return callback===undefined?jq_throttle(delay,at_begin,false):jq_throttle(delay,callback,at_begin!==false)}})(this);
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{factory(jQuery)}})(function($){$.extend($.fn,{validate:function(options){if(!this.length){if(options&&options.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var validator=$.data(this[0],"validator");if(validator){return validator}this.attr("novalidate","novalidate");validator=new $.validator(options,this[0]);$.data(this[0],"validator",validator);if(validator.settings.onsubmit){this.validateDelegate(":submit","click",function(event){if(validator.settings.submitHandler){validator.submitButton=event.target}if($(event.target).hasClass("cancel")){validator.cancelSubmit=true}if($(event.target).attr("formnovalidate")!==undefined){validator.cancelSubmit=true}});this.submit(function(event){if(validator.settings.debug){event.preventDefault()}function handle(){var hidden;if(validator.settings.submitHandler){if(validator.submitButton){hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val($(validator.submitButton).val()).appendTo(validator.currentForm)}validator.settings.submitHandler.call(validator,validator.currentForm,event);if(validator.submitButton){hidden.remove()}return false}return true}if(validator.cancelSubmit){validator.cancelSubmit=false;return handle()}if(validator.form()){if(validator.pendingRequest){validator.formSubmitted=true;return false}return handle()}else{validator.focusInvalid();return false}})}return validator},valid:function(){var valid,validator;if($(this[0]).is("form")){valid=this.validate().form()}else{valid=true;validator=$(this[0].form).validate();this.each(function(){valid=validator.element(this)&&valid})}return valid},removeAttrs:function(attributes){var result={},$element=this;$.each(attributes.split(/\s/),function(index,value){result[value]=$element.attr(value);$element.removeAttr(value)});return result},rules:function(command,argument){var element=this[0],settings,staticRules,existingRules,data,param,filtered;if(command){settings=$.data(element.form,"validator").settings;staticRules=settings.rules;existingRules=$.validator.staticRules(element);switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument));delete existingRules.messages;staticRules[element.name]=existingRules;if(argument.messages){settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages)}break;case"remove":if(!argument){delete staticRules[element.name];return existingRules}filtered={};$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];delete existingRules[method];if(method==="required"){$(element).removeAttr("aria-required")}});return filtered}}data=$.validator.normalizeRules($.extend({},$.validator.classRules(element),$.validator.attributeRules(element),$.validator.dataRules(element),$.validator.staticRules(element)),element);if(data.required){param=data.required;delete data.required;data=$.extend({required:param},data);$(element).attr("aria-required","true")}if(data.remote){param=data.remote;delete data.remote;data=$.extend(data,{remote:param})}return data}});$.extend($.expr[":"],{blank:function(a){return!$.trim(""+$(a).val())},filled:function(a){return!!$.trim(""+$(a).val())},unchecked:function(a){return!$(a).prop("checked")}});$.validator=function(options,form){this.settings=$.extend(true,{},$.validator.defaults,options);this.currentForm=form;this.init()};$.validator.format=function(source,params){if(arguments.length===1){return function(){var args=$.makeArray(arguments);args.unshift(source);return $.validator.format.apply(this,args)}}if(arguments.length>2&&params.constructor!==Array){params=$.makeArray(arguments).slice(1)}if(params.constructor!==Array){params=[params]}$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),function(){return n})});return source};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(element){this.lastActive=element;if(this.settings.focusCleanup&&!this.blockFocusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass)}this.hideThese(this.errorsFor(element))}},onfocusout:function(element){if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))){this.element(element)}},onkeyup:function(element,event){if(event.which===9&&this.elementValue(element)===""){return}else if(element.name in this.submitted||element===this.lastElement){this.element(element)}},onclick:function(element){if(element.name in this.submitted){this.element(element)}else if(element.parentNode.name in this.submitted){this.element(element.parentNode)}},highlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).addClass(errorClass).removeClass(validClass)}else{$(element).addClass(errorClass).removeClass(validClass)}},unhighlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).removeClass(errorClass).addClass(validClass)}else{$(element).removeClass(errorClass).addClass(validClass)}}},setDefaults:function(settings){$.extend($.validator.defaults,settings)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var groups=this.groups={},rules;$.each(this.settings.groups,function(key,value){if(typeof value==="string"){value=value.split(/\s/)}$.each(value,function(index,name){groups[name]=key})});rules=this.settings.rules;$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value)});function delegate(event){var validator=$.data(this[0].form,"validator"),eventType="on"+event.type.replace(/^validate/,""),settings=validator.settings;if(settings[eventType]&&!this.is(settings.ignore)){settings[eventType].call(validator,this[0],event)}}$(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, "+"[type='number'], [type='search'] ,[type='tel'], [type='url'], "+"[type='email'], [type='datetime'], [type='date'], [type='month'], "+"[type='week'], [type='time'], [type='datetime-local'], "+"[type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",delegate).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",delegate);if(this.settings.invalidHandler){$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}$(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var i=0,elements=this.currentElements=this.elements();elements[i];i++){this.check(elements[i])}return this.valid()},element:function(element){var cleanElement=this.clean(element),checkElement=this.validationTargetFor(cleanElement),result=true;this.lastElement=checkElement;if(checkElement===undefined){delete this.invalid[cleanElement.name]}else{this.prepareElement(checkElement);this.currentElements=$(checkElement);result=this.check(checkElement)!==false;if(result){delete this.invalid[checkElement.name]}else{this.invalid[checkElement.name]=true}}$(element).attr("aria-invalid",!result);if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return result},showErrors:function(errors){if(errors){$.extend(this.errorMap,errors);this.errorList=[];for(var name in errors){this.errorList.push({message:errors[name],element:this.findByName(name)[0]})}this.successList=$.grep(this.successList,function(element){return!(element.name in errors)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(obj){var count=0,i;for(i in obj){count++}return count},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(errors){errors.not(this.containers).text("");this.addWrapper(errors).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&$.grep(this.errorList,function(n){return n.element.name===lastActive.name}).length===1&&lastActive},elements:function(){var validator=this,rulesCache={};return $(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){if(!this.name&&validator.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in rulesCache||!validator.objectLength($(this).rules())){return false}rulesCache[this.name]=true;return true})},clean:function(selector){return $(selector)[0]},errors:function(){var errorClass=this.settings.errorClass.split(" ").join(".");return $(this.settings.errorElement+"."+errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.currentElements=$([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(element){this.reset();this.toHide=this.errorsFor(element)},elementValue:function(element){var val,$element=$(element),type=element.type;if(type==="radio"||type==="checkbox"){return $("input[name='"+element.name+"']:checked").val()}else if(type==="number"&&typeof element.validity!=="undefined"){return element.validity.badInput?false:$element.val()}val=$element.val();if(typeof val==="string"){return val.replace(/\r/g,"")}return val},check:function(element){element=this.validationTargetFor(this.clean(element));var rules=$(element).rules(),rulesCount=$.map(rules,function(n,i){return i}).length,dependencyMismatch=false,val=this.elementValue(element),result,method,rule;for(method in rules){rule={method:method,parameters:rules[method]};try{result=$.validator.methods[method].call(this,val,element,rule.parameters);if(result==="dependency-mismatch"&&rulesCount===1){dependencyMismatch=true;continue}dependencyMismatch=false;if(result==="pending"){this.toHide=this.toHide.not(this.errorsFor(element));return}if(!result){this.formatAndAdd(element,rule);return false}}catch(e){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+element.id+", check the '"+rule.method+"' method.",e)}throw e}}if(dependencyMismatch){return}if(this.objectLength(rules)){this.successList.push(element)}return true},customDataMessage:function(element,method){return $(element).data("msg"+method.charAt(0).toUpperCase()+method.substring(1).toLowerCase())||$(element).data("msg")},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor===String?m:m[method])},findDefined:function(){for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined){return arguments[i]}}return undefined},defaultMessage:function(element,method){return this.findDefined(this.customMessage(element.name,method),this.customDataMessage(element,method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[method],"<strong>Warning: No message defined for "+element.name+"</strong>")},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule.method),theregex=/\$?\{(\d+)\}/g;if(typeof message==="function"){message=message.call(this,rule.parameters,element)}else if(theregex.test(message)){message=$.validator.format(message.replace(theregex,"{$1}"),rule.parameters)}this.errorList.push({message:message,element:element,method:rule.method});this.errorMap[element.name]=message;this.submitted[element.name]=message},addWrapper:function(toToggle){if(this.settings.wrapper){toToggle=toToggle.add(toToggle.parent(this.settings.wrapper))}return toToggle},defaultShowErrors:function(){var i,elements,error;for(i=0;this.errorList[i];i++){error=this.errorList[i];if(this.settings.highlight){this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(error.element,error.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(i=0;this.successList[i];i++){this.showLabel(this.successList[i])}}if(this.settings.unhighlight){for(i=0,elements=this.validElements();elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return $(this.errorList).map(function(){return this.element})},showLabel:function(element,message){var place,group,errorID,error=this.errorsFor(element),elementID=this.idOrName(element),describedBy=$(element).attr("aria-describedby");if(error.length){error.removeClass(this.settings.validClass).addClass(this.settings.errorClass);error.html(message)}else{error=$("<"+this.settings.errorElement+">").attr("id",elementID+"-error").addClass(this.settings.errorClass).html(message||"");place=error;if(this.settings.wrapper){place=error.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(this.labelContainer.length){this.labelContainer.append(place)}else if(this.settings.errorPlacement){this.settings.errorPlacement(place,$(element))}else{place.insertAfter(element)}if(error.is("label")){error.attr("for",elementID)}else if(error.parents("label[for='"+elementID+"']").length===0){errorID=error.attr("id");if(!describedBy){describedBy=errorID}else if(!describedBy.match(new RegExp("\b"+errorID+"\b"))){describedBy+=" "+errorID}$(element).attr("aria-describedby",describedBy);group=this.groups[element.name];if(group){$.each(this.groups,function(name,testgroup){if(testgroup===group){$("[name='"+name+"']",this.currentForm).attr("aria-describedby",error.attr("id"))}})}}}if(!message&&this.settings.success){error.text("");if(typeof this.settings.success==="string"){error.addClass(this.settings.success)}else{this.settings.success(error,element)}}this.toShow=this.toShow.add(error)},errorsFor:function(element){var name=this.idOrName(element),describer=$(element).attr("aria-describedby"),selector="label[for='"+name+"'], label[for='"+name+"'] *";if(describer){selector=selector+", #"+describer.replace(/\s+/g,", #")}return this.errors().filter(selector)},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name)},validationTargetFor:function(element){if(this.checkable(element)){element=this.findByName(element.name).not(this.settings.ignore)[0]}return element},checkable:function(element){return/radio|checkbox/i.test(element.type)},findByName:function(name){return $(this.currentForm).find("[name='"+name+"']")},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case"select":return $("option:selected",element).length;case"input":if(this.checkable(element)){return this.findByName(element.name).filter(":checked").length}}return value.length},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):true},dependTypes:{boolean:function(param){return param},string:function(param,element){return!!$(param,element.form).length},function:function(param,element){return param(element)}},optional:function(element){var val=this.elementValue(element);return!$.validator.methods.required.call(this,val,element)&&"dependency-mismatch"},startRequest:function(element){if(!this.pending[element.name]){this.pendingRequest++;this.pending[element.name]=true}},stopRequest:function(element,valid){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[element.name];if(valid&&this.pendingRequest===0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();this.formSubmitted=false}else if(!valid&&this.pendingRequest===0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(element){return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:true,message:this.defaultMessage(element,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(className,rules){if(className.constructor===String){this.classRuleSettings[className]=rules}else{$.extend(this.classRuleSettings,className)}},classRules:function(element){var rules={},classes=$(element).attr("class");if(classes){$.each(classes.split(" "),function(){if(this in $.validator.classRuleSettings){$.extend(rules,$.validator.classRuleSettings[this])}})}return rules},attributeRules:function(element){var rules={},$element=$(element),type=element.getAttribute("type"),method,value;for(method in $.validator.methods){if(method==="required"){value=element.getAttribute(method);if(value===""){value=true}value=!!value}else{value=$element.attr(method)}if(/min|max/.test(method)&&(type===null||/number|range|text/.test(type))){value=Number(value)}if(value||value===0){rules[method]=value}else if(type===method&&type!=="range"){rules[method]=true}}if(rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)){delete rules.maxlength}return rules},dataRules:function(element){var method,value,rules={},$element=$(element);for(method in $.validator.methods){value=$element.data("rule"+method.charAt(0).toUpperCase()+method.substring(1).toLowerCase());if(value!==undefined){rules[method]=value}}return rules},staticRules:function(element){var rules={},validator=$.data(element.form,"validator");if(validator.settings.rules){rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{}}return rules},normalizeRules:function(rules,element){$.each(rules,function(prop,val){if(val===false){delete rules[prop];return}if(val.param||val.depends){var keepRule=true;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element);break}if(keepRule){rules[prop]=val.param!==undefined?val.param:true}else{delete rules[prop]}}});$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)?parameter(element):parameter});$.each(["minlength","maxlength"],function(){if(rules[this]){rules[this]=Number(rules[this])}});$.each(["rangelength","range"],function(){var parts;if(rules[this]){if($.isArray(rules[this])){rules[this]=[Number(rules[this][0]),Number(rules[this][1])]}else if(typeof rules[this]==="string"){parts=rules[this].replace(/[\[\]]/g,"").split(/[\s,]+/);rules[this]=[Number(parts[0]),Number(parts[1])]}}});if($.validator.autoCreateRanges){if(rules.min&&rules.max){rules.range=[rules.min,rules.max];delete rules.min;delete rules.max}if(rules.minlength&&rules.maxlength){rules.rangelength=[rules.minlength,rules.maxlength];delete rules.minlength;delete rules.maxlength}}return rules},normalizeRule:function(data){if(typeof data==="string"){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=true});data=transformed}return data},addMethod:function(name,method,message){$.validator.methods[name]=method;$.validator.messages[name]=message!==undefined?message:$.validator.messages[name];if(method.length<3){$.validator.addClassRules(name,$.validator.normalizeRule(name))}},methods:{required:function(value,element,param){if(!this.depend(param,element)){return"dependency-mismatch"}if(element.nodeName.toLowerCase()==="select"){var val=$(element).val();return val&&val.length>0}if(this.checkable(element)){return this.getLength(value,element)>0}return $.trim(value).length>0},email:function(value,element){return this.optional(element)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(value)},url:function(value,element){return this.optional(element)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value)},date:function(value,element){return this.optional(element)||!/Invalid|NaN/.test(new Date(value).toString())},dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(value)},number:function(value,element){return this.optional(element)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value)},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value)},creditcard:function(value,element){if(this.optional(element)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(value)){return false}var nCheck=0,nDigit=0,bEven=false,n,cDigit;value=value.replace(/\D/g,"");if(value.length<13||value.length>19){return false}for(n=value.length-1;n>=0;n--){cDigit=value.charAt(n);nDigit=parseInt(cDigit,10);if(bEven){if((nDigit*=2)>9){nDigit-=9}}nCheck+=nDigit;bEven=!bEven}return nCheck%10===0},minlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||length>=param},maxlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||length<=param},rangelength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||length>=param[0]&&length<=param[1]},min:function(value,element,param){return this.optional(element)||value>=param},max:function(value,element,param){return this.optional(element)||value<=param},range:function(value,element,param){return this.optional(element)||value>=param[0]&&value<=param[1]},equalTo:function(value,element,param){var target=$(param);if(this.settings.onfocusout){target.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){$(element).valid()})}return value===target.val()},remote:function(value,element,param){if(this.optional(element)){return"dependency-mismatch"}var previous=this.previousValue(element),validator,data;if(!this.settings.messages[element.name]){this.settings.messages[element.name]={}}previous.originalMessage=this.settings.messages[element.name].remote;this.settings.messages[element.name].remote=previous.message;param=typeof param==="string"&&{url:param}||param;if(previous.old===value){return previous.valid}previous.old=value;validator=this;this.startRequest(element);data={};data[element.name]=value;$.ajax($.extend(true,{url:param,mode:"abort",port:"validate"+element.name,dataType:"json",data:data,context:validator.currentForm,success:function(response){var valid=response===true||response==="true",errors,message,submitted;validator.settings.messages[element.name].remote=previous.originalMessage;if(valid){submitted=validator.formSubmitted;validator.prepareElement(element);validator.formSubmitted=submitted;validator.successList.push(element);delete validator.invalid[element.name];validator.showErrors()}else{errors={};message=response||validator.defaultMessage(element,"remote");errors[element.name]=previous.message=$.isFunction(message)?message(value):message;validator.invalid[element.name]=true;validator.showErrors(errors)}previous.valid=valid;validator.stopRequest(element,valid)}},param));return"pending"}}});$.format=function deprecated(){throw"$.format has been deprecated. Please use $.validator.format instead."};var pendingRequests={},ajax;if($.ajaxPrefilter){$.ajaxPrefilter(function(settings,_,xhr){var port=settings.port;if(settings.mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort()}pendingRequests[port]=xhr}})}else{ajax=$.ajax;$.ajax=function(settings){var mode=("mode"in settings?settings:$.ajaxSettings).mode,port=("port"in settings?settings:$.ajaxSettings).port;if(mode==="abort"){if(pendingRequests[port]){pendingRequests[port].abort()}pendingRequests[port]=ajax.apply(this,arguments);return pendingRequests[port]}return ajax.apply(this,arguments)}}$.extend($.fn,{validateDelegate:function(delegate,type,handler){return this.bind(type,function(event){var target=$(event.target);if(target.is(delegate)){return handler.apply(target,arguments)}})}})});
!function(a){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate.min"],a):a(jQuery)}(function(a){!function(){function b(a){return a.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-]*/g,"")}a.validator.addMethod("maxWords",function(a,c,d){return this.optional(c)||b(a).match(/\b\w+\b/g).length<=d},a.validator.format("Please enter {0} words or less.")),a.validator.addMethod("minWords",function(a,c,d){return this.optional(c)||b(a).match(/\b\w+\b/g).length>=d},a.validator.format("Please enter at least {0} words.")),a.validator.addMethod("rangeWords",function(a,c,d){var e=b(a),f=/\b\w+\b/g;return this.optional(c)||e.match(f).length>=d[0]&&e.match(f).length<=d[1]},a.validator.format("Please enter between {0} and {1} words."))}(),a.validator.addMethod("accept",function(b,c,d){var e,f,g="string"==typeof d?d.replace(/\s/g,"").replace(/,/g,"|"):"image/*",h=this.optional(c);if(h)return h;if("file"===a(c).attr("type")&&(g=g.replace(/\*/g,".*"),c.files&&c.files.length))for(e=0;e<c.files.length;e++)if(f=c.files[e],!f.type.match(new RegExp(".?("+g+")$","i")))return!1;return!0},a.validator.format("Please enter a value with a valid mimetype.")),a.validator.addMethod("alphanumeric",function(a,b){return this.optional(b)||/^\w+$/i.test(a)},"Letters, numbers, and underscores only please"),a.validator.addMethod("bankaccountNL",function(a,b){if(this.optional(b))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(a))return!1;var c,d,e,f=a.replace(/ /g,""),g=0,h=f.length;for(c=0;h>c;c++)d=h-c,e=f.substring(c,c+1),g+=d*e;return g%11===0},"Please specify a valid bank account number"),a.validator.addMethod("bankorgiroaccountNL",function(b,c){return this.optional(c)||a.validator.methods.bankaccountNL.call(this,b,c)||a.validator.methods.giroaccountNL.call(this,b,c)},"Please specify a valid bank or giro account number"),a.validator.addMethod("bic",function(a,b){return this.optional(b)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-2])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(a)},"Please specify a valid BIC code"),a.validator.addMethod("cifES",function(a){"use strict";var b,c,d,e,f,g,h=[];if(a=a.toUpperCase(),!a.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)"))return!1;for(d=0;9>d;d++)h[d]=parseInt(a.charAt(d),10);for(c=h[2]+h[4]+h[6],e=1;8>e;e+=2)f=(2*h[e]).toString(),g=f.charAt(1),c+=parseInt(f.charAt(0),10)+(""===g?0:parseInt(g,10));return/^[ABCDEFGHJNPQRSUVW]{1}/.test(a)?(c+="",b=10-parseInt(c.charAt(c.length-1),10),a+=b,h[8].toString()===String.fromCharCode(64+b)||h[8].toString()===a.charAt(a.length-1)):!1},"Please specify a valid CIF number."),a.validator.addMethod("creditcardtypes",function(a,b,c){if(/[^0-9\-]+/.test(a))return!1;a=a.replace(/\D/g,"");var d=0;return c.mastercard&&(d|=1),c.visa&&(d|=2),c.amex&&(d|=4),c.dinersclub&&(d|=8),c.enroute&&(d|=16),c.discover&&(d|=32),c.jcb&&(d|=64),c.unknown&&(d|=128),c.all&&(d=255),1&d&&/^(5[12345])/.test(a)?16===a.length:2&d&&/^(4)/.test(a)?16===a.length:4&d&&/^(3[47])/.test(a)?15===a.length:8&d&&/^(3(0[012345]|[68]))/.test(a)?14===a.length:16&d&&/^(2(014|149))/.test(a)?15===a.length:32&d&&/^(6011)/.test(a)?16===a.length:64&d&&/^(3)/.test(a)?16===a.length:64&d&&/^(2131|1800)/.test(a)?15===a.length:128&d?!0:!1},"Please enter a valid credit card number."),a.validator.addMethod("currency",function(a,b,c){var d,e="string"==typeof c,f=e?c:c[0],g=e?!0:c[1];return f=f.replace(/,/g,""),f=g?f+"]":f+"]?",d="^["+f+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",d=new RegExp(d),this.optional(b)||d.test(a)},"Please specify a valid currency"),a.validator.addMethod("dateFA",function(a,b){return this.optional(b)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(a)},"Please enter a correct date"),a.validator.addMethod("dateITA",function(a,b){var c,d,e,f,g,h=!1,i=/^\d{1,2}\/\d{1,2}\/\d{4}$/;return i.test(a)?(c=a.split("/"),d=parseInt(c[0],10),e=parseInt(c[1],10),f=parseInt(c[2],10),g=new Date(f,e-1,d,12,0,0,0),h=g.getUTCFullYear()===f&&g.getUTCMonth()===e-1&&g.getUTCDate()===d?!0:!1):h=!1,this.optional(b)||h},"Please enter a correct date"),a.validator.addMethod("dateNL",function(a,b){return this.optional(b)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(a)},"Please enter a correct date"),a.validator.addMethod("extension",function(a,b,c){return c="string"==typeof c?c.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(b)||a.match(new RegExp(".("+c+")$","i"))},a.validator.format("Please enter a value with a valid extension.")),a.validator.addMethod("giroaccountNL",function(a,b){return this.optional(b)||/^[0-9]{1,7}$/.test(a)},"Please specify a valid giro account number"),a.validator.addMethod("iban",function(a,b){if(this.optional(b))return!0;var c,d,e,f,g,h,i,j,k,l=a.replace(/ /g,"").toUpperCase(),m="",n=!0,o="",p="";if(!/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(l))return!1;if(c=l.substring(0,2),h={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},g=h[c],"undefined"!=typeof g&&(i=new RegExp("^[A-Z]{2}\\d{2}"+g+"$",""),!i.test(l)))return!1;for(d=l.substring(4,l.length)+l.substring(0,4),j=0;j<d.length;j++)e=d.charAt(j),"0"!==e&&(n=!1),n||(m+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e));for(k=0;k<m.length;k++)f=m.charAt(k),p=""+o+f,o=p%97;return 1===o},"Please specify a valid IBAN"),a.validator.addMethod("integer",function(a,b){return this.optional(b)||/^-?\d+$/.test(a)},"A positive or negative non-decimal number please"),a.validator.addMethod("ipv4",function(a,b){return this.optional(b)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(a)},"Please enter a valid IP v4 address."),a.validator.addMethod("ipv6",function(a,b){return this.optional(b)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(a)},"Please enter a valid IP v6 address."),a.validator.addMethod("lettersonly",function(a,b){return this.optional(b)||/^[a-z]+$/i.test(a)},"Letters only please"),a.validator.addMethod("letterswithbasicpunc",function(a,b){return this.optional(b)||/^[a-z\-.,()'"\s]+$/i.test(a)},"Letters or punctuation only please"),a.validator.addMethod("mobileNL",function(a,b){return this.optional(b)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(a)},"Please specify a valid mobile number"),a.validator.addMethod("mobileUK",function(a,b){return a=a.replace(/\(|\)|\s+|-/g,""),this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),a.validator.addMethod("nieES",function(a){"use strict";return a=a.toUpperCase(),a.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")?/^[T]{1}/.test(a)?a[8]===/^[T]{1}[A-Z0-9]{8}$/.test(a):/^[XYZ]{1}/.test(a)?a[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(a.replace("X","0").replace("Y","1").replace("Z","2").substring(0,8)%23):!1:!1},"Please specify a valid NIE number."),a.validator.addMethod("nifES",function(a){"use strict";return a=a.toUpperCase(),a.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")?/^[0-9]{8}[A-Z]{1}$/.test(a)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(a.substring(8,0)%23)===a.charAt(8):/^[KLM]{1}/.test(a)?a[8]===String.fromCharCode(64):!1:!1},"Please specify a valid NIF number."),a.validator.addMethod("nowhitespace",function(a,b){return this.optional(b)||/^\S+$/i.test(a)},"No white space please"),a.validator.addMethod("pattern",function(a,b,c){return this.optional(b)?!0:("string"==typeof c&&(c=new RegExp(c)),c.test(a))},"Invalid format."),a.validator.addMethod("phoneNL",function(a,b){return this.optional(b)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(a)},"Please specify a valid phone number."),a.validator.addMethod("phoneUK",function(a,b){return a=a.replace(/\(|\)|\s+|-/g,""),this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),a.validator.addMethod("phoneUS",function(a,b){return a=a.replace(/\s+/g,""),this.optional(b)||a.length>9&&a.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)},"Please specify a valid phone number"),a.validator.addMethod("phonesUK",function(a,b){return a=a.replace(/\(|\)|\s+|-/g,""),this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),a.validator.addMethod("postalCodeCA",function(a,b){return this.optional(b)||/^[ABCEGHJKLMNPRSTVXY]\d[A-Z] \d[A-Z]\d$/.test(a)},"Please specify a valid postal code"),a.validator.addMethod("postalcodeIT",function(a,b){return this.optional(b)||/^\d{5}$/.test(a)},"Please specify a valid postal code"),a.validator.addMethod("postalcodeNL",function(a,b){return this.optional(b)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(a)},"Please specify a valid postal code"),a.validator.addMethod("postcodeUK",function(a,b){return this.optional(b)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(a)},"Please specify a valid UK postcode"),a.validator.addMethod("require_from_group",function(b,c,d){var e=a(d[1],c.form),f=e.eq(0),g=f.data("valid_req_grp")?f.data("valid_req_grp"):a.extend({},this),h=e.filter(function(){return g.elementValue(this)}).length>=d[0];return f.data("valid_req_grp",g),a(c).data("being_validated")||(e.data("being_validated",!0),e.each(function(){g.element(this)}),e.data("being_validated",!1)),h},a.validator.format("Please fill at least {0} of these fields.")),a.validator.addMethod("skip_or_fill_minimum",function(b,c,d){var e=a(d[1],c.form),f=e.eq(0),g=f.data("valid_skip")?f.data("valid_skip"):a.extend({},this),h=e.filter(function(){return g.elementValue(this)}).length,i=0===h||h>=d[0];return f.data("valid_skip",g),a(c).data("being_validated")||(e.data("being_validated",!0),e.each(function(){g.element(this)}),e.data("being_validated",!1)),i},a.validator.format("Please either skip these fields or fill at least {0} of them.")),jQuery.validator.addMethod("stateUS",function(a,b,c){var d,e="undefined"==typeof c,f=e||"undefined"==typeof c.caseSensitive?!1:c.caseSensitive,g=e||"undefined"==typeof c.includeTerritories?!1:c.includeTerritories,h=e||"undefined"==typeof c.includeMilitary?!1:c.includeMilitary;return d=g||h?g&&h?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":g?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",d=f?new RegExp(d):new RegExp(d,"i"),this.optional(b)||d.test(a)},"Please specify a valid state"),a.validator.addMethod("strippedminlength",function(b,c,d){return a(b).text().length>=d},a.validator.format("Please enter at least {0} characters")),a.validator.addMethod("time",function(a,b){return this.optional(b)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(a)},"Please enter a valid time, between 00:00 and 23:59"),a.validator.addMethod("time12h",function(a,b){return this.optional(b)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(a)},"Please enter a valid time in 12-hour am/pm format"),a.validator.addMethod("url2",function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},a.validator.messages.url),a.validator.addMethod("vinUS",function(a){if(17!==a.length)return!1;var b,c,d,e,f,g,h=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],i=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],j=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],k=0;for(b=0;17>b;b++){if(e=j[b],d=a.slice(b,b+1),8===b&&(g=d),isNaN(d)){for(c=0;c<h.length;c++)if(d.toUpperCase()===h[c]){d=i[c],d*=e,isNaN(g)&&8===c&&(g=h[c]);break}}else d*=e;k+=d}return f=k%11,10===f&&(f="X"),f===g?!0:!1},"The specified vehicle identification number (VIN) is invalid."),a.validator.addMethod("zipcodeUS",function(a,b){return this.optional(b)||/^\d{5}(-\d{4})?$/.test(a)},"The specified US ZIP Code is invalid"),a.validator.addMethod("ziprange",function(a,b){return this.optional(b)||/^90[2-5]\d\{2\}-\d{4}$/.test(a)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx")});
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof module==="object"&&typeof module.exports==="object"){module.exports=factory}else{factory(jQuery)}})(function($){$.expander={version:"1.7.0",defaults:{slicePoint:100,sliceOn:null,preserveWords:true,normalizeWhitespace:true,showWordCount:false,detailPrefix:" ",summaryPrefix:"",wordCountText:" ({{count}} words)",widow:4,expandText:"read more",expandPrefix:"&hellip; ",expandAfterSummary:false,wordEnd:/(&(?:[^;]+;)?|[0-9a-zA-Z\u00C0-\u0100]+|[^\u0000-\u007F]+)$/,summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",moreLinkClass:"more-link",lessLinkClass:"less-link",collapseTimer:0,expandEffect:"slideDown",expandSpeed:250,collapseEffect:"slideUp",collapseSpeed:200,userCollapse:true,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null,afterCollapse:null}};$.fn.expander=function(options){var meth="init";if(typeof options==="string"){meth=options;options={}}var opts=$.extend({},$.expander.defaults,options);var rSelfClose=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i;var rAmpWordEnd=opts.wordEnd;var rOpenCloseTag=/<\/?(\w+)[^>]*>/g;var rOpenTag=/<(\w+)[^>]*>/g;var rCloseTag=/<\/(\w+)>/g;var rLastCloseTag=/(<\/([^>]+)>)\s*$/;var rTagPlus=/^(<[^>]+>)+.?/;var rMultiSpace=/\s\s+/g;var delayedCollapse;var removeSpaces=function(str){return opts.normalizeWhitespace?$.trim(str||"").replace(rMultiSpace," "):str};var methods={init:function(){this.each(function(){var i,l,tmp,newChar,summTagless,summOpens,summCloses,lastCloseTag,detailText,detailTagless,html,expand;var $thisDetails,$readMore;var slicePointChanged;var openTagsForDetails=[];var closeTagsForsummaryText=[];var strayChars="";var defined={};var thisEl=this;var $this=$(this);var $summEl=$([]);var o=$.extend({},opts,$this.data("expander")||$.meta&&$this.data()||{});var hasDetails=!!$this.find("."+o.detailClass).length;var hasBlocks=!!$this.find("*").filter(function(){var display=$(this).css("display");return/^block|table|list/.test(display)}).length;var el=hasBlocks?"div":"span";var detailSelector=el+"."+o.detailClass;var moreClass=o.moreClass+"";var lessClass=o.lessClass+"";var expandSpeed=o.expandSpeed||0;var allHtml=removeSpaces($this.html());var summaryText=allHtml.slice(0,o.slicePoint);o.moreSelector="span."+moreClass.split(" ").join(".");o.lessSelector="span."+lessClass.split(" ").join(".");if($.data(this,"expanderInit")){return}$.data(this,"expanderInit",true);$.data(this,"expander",o);$.each(["onSlice","beforeExpand","afterExpand","onCollapse","afterCollapse"],function(index,val){defined[val]=$.isFunction(o[val])});summaryText=backup(summaryText);summTagless=summaryText.replace(rOpenCloseTag,"").length;while(summTagless<o.slicePoint){newChar=allHtml.charAt(summaryText.length);if(newChar==="<"){newChar=allHtml.slice(summaryText.length).match(rTagPlus)[0]}summaryText+=newChar;summTagless++}if(o.sliceOn){slicePointChanged=changeSlicePoint({sliceOn:o.sliceOn,slicePoint:o.slicePoint,allHtml:allHtml,summaryText:summaryText});summaryText=slicePointChanged.summaryText}summaryText=backup(summaryText,o.preserveWords&&allHtml.slice(summaryText.length).length);summOpens=summaryText.match(rOpenTag)||[];summCloses=summaryText.match(rCloseTag)||[];tmp=[];$.each(summOpens,function(index,val){if(!rSelfClose.test(val)){tmp.push(val)}});summOpens=tmp;l=summCloses.length;for(i=0;i<l;i++){summCloses[i]=summCloses[i].replace(rCloseTag,"$1")}$.each(summOpens,function(index,val){var thisTagName=val.replace(rOpenTag,"$1");var closePosition=$.inArray(thisTagName,summCloses);if(closePosition===-1){openTagsForDetails.push(val);closeTagsForsummaryText.push("</"+thisTagName+">")}else{summCloses.splice(closePosition,1)}});closeTagsForsummaryText.reverse();if(!hasDetails){detailText=allHtml.slice(summaryText.length);detailTagless=$.trim(detailText.replace(rOpenCloseTag,""));if(detailTagless===""||detailTagless.split(/\s+/).length<o.widow){return}lastCloseTag=closeTagsForsummaryText.pop()||"";summaryText+=o.summaryPrefix+closeTagsForsummaryText.join("");detailText=openTagsForDetails.join("")+detailText}else{detailText=$this.find(detailSelector).remove().html();summaryText=$this.html();allHtml=summaryText+detailText;lastCloseTag=""}o.moreLabel=$this.find(o.moreSelector).length?"":buildMoreLabel(o,detailText);if(hasBlocks){detailText=allHtml}else if(summaryText.charAt(summaryText.length-1)==="&"){strayChars=/^[#\w\d\\]+;/.exec(detailText);if(strayChars){detailText=detailText.slice(strayChars[0].length);summaryText+=strayChars[0]}}summaryText+=lastCloseTag;o.summary=summaryText;o.details=detailText;o.lastCloseTag=lastCloseTag;if(defined.onSlice){tmp=o.onSlice.call(thisEl,o);o=tmp&&tmp.details?tmp:o}html=buildHTML(o,hasBlocks);$this.empty().append(html);$thisDetails=$this.find(detailSelector);$readMore=$this.find(o.moreSelector);if(o.collapseEffect==="slideUp"&&o.expandEffect!=="slideDown"||$this.is(":hidden")){$thisDetails.css({display:"none"})}else{$thisDetails[o.collapseEffect](0)}$summEl=$this.find("div."+o.summaryClass);expand=function(event){event.preventDefault();var exSpeed=event.startExpanded?0:expandSpeed;$readMore.hide();$summEl.hide();if(defined.beforeExpand){o.beforeExpand.call(thisEl)}$thisDetails.stop(false,true)[o.expandEffect](exSpeed,function(){$thisDetails.css({zoom:""});if(defined.afterExpand){o.afterExpand.call(thisEl)}delayCollapse(o,$thisDetails,thisEl)})};$readMore.find("a").unbind("click.expander").bind("click.expander",expand);if(o.userCollapse&&!$this.find(o.lessSelector).length){$this.find(detailSelector).append('<span class="'+o.lessClass+'">'+o.userCollapsePrefix+'<a href="#" class="'+o.lessLinkClass+'">'+o.userCollapseText+"</a></span>")}$this.find(o.lessSelector+" a").unbind("click.expander").bind("click.expander",function(event){event.preventDefault();clearTimeout(delayedCollapse);var $detailsCollapsed=$(this).closest(detailSelector);reCollapse(o,$detailsCollapsed);if(defined.onCollapse){o.onCollapse.call(thisEl,true)}});if(o.startExpanded){expand({preventDefault:function(){},startExpanded:true})}})},destroy:function(){this.each(function(){var o,details;var $this=$(this);if(!$this.data("expanderInit")){return}o=$.extend({},$this.data("expander")||{},opts);details=$this.find("."+o.detailClass).contents();$this.removeData("expanderInit");$this.removeData("expander");$this.find(o.moreSelector).remove();$this.find("."+o.summaryClass).remove();$this.find("."+o.detailClass).after(details).remove();$this.find(o.lessSelector).remove()})}};if(methods[meth]){methods[meth].call(this)}function buildHTML(o,blocks){var el="span";var summary=o.summary;var closingTagParts=rLastCloseTag.exec(summary);var closingTag=closingTagParts?closingTagParts[2].toLowerCase():"";if(blocks){el="div";if(closingTagParts&&closingTag!=="a"&&!o.expandAfterSummary){summary=summary.replace(rLastCloseTag,o.moreLabel+"$1")}else{summary+=o.moreLabel}summary='<div class="'+o.summaryClass+'">'+summary+"</div>"}else{summary+=o.moreLabel}return[summary,o.detailPrefix||"","<",el+' class="'+o.detailClass+'"',">",o.details,"</"+el+">"].join("")}function buildMoreLabel(o,detailText){var ret='<span class="'+o.moreClass+'">'+o.expandPrefix;if(o.showWordCount){o.wordCountText=o.wordCountText.replace(/\{\{count\}\}/,detailText.replace(rOpenCloseTag,"").replace(/\&(?:amp|nbsp);/g,"").replace(/(?:^\s+|\s+$)/,"").match(/\w+/g).length)}else{o.wordCountText=""}ret+='<a href="#" class="'+o.moreLinkClass+'">'+o.expandText+o.wordCountText+"</a></span>";return ret}function backup(txt,preserveWords){if(txt.lastIndexOf("<")>txt.lastIndexOf(">")){txt=txt.slice(0,txt.lastIndexOf("<"))}if(preserveWords){txt=txt.replace(rAmpWordEnd,"")}return $.trim(txt)}function reCollapse(o,el){el.stop(true,true)[o.collapseEffect](o.collapseSpeed,function(){var prevMore=el.prev("span."+o.moreClass).show();if(!prevMore.length){el.parent().children("div."+o.summaryClass).show().find("span."+o.moreClass).show()}if(o.afterCollapse){o.afterCollapse.call(el)}})}function delayCollapse(option,$collapseEl,thisEl){if(option.collapseTimer){delayedCollapse=setTimeout(function(){reCollapse(option,$collapseEl);if($.isFunction(option.onCollapse)){option.onCollapse.call(thisEl,false)}},option.collapseTimer)}}function changeSlicePoint(info){var sliceOnTemp="ExpandMoreHere374216623";var summaryTextClean=info.summaryText.replace(info.sliceOn,sliceOnTemp);summaryTextClean=$("<div>"+summaryTextClean+"</div>").text();var sliceOnIndexClean=summaryTextClean.indexOf(sliceOnTemp);var sliceOnIndexHtml=info.summaryText.indexOf(info.sliceOn);if(sliceOnIndexClean!==-1&&sliceOnIndexClean<info.slicePoint){info.summaryText=info.allHtml.slice(0,sliceOnIndexHtml)}return info}return this};$.fn.expander.defaults=$.expander.defaults});
(function($){var DEFAULT_SETTINGS={method:"GET",contentType:"json",queryParam:"q",searchDelay:300,minChars:1,propertyToSearch:"name",jsonContainer:null,hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",deleteText:"&times;",animateDropdown:true,tokenLimit:null,tokenDelimiter:",",preventDuplicates:false,tokenValue:"id",prePopulate:null,processPrePopulate:false,idPrefix:"token-input-",resultsFormatter:function(item){return"<li>"+item[this.propertyToSearch]+"</li>"},tokenFormatter:function(item){return"<li><p>"+item[this.propertyToSearch]+"</p></li>"},onResult:null,onAdd:null,onDelete:null,onReady:null};var DEFAULT_CLASSES={tokenList:"token-input-list",token:"token-input-token",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-input-token"};var POSITION={BEFORE:0,AFTER:1,END:2};var KEY={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUMPAD_ENTER:108,COMMA:188};var methods={init:function(url_or_data_or_function,options){var settings=$.extend({},DEFAULT_SETTINGS,options||{});return this.each(function(){$(this).data("tokenInputObject",new $.TokenList(this,url_or_data_or_function,settings))})},clear:function(){this.data("tokenInputObject").clear();return this},add:function(item){this.data("tokenInputObject").add(item);return this},remove:function(item){this.data("tokenInputObject").remove(item);return this},get:function(){return this.data("tokenInputObject").getTokens()}};$.fn.tokenInput=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else{return methods.init.apply(this,arguments)}};$.TokenList=function(input,url_or_data,settings){if($.type(url_or_data)==="string"||$.type(url_or_data)==="function"){settings.url=url_or_data;var url=computeURL();if(settings.crossDomain===undefined){if(url.indexOf("://")===-1){settings.crossDomain=false}else{settings.crossDomain=location.href.split(/\/+/g)[1]!==url.split(/\/+/g)[1]}}}else if(typeof url_or_data==="object"){settings.local_data=url_or_data}if(settings.classes){settings.classes=$.extend({},DEFAULT_CLASSES,settings.classes)}else if(settings.theme){settings.classes={};$.each(DEFAULT_CLASSES,function(key,value){settings.classes[key]=value+"-"+settings.theme})}else{settings.classes=DEFAULT_CLASSES}var saved_tokens=[];var token_count=0;var cache=new $.TokenList.Cache;var timeout;var input_val;var input_box=$('<input type="text"  autocomplete="off">').css({outline:"none"}).attr("id",settings.idPrefix+input.id).focus(function(){if(settings.tokenLimit===null||settings.tokenLimit!==token_count){show_dropdown_hint()}}).blur(function(){hide_dropdown();$(this).val("")}).bind("keyup keydown blur update",resize_input).keydown(function(event){var previous_token;var next_token;switch(event.keyCode){case KEY.LEFT:case KEY.RIGHT:case KEY.UP:case KEY.DOWN:if(!$(this).val()){previous_token=input_token.prev();next_token=input_token.next();if(previous_token.length&&previous_token.get(0)===selected_token||next_token.length&&next_token.get(0)===selected_token){if(event.keyCode===KEY.LEFT||event.keyCode===KEY.UP){deselect_token($(selected_token),POSITION.BEFORE)}else{deselect_token($(selected_token),POSITION.AFTER)}}else if((event.keyCode===KEY.LEFT||event.keyCode===KEY.UP)&&previous_token.length){select_token($(previous_token.get(0)))}else if((event.keyCode===KEY.RIGHT||event.keyCode===KEY.DOWN)&&next_token.length){select_token($(next_token.get(0)))}}else{var dropdown_item=null;if(event.keyCode===KEY.DOWN||event.keyCode===KEY.RIGHT){dropdown_item=$(selected_dropdown_item).next()}else{dropdown_item=$(selected_dropdown_item).prev()}if(dropdown_item.length){select_dropdown_item(dropdown_item)}return false}break;case KEY.BACKSPACE:previous_token=input_token.prev();if(!$(this).val().length){if(selected_token){delete_token($(selected_token));hidden_input.change()}else if(previous_token.length){select_token($(previous_token.get(0)))}return false}else if($(this).val().length===1){hide_dropdown()}else{setTimeout(function(){do_search()},5)}break;case KEY.TAB:case KEY.ENTER:case KEY.NUMPAD_ENTER:case KEY.COMMA:if(selected_dropdown_item){add_token($(selected_dropdown_item).data("tokeninput"));hidden_input.change();return false}break;case KEY.ESCAPE:hide_dropdown();return true;default:if(String.fromCharCode(event.which)){setTimeout(function(){do_search()},5)}break}});var hidden_input=$(input).hide().val("").focus(function(){input_box.focus()}).blur(function(){input_box.blur()});var selected_token=null;var selected_token_index=0;var selected_dropdown_item=null;var token_list=$("<ul />").addClass(settings.classes.tokenList).click(function(event){var li=$(event.target).closest("li");if(li&&li.get(0)&&$.data(li.get(0),"tokeninput")){toggle_select_token(li)}else{if(selected_token){deselect_token($(selected_token),POSITION.END)}input_box.focus()}}).mouseover(function(event){var li=$(event.target).closest("li");if(li&&selected_token!==this){li.addClass(settings.classes.highlightedToken)}}).mouseout(function(event){var li=$(event.target).closest("li");if(li&&selected_token!==this){li.removeClass(settings.classes.highlightedToken)}}).insertBefore(hidden_input);var input_token=$("<li />").addClass(settings.classes.inputToken).appendTo(token_list).append(input_box);var dropdown=$("<div>").addClass(settings.classes.dropdown).appendTo("body").hide();var input_resizer=$("<tester/>").insertAfter(input_box).css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:input_box.css("fontSize"),fontFamily:input_box.css("fontFamily"),fontWeight:input_box.css("fontWeight"),letterSpacing:input_box.css("letterSpacing"),whiteSpace:"nowrap"});hidden_input.val("");var li_data=settings.prePopulate||hidden_input.data("pre");if(settings.processPrePopulate&&$.isFunction(settings.onResult)){li_data=settings.onResult.call(hidden_input,li_data)}if(li_data&&li_data.length){$.each(li_data,function(index,value){insert_token(value);checkTokenLimit()})}if($.isFunction(settings.onReady)){settings.onReady.call()}this.clear=function(){token_list.children("li").each(function(){if($(this).children("input").length===0){delete_token($(this))}})};this.add=function(item){add_token(item)};this.remove=function(item){token_list.children("li").each(function(){if($(this).children("input").length===0){var currToken=$(this).data("tokeninput");var match=true;for(var prop in item){if(item[prop]!==currToken[prop]){match=false;break}}if(match){delete_token($(this))}}})};this.getTokens=function(){return saved_tokens};function checkTokenLimit(){if(settings.tokenLimit!==null&&token_count>=settings.tokenLimit){input_box.hide();hide_dropdown();return}}function resize_input(){if(input_val===(input_val=input_box.val())){return}var escaped=input_val.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");input_resizer.html(escaped);input_box.width(input_resizer.width()+30)}function is_printable_character(keycode){return keycode>=48&&keycode<=90||keycode>=96&&keycode<=111||keycode>=186&&keycode<=192||keycode>=219&&keycode<=222}function insert_token(item){var this_token=settings.tokenFormatter(item);this_token=$(this_token).addClass(settings.classes.token).insertBefore(input_token);$("<span>"+settings.deleteText+"</span>").addClass(settings.classes.tokenDelete).appendTo(this_token).click(function(){delete_token($(this).parent());hidden_input.change();return false});var token_data={id:item.id};if(settings.resultProperties!==null){var resultPropertyArray=settings.resultProperties.split(",");for(index in resultPropertyArray){if($.trim(resultPropertyArray[index])!==""){token_data[$.trim(resultPropertyArray[index])]=item[$.trim(resultPropertyArray[index])]}}}token_data[settings.propertyToSearch]=item[settings.propertyToSearch];$.data(this_token.get(0),"tokeninput",item);saved_tokens=saved_tokens.slice(0,selected_token_index).concat([token_data]).concat(saved_tokens.slice(selected_token_index));selected_token_index++;update_hidden_input(saved_tokens,hidden_input);token_count+=1;if(settings.tokenLimit!==null&&token_count>=settings.tokenLimit){input_box.hide();hide_dropdown()}return this_token}function add_token(item){var callback=settings.onAdd;if(token_count>0&&settings.preventDuplicates){var found_existing_token=null;token_list.children().each(function(){var existing_token=$(this);var existing_data=$.data(existing_token.get(0),"tokeninput");if(existing_data&&existing_data.id===item.id){found_existing_token=existing_token;return false}});if(found_existing_token){select_token(found_existing_token);input_token.insertAfter(found_existing_token);input_box.focus();return}}if(settings.tokenLimit==null||token_count<settings.tokenLimit){insert_token(item);checkTokenLimit()}input_box.val("");hide_dropdown();if($.isFunction(callback)){callback.call(hidden_input,item)}}function select_token(token){token.addClass(settings.classes.selectedToken);selected_token=token.get(0);input_box.val("");hide_dropdown()}function deselect_token(token,position){token.removeClass(settings.classes.selectedToken);selected_token=null;if(position===POSITION.BEFORE){input_token.insertBefore(token);selected_token_index--}else if(position===POSITION.AFTER){input_token.insertAfter(token);selected_token_index++}else{input_token.appendTo(token_list);selected_token_index=token_count}input_box.focus()}function toggle_select_token(token){var previous_selected_token=selected_token;if(selected_token){deselect_token($(selected_token),POSITION.END)}if(previous_selected_token===token.get(0)){deselect_token(token,POSITION.END)}else{select_token(token)}}function delete_token(token){var token_data=$.data(token.get(0),"tokeninput");var callback=settings.onDelete;var index=token.prevAll().length;if(index>selected_token_index)index--;token.remove();selected_token=null;input_box.focus();saved_tokens=saved_tokens.slice(0,index).concat(saved_tokens.slice(index+1));if(index<selected_token_index)selected_token_index--;update_hidden_input(saved_tokens,hidden_input);token_count-=1;if(settings.tokenLimit!==null){input_box.show().val("").focus()}if($.isFunction(callback)){callback.call(hidden_input,token_data)}}function update_hidden_input(saved_tokens,hidden_input){var token_values=$.map(saved_tokens,function(el){return el[settings.tokenValue]});hidden_input.val(token_values.join(settings.tokenDelimiter))}function hide_dropdown(){dropdown.hide().empty();selected_dropdown_item=null}function show_dropdown(){dropdown.css({position:"absolute",top:$(token_list).offset().top+$(token_list).outerHeight(),left:$(token_list).offset().left,zindex:999}).show()}function show_dropdown_searching(){if(settings.searchingText){dropdown.html("<p>"+settings.searchingText+"</p>");show_dropdown()}}function show_dropdown_hint(){if(settings.hintText){dropdown.html("<p>"+settings.hintText+"</p>");show_dropdown()}}function highlight_term(value,term){return value.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+term+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>")}function find_value_and_highlight_term(template,value,term){return template.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+value+")(?![^<>]*>)(?![^&;]+;)","g"),highlight_term(value,term))}function populate_dropdown(query,results){if(results&&results.length){dropdown.empty();var dropdown_ul=$("<ul>").appendTo(dropdown).mouseover(function(event){select_dropdown_item($(event.target).closest("li"))}).mousedown(function(event){add_token($(event.target).closest("li").data("tokeninput"));hidden_input.change();return false}).hide();$.each(results,function(index,value){var this_li=settings.resultsFormatter(value);this_li=find_value_and_highlight_term(this_li,value[settings.propertyToSearch],query);this_li=$(this_li).appendTo(dropdown_ul);if(index%2){this_li.addClass(settings.classes.dropdownItem)}else{this_li.addClass(settings.classes.dropdownItem2)}if(index===0){select_dropdown_item(this_li)}$.data(this_li.get(0),"tokeninput",value)});show_dropdown();if(settings.animateDropdown){dropdown_ul.slideDown("fast")}else{dropdown_ul.show()}}else{if(settings.noResultsText){dropdown.html("<p>"+settings.noResultsText+"</p>");show_dropdown()}}}function select_dropdown_item(item){if(item){if(selected_dropdown_item){deselect_dropdown_item($(selected_dropdown_item))}item.addClass(settings.classes.selectedDropdownItem);selected_dropdown_item=item.get(0)}}function deselect_dropdown_item(item){item.removeClass(settings.classes.selectedDropdownItem);selected_dropdown_item=null}function do_search(){var query=input_box.val().toLowerCase();if(query&&query.length){if(selected_token){deselect_token($(selected_token),POSITION.AFTER)}if(query.length>=settings.minChars){show_dropdown_searching();clearTimeout(timeout);timeout=setTimeout(function(){run_search(query)},settings.searchDelay)}else{hide_dropdown()}}}function run_search(query){var cache_key=query+computeURL();var cached_results=cache.get(cache_key);if(cached_results){populate_dropdown(query,cached_results)}else{if(settings.url){var url=computeURL();var ajax_params={};ajax_params.data={};if(url.indexOf("?")>-1){var parts=url.split("?");ajax_params.url=parts[0];var param_array=parts[1].split("&");$.each(param_array,function(index,value){var kv=value.split("=");ajax_params.data[kv[0]]=kv[1];for(var i=2;i<=kv.length-1;i++){ajax_params.data[kv[0]]+="="+kv[i]}})}else{ajax_params.url=url}ajax_params.type=settings.method;ajax_params.dataType=settings.contentType;if(settings.crossDomain){ajax_params.dataType="jsonp"}ajax_params.success=function(results){if($.isFunction(settings.onResult)){results=settings.onResult.call(hidden_input,results)}cache.add(cache_key,settings.jsonContainer?results[settings.jsonContainer]:results);if(input_box.val().toLowerCase()===query){populate_dropdown(query,settings.jsonContainer?results[settings.jsonContainer]:results)}};$.ajax(ajax_params)}else if(settings.local_data){var results=$.grep(settings.local_data,function(row){return row[settings.propertyToSearch].toLowerCase().indexOf(query.toLowerCase())>-1});if($.isFunction(settings.onResult)){results=settings.onResult.call(hidden_input,results)}cache.add(cache_key,results);populate_dropdown(query,results)}}}function computeURL(){var url=settings.url;if(typeof settings.url=="function"){url=settings.url.call()}return url}};$.TokenList.Cache=function(options){var settings=$.extend({max_size:500},options);var data={};var size=0;var flush=function(){data={};size=0};this.add=function(query,results){if(size>settings.max_size){flush()}if(!data[query]){size+=1}data[query]=results};this.get=function(query){return data[query]}}})(jQuery);
(function($){function Countdown(){this.regional=[];this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:false};this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:false,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:false,onExpiry:null,onTick:null,tickInterval:1};$.extend(this._defaults,this.regional[""]);this._serverSyncs=[];function timerCallBack(a){var b=a<1e12?b=performance.now?performance.now()+performance.timing.navigationStart:Date.now():a||(new Date).getTime();if(b-d>=1e3){x._updateTargets();d=b}c(timerCallBack)}var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null;var d=0;if(!c||$.noRequestAnimationFrame){$.noRequestAnimationFrame=null;setInterval(function(){x._updateTargets()},980)}else{d=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||(new Date).getTime();c(timerCallBack)}}var Y=0;var O=1;var W=2;var D=3;var H=4;var M=5;var S=6;$.extend(Countdown.prototype,{markerClassName:"hasCountdown",propertyName:"countdown",_rtlClass:"countdown_rtl",_sectionClass:"countdown_section",_amountClass:"countdown_amount",_rowClass:"countdown_row",_holdingClass:"countdown_holding",_showClass:"countdown_show",_descrClass:"countdown_descr",_timerTargets:[],setDefaults:function(a){this._resetExtraLabels(this._defaults,a);$.extend(this._defaults,a||{})},UTCDate:function(a,b,c,e,f,g,h,i){if(typeof b=="object"&&b.constructor==Date){i=b.getMilliseconds();h=b.getSeconds();g=b.getMinutes();f=b.getHours();e=b.getDate();c=b.getMonth();b=b.getFullYear()}var d=new Date;d.setUTCFullYear(b);d.setUTCDate(1);d.setUTCMonth(c||0);d.setUTCDate(e||1);d.setUTCHours(f||0);d.setUTCMinutes((g||0)-(Math.abs(a)<30?a*60:a));d.setUTCSeconds(h||0);d.setUTCMilliseconds(i||0);return d},periodsToSeconds:function(a){return a[0]*31557600+a[1]*2629800+a[2]*604800+a[3]*86400+a[4]*3600+a[5]*60+a[6]},_attachPlugin:function(a,b){a=$(a);if(a.hasClass(this.markerClassName)){return}var c={options:$.extend({},this._defaults),_periods:[0,0,0,0,0,0,0]};a.addClass(this.markerClassName).data(this.propertyName,c);this._optionPlugin(a,b)},_addTarget:function(a){if(!this._hasTarget(a)){this._timerTargets.push(a)}},_hasTarget:function(a){return $.inArray(a,this._timerTargets)>-1},_removeTarget:function(b){this._timerTargets=$.map(this._timerTargets,function(a){return a==b?null:a})},_updateTargets:function(){for(var i=this._timerTargets.length-1;i>=0;i--){this._updateCountdown(this._timerTargets[i])}},_optionPlugin:function(a,b,c){a=$(a);var d=a.data(this.propertyName);if(!b||typeof b=="string"&&c==null){var e=b;b=(d||{}).options;return b&&e?b[e]:b}if(!a.hasClass(this.markerClassName)){return}b=b||{};if(typeof b=="string"){var e=b;b={};b[e]=c}this._resetExtraLabels(d.options,b);$.extend(d.options,b);this._adjustSettings(a,d);var f=new Date;if(d._since&&d._since<f||d._until&&d._until>f){this._addTarget(a[0])}this._updateCountdown(a,d)},_updateCountdown:function(a,b){var c=$(a);b=b||c.data(this.propertyName);if(!b){return}c.html(this._generateHTML(b)).toggleClass(this._rtlClass,b.options.isRTL);if($.isFunction(b.options.onTick)){var d=b._hold!="lap"?b._periods:this._calculatePeriods(b,b._show,b.options.significant,new Date);if(b.options.tickInterval==1||this.periodsToSeconds(d)%b.options.tickInterval==0){b.options.onTick.apply(a,[d])}}var e=b._hold!="pause"&&(b._since?b._now.getTime()<b._since.getTime():b._now.getTime()>=b._until.getTime());if(e&&!b._expiring){b._expiring=true;if(this._hasTarget(a)||b.options.alwaysExpire){this._removeTarget(a);if($.isFunction(b.options.onExpiry)){b.options.onExpiry.apply(a,[])}if(b.options.expiryText){var f=b.options.layout;b.options.layout=b.options.expiryText;this._updateCountdown(a,b);b.options.layout=f}if(b.options.expiryUrl){window.location=b.options.expiryUrl}}b._expiring=false}else if(b._hold=="pause"){this._removeTarget(a)}c.data(this.propertyName,b)},_resetExtraLabels:function(a,b){var c=false;for(var n in b){if(n!="whichLabels"&&n.match(/[Ll]abels/)){c=true;break}}if(c){for(var n in a){if(n.match(/[Ll]abels[02-9]/)){a[n]=null}}}},_adjustSettings:function(a,b){var c;var d=0;var e=null;for(var i=0;i<this._serverSyncs.length;i++){if(this._serverSyncs[i][0]==b.options.serverSync){e=this._serverSyncs[i][1];break}}if(e!=null){d=b.options.serverSync?e:0;c=new Date}else{var f=$.isFunction(b.options.serverSync)?b.options.serverSync.apply(a,[]):null;c=new Date;d=f?c.getTime()-f.getTime():0;this._serverSyncs.push([b.options.serverSync,d])}var g=b.options.timezone;g=g==null?-c.getTimezoneOffset():g;b._since=b.options.since;if(b._since!=null){b._since=this.UTCDate(g,this._determineTime(b._since,null));if(b._since&&d){b._since.setMilliseconds(b._since.getMilliseconds()+d)}}b._until=this.UTCDate(g,this._determineTime(b.options.until,c));if(d){b._until.setMilliseconds(b._until.getMilliseconds()+d)}b._show=this._determineShow(b)},_destroyPlugin:function(a){a=$(a);if(!a.hasClass(this.markerClassName)){return}this._removeTarget(a[0]);a.removeClass(this.markerClassName).empty().removeData(this.propertyName)},_pausePlugin:function(a){this._hold(a,"pause")},_lapPlugin:function(a){this._hold(a,"lap")},_resumePlugin:function(a){this._hold(a,null)},_hold:function(a,b){var c=$.data(a,this.propertyName);if(c){if(c._hold=="pause"&&!b){c._periods=c._savePeriods;var d=c._since?"-":"+";c[c._since?"_since":"_until"]=this._determineTime(d+c._periods[0]+"y"+d+c._periods[1]+"o"+d+c._periods[2]+"w"+d+c._periods[3]+"d"+d+c._periods[4]+"h"+d+c._periods[5]+"m"+d+c._periods[6]+"s");this._addTarget(a)}c._hold=b;c._savePeriods=b=="pause"?c._periods:null;$.data(a,this.propertyName,c);this._updateCountdown(a,c)}},_getTimesPlugin:function(a){var b=$.data(a,this.propertyName);return!b?null:!b._hold?b._periods:this._calculatePeriods(b,b._show,b.options.significant,new Date)},_determineTime:function(k,l){var m=function(a){var b=new Date;b.setTime(b.getTime()+a*1e3);return b};var n=function(a){a=a.toLowerCase();var b=new Date;var c=b.getFullYear();var d=b.getMonth();var e=b.getDate();var f=b.getHours();var g=b.getMinutes();var h=b.getSeconds();var i=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g;var j=i.exec(a);while(j){switch(j[2]||"s"){case"s":h+=parseInt(j[1],10);break;case"m":g+=parseInt(j[1],10);break;case"h":f+=parseInt(j[1],10);break;case"d":e+=parseInt(j[1],10);break;case"w":e+=parseInt(j[1],10)*7;break;case"o":d+=parseInt(j[1],10);e=Math.min(e,x._getDaysInMonth(c,d));break;case"y":c+=parseInt(j[1],10);e=Math.min(e,x._getDaysInMonth(c,d));break}j=i.exec(a)}return new Date(c,d,e,f,g,h,0)};var o=k==null?l:typeof k=="string"?n(k):typeof k=="number"?m(k):k;if(o)o.setMilliseconds(0);return o},_getDaysInMonth:function(a,b){return 32-new Date(a,b,32).getDate()},_normalLabels:function(a){return a},_generateHTML:function(c){var d=this;c._periods=c._hold?c._periods:this._calculatePeriods(c,c._show,c.options.significant,new Date);var e=false;var f=0;var g=c.options.significant;var h=$.extend({},c._show);for(var i=Y;i<=S;i++){e|=c._show[i]=="?"&&c._periods[i]>0;h[i]=c._show[i]=="?"&&!e?null:c._show[i];f+=h[i]?1:0;g-=c._periods[i]>0?1:0}var j=[false,false,false,false,false,false,false];for(var i=S;i>=Y;i--){if(c._show[i]){if(c._periods[i]){j[i]=true}else{j[i]=g>0;g--}}}var k=c.options.compact?c.options.compactLabels:c.options.labels;var l=c.options.whichLabels||this._normalLabels;var m=function(a){var b=c.options["compactLabels"+l(c._periods[a])];return h[a]?d._translateDigits(c,c._periods[a])+(b?b[a]:k[a])+" ":""};var n=function(a){var b=c.options["labels"+l(c._periods[a])];return!c.options.significant&&h[a]||c.options.significant&&j[a]?'<span class="'+x._sectionClass+'">'+'<span class="'+x._amountClass+'">'+d._translateDigits(c,c._periods[a])+"</span><br/>"+(b?b[a]:k[a])+"</span>":""};return c.options.layout?this._buildLayout(c,h,c.options.layout,c.options.compact,c.options.significant,j):(c.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(c._hold?" "+this._holdingClass:"")+'">'+m(Y)+m(O)+m(W)+m(D)+(h[H]?this._minDigits(c,c._periods[H],2):"")+(h[M]?(h[H]?c.options.timeSeparator:"")+this._minDigits(c,c._periods[M],2):"")+(h[S]?(h[H]||h[M]?c.options.timeSeparator:"")+this._minDigits(c,c._periods[S],2):""):'<span class="'+this._rowClass+" "+this._showClass+(c.options.significant||f)+(c._hold?" "+this._holdingClass:"")+'">'+n(Y)+n(O)+n(W)+n(D)+n(H)+n(M)+n(S))+"</span>"+(c.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+c.options.description+"</span>":"")},_buildLayout:function(c,d,e,f,g,h){var j=c.options[f?"compactLabels":"labels"];var k=c.options.whichLabels||this._normalLabels;var l=function(a){return(c.options[(f?"compactLabels":"labels")+k(c._periods[a])]||j)[a]};var m=function(a,b){return c.options.digits[Math.floor(a/b)%10]};var o={desc:c.options.description,sep:c.options.timeSeparator,yl:l(Y),yn:this._minDigits(c,c._periods[Y],1),ynn:this._minDigits(c,c._periods[Y],2),ynnn:this._minDigits(c,c._periods[Y],3),y1:m(c._periods[Y],1),y10:m(c._periods[Y],10),y100:m(c._periods[Y],100),y1000:m(c._periods[Y],1e3),ol:l(O),on:this._minDigits(c,c._periods[O],1),onn:this._minDigits(c,c._periods[O],2),onnn:this._minDigits(c,c._periods[O],3),o1:m(c._periods[O],1),o10:m(c._periods[O],10),o100:m(c._periods[O],100),o1000:m(c._periods[O],1e3),wl:l(W),wn:this._minDigits(c,c._periods[W],1),wnn:this._minDigits(c,c._periods[W],2),wnnn:this._minDigits(c,c._periods[W],3),w1:m(c._periods[W],1),w10:m(c._periods[W],10),w100:m(c._periods[W],100),w1000:m(c._periods[W],1e3),dl:l(D),dn:this._minDigits(c,c._periods[D],1),dnn:this._minDigits(c,c._periods[D],2),dnnn:this._minDigits(c,c._periods[D],3),d1:m(c._periods[D],1),d10:m(c._periods[D],10),d100:m(c._periods[D],100),d1000:m(c._periods[D],1e3),hl:l(H),hn:this._minDigits(c,c._periods[H],1),hnn:this._minDigits(c,c._periods[H],2),hnnn:this._minDigits(c,c._periods[H],3),h1:m(c._periods[H],1),h10:m(c._periods[H],10),h100:m(c._periods[H],100),h1000:m(c._periods[H],1e3),ml:l(M),mn:this._minDigits(c,c._periods[M],1),mnn:this._minDigits(c,c._periods[M],2),mnnn:this._minDigits(c,c._periods[M],3),m1:m(c._periods[M],1),m10:m(c._periods[M],10),m100:m(c._periods[M],100),m1000:m(c._periods[M],1e3),sl:l(S),sn:this._minDigits(c,c._periods[S],1),snn:this._minDigits(c,c._periods[S],2),snnn:this._minDigits(c,c._periods[S],3),s1:m(c._periods[S],1),s10:m(c._periods[S],10),s100:m(c._periods[S],100),s1000:m(c._periods[S],1e3)};var p=e;for(var i=Y;i<=S;i++){var q="yowdhms".charAt(i);var r=new RegExp("\\{"+q+"<\\}(.*)\\{"+q+">\\}","g");p=p.replace(r,!g&&d[i]||g&&h[i]?"$1":"")}$.each(o,function(n,v){var a=new RegExp("\\{"+n+"\\}","g");p=p.replace(a,v)});return p},_minDigits:function(a,b,c){b=""+b;if(b.length>=c){return this._translateDigits(a,b)}b="0000000000"+b;return this._translateDigits(a,b.substr(b.length-c))},_translateDigits:function(b,c){return(""+c).replace(/[0-9]/g,function(a){return b.options.digits[a]})},_determineShow:function(a){var b=a.options.format;var c=[];c[Y]=b.match("y")?"?":b.match("Y")?"!":null;c[O]=b.match("o")?"?":b.match("O")?"!":null;c[W]=b.match("w")?"?":b.match("W")?"!":null;c[D]=b.match("d")?"?":b.match("D")?"!":null;c[H]=b.match("h")?"?":b.match("H")?"!":null;c[M]=b.match("m")?"?":b.match("M")?"!":null;c[S]=b.match("s")?"?":b.match("S")?"!":null;return c},_calculatePeriods:function(c,d,e,f){c._now=f;c._now.setMilliseconds(0);var g=new Date(c._now.getTime());if(c._since){if(f.getTime()<c._since.getTime()){c._now=f=g}else{f=c._since}}else{g.setTime(c._until.getTime());if(f.getTime()>c._until.getTime()){c._now=f=g}}var h=[0,0,0,0,0,0,0];if(d[Y]||d[O]){var i=x._getDaysInMonth(f.getFullYear(),f.getMonth());var j=x._getDaysInMonth(g.getFullYear(),g.getMonth());var k=g.getDate()==f.getDate()||g.getDate()>=Math.min(i,j)&&f.getDate()>=Math.min(i,j);var l=function(a){return(a.getHours()*60+a.getMinutes())*60+a.getSeconds()};var m=Math.max(0,(g.getFullYear()-f.getFullYear())*12+g.getMonth()-f.getMonth()+(g.getDate()<f.getDate()&&!k||k&&l(g)<l(f)?-1:0));h[Y]=d[Y]?Math.floor(m/12):0;h[O]=d[O]?m-h[Y]*12:0;f=new Date(f.getTime());var n=f.getDate()==i;var o=x._getDaysInMonth(f.getFullYear()+h[Y],f.getMonth()+h[O]);if(f.getDate()>o){f.setDate(o)}f.setFullYear(f.getFullYear()+h[Y]);f.setMonth(f.getMonth()+h[O]);if(n){f.setDate(o)}}var p=Math.floor((g.getTime()-f.getTime())/1e3);var q=function(a,b){h[a]=d[a]?Math.floor(p/b):0;p-=h[a]*b};q(W,604800);q(D,86400);q(H,3600);q(M,60);q(S,1);if(p>0&&!c._since){var r=[1,12,4.3482,7,24,60,60];var s=S;var t=1;for(var u=S;u>=Y;u--){if(d[u]){if(h[s]>=t){h[s]=0;p=1}if(p>0){h[u]++;p=0;s=u;t=1}}t*=r[u]}}if(e){for(var u=Y;u<=S;u++){if(e&&h[u]){e--}else if(!e){h[u]=0}}}return h}});var w=["getTimes"];function isNotChained(a,b){if(a=="option"&&(b.length==0||b.length==1&&typeof b[0]=="string")){return true}return $.inArray(a,w)>-1}$.fn.countdown=function(a){var b=Array.prototype.slice.call(arguments,1);if(isNotChained(a,b)){return x["_"+a+"Plugin"].apply(x,[this[0]].concat(b))}return this.each(function(){if(typeof a=="string"){if(!x["_"+a+"Plugin"]){throw"Unknown command: "+a}x["_"+a+"Plugin"].apply(x,[this].concat(b))}else{x._attachPlugin(this,a||{})}})};var x=$.countdown=new Countdown})(jQuery);
var EasyAutocomplete=function(scope){scope.Configuration=function Configuration(options){var defaults={data:"list-required",url:"list-required",dataType:"json",listLocation:function(data){return data},xmlElementName:"",getValue:function(element){return element},autocompleteOff:true,placeholder:false,ajaxCallback:function(){},matchResponseProperty:false,list:{sort:{enabled:false,method:function(a,b){a=defaults.getValue(a);b=defaults.getValue(b);if(a<b){return-1}if(a>b){return 1}return 0}},maxNumberOfElements:6,hideOnEmptyPhrase:true,match:{enabled:false,caseSensitive:false,method:function(a,b){a=defaults.getValue(a);b=defaults.getValue(b);if(a===b){return true}return false}},showAnimation:{type:"normal",time:400,callback:function(){}},hideAnimation:{type:"normal",time:400,callback:function(){}},onClickEvent:function(){},onSelectItemEvent:function(){},onLoadEvent:function(){},onChooseEvent:function(){},onKeyEnterEvent:function(){},onMouseOverEvent:function(){},onMouseOutEvent:function(){},onShowListEvent:function(){},onHideListEvent:function(){}},highlightPhrase:true,theme:"",cssClasses:"",minCharNumber:0,requestDelay:0,adjustWidth:true,ajaxSettings:{},preparePostData:function(data,inputPhrase){return data},loggerEnabled:true,template:"",categoriesAssigned:false,categories:[{maxNumberOfElements:4}],hideOnNoFocus:true,preventDefaultOnEnter:true,localDataLengthMatch:false,showDefaultListOnFocus:false};this.get=function(propertyName){return defaults[propertyName]};this.equals=function(name,value){if(isAssigned(name)){if(defaults[name]===value){return true}}return false};this.checkDataUrlProperties=function(){if(defaults.url==="list-required"&&defaults.data==="list-required"){return false}return true};this.checkRequiredProperties=function(){for(var propertyName in defaults){if(defaults[propertyName]==="required"){logger.error("Option "+propertyName+" must be defined");return false}}return true};this.printPropertiesThatDoesntExist=function(consol,optionsToCheck){printPropertiesThatDoesntExist(consol,optionsToCheck)};prepareDefaults();mergeOptions();if(defaults.loggerEnabled===true){printPropertiesThatDoesntExist(console,options)}addAjaxSettings();processAfterMerge();function prepareDefaults(){if(options.dataType==="xml"){if(!options.getValue){options.getValue=function(element){return $(element).text()}}if(!options.list){options.list={}}if(!options.list.sort){options.list.sort={}}options.list.sort.method=function(a,b){a=options.getValue(a);b=options.getValue(b);if(a<b){return-1}if(a>b){return 1}return 0};if(!options.list.match){options.list.match={}}options.list.match.method=function(a,b){a=options.getValue(a);b=options.getValue(b);if(a===b){return true}return false}}if(options.categories!==undefined&&options.categories instanceof Array){var categories=[];for(var i=0,length=options.categories.length;i<length;i+=1){var category=options.categories[i];for(var property in defaults.categories[0]){if(category[property]===undefined){category[property]=defaults.categories[0][property]}}categories.push(category)}options.categories=categories}}function mergeOptions(){defaults=mergeObjects(defaults,options);function mergeObjects(source,target){var mergedObject=source||{};for(var propertyName in source){if(target[propertyName]!==undefined&&target[propertyName]!==null){if(typeof target[propertyName]!=="object"||target[propertyName]instanceof Array){mergedObject[propertyName]=target[propertyName]}else{mergeObjects(source[propertyName],target[propertyName])}}}if(target.data!==undefined&&target.data!==null&&typeof target.data==="object"){mergedObject.data=target.data}return mergedObject}}function processAfterMerge(){if(defaults.url!=="list-required"&&typeof defaults.url!=="function"){var defaultUrl=defaults.url;defaults.url=function(){return defaultUrl}}if(defaults.ajaxSettings.url!==undefined&&typeof defaults.ajaxSettings.url!=="function"){var defaultUrl=defaults.ajaxSettings.url;defaults.ajaxSettings.url=function(){return defaultUrl}}if(typeof defaults.listLocation==="string"){var defaultlistLocation=defaults.listLocation;if(defaults.dataType.toUpperCase()==="XML"){defaults.listLocation=function(data){return $(data).find(defaultlistLocation)}}else{defaults.listLocation=function(data){return data[defaultlistLocation]}}}if(typeof defaults.getValue==="string"){var defaultsGetValue=defaults.getValue;defaults.getValue=function(element){return element[defaultsGetValue]}}if(options.categories!==undefined){defaults.categoriesAssigned=true}}function addAjaxSettings(){if(options.ajaxSettings!==undefined&&typeof options.ajaxSettings==="object"){defaults.ajaxSettings=options.ajaxSettings}else{defaults.ajaxSettings={}}}function isAssigned(name){if(defaults[name]!==undefined&&defaults[name]!==null){return true}else{return false}}function printPropertiesThatDoesntExist(consol,optionsToCheck){checkPropertiesIfExist(defaults,optionsToCheck);function checkPropertiesIfExist(source,target){for(var property in target){if(source[property]===undefined){consol.log("Property '"+property+"' does not exist in EasyAutocomplete options API.")}if(typeof source[property]==="object"&&!externalObject(property)){checkPropertiesIfExist(source[property],target[property])}}}function externalObject(property){var notTestedObjects=["ajaxSettings","template"];Array.prototype.contains=function(obj){var i=this.length;while(i--){if(this[i]===obj){return true}}return false};return notTestedObjects.contains(property)}}};return scope}(EasyAutocomplete||{});var EasyAutocomplete=function(scope){scope.Logger=function Logger(){this.error=function(message){console.log("ERROR: "+message)};this.warning=function(message){console.log("WARNING: "+message)}};return scope}(EasyAutocomplete||{});var EasyAutocomplete=function(scope){scope.Constans=function Constans(){var constants={CONTAINER_CLASS:"easy-autocomplete-container",CONTAINER_ID:"eac-container-",WRAPPER_CSS_CLASS:"easy-autocomplete"};this.getValue=function(propertyName){return constants[propertyName]}};return scope}(EasyAutocomplete||{});var EasyAutocomplete=function(scope){scope.ListBuilderService=function ListBuilderService(configuration,proccessResponseData){this.init=function(data){var listBuilder=[],builder={};builder.data=configuration.get("listLocation")(data);builder.getValue=configuration.get("getValue");builder.maxListSize=configuration.get("list").maxNumberOfElements;listBuilder.push(builder);return listBuilder};this.updateCategories=function(listBuilder,data){if(configuration.get("categoriesAssigned")){listBuilder=[];for(var i=0;i<configuration.get("categories").length;i+=1){var builder=convertToListBuilder(configuration.get("categories")[i],data);listBuilder.push(builder)}}return listBuilder};this.convertXml=function(listBuilder){if(configuration.get("dataType").toUpperCase()==="XML"){for(var i=0;i<listBuilder.length;i+=1){listBuilder[i].data=convertXmlToList(listBuilder[i])}}return listBuilder};this.processData=function(listBuilder,inputPhrase){for(var i=0,length=listBuilder.length;i<length;i+=1){listBuilder[i].data=proccessResponseData(configuration,listBuilder[i],inputPhrase)}return listBuilder};this.checkIfDataExists=function(listBuilders){for(var i=0,length=listBuilders.length;i<length;i+=1){if(listBuilders[i].data!==undefined&&listBuilders[i].data instanceof Array){if(listBuilders[i].data.length>0){return true}}}return false};function convertToListBuilder(category,data){var builder={};if(configuration.get("dataType").toUpperCase()==="XML"){builder=convertXmlToListBuilder()}else{builder=convertDataToListBuilder()}if(category.header!==undefined){builder.header=category.header}if(category.maxNumberOfElements!==undefined){builder.maxNumberOfElements=category.maxNumberOfElements}if(configuration.get("list").maxNumberOfElements!==undefined){builder.maxListSize=configuration.get("list").maxNumberOfElements}if(category.getValue!==undefined){if(typeof category.getValue==="string"){var defaultsGetValue=category.getValue;builder.getValue=function(element){return element[defaultsGetValue]}}else if(typeof category.getValue==="function"){builder.getValue=category.getValue}}else{builder.getValue=configuration.get("getValue")}return builder;function convertXmlToListBuilder(){var builder={},listLocation;if(category.xmlElementName!==undefined){builder.xmlElementName=category.xmlElementName}if(category.listLocation!==undefined){listLocation=category.listLocation}else if(configuration.get("listLocation")!==undefined){listLocation=configuration.get("listLocation")}if(listLocation!==undefined){if(typeof listLocation==="string"){builder.data=$(data).find(listLocation)}else if(typeof listLocation==="function"){builder.data=listLocation(data)}}else{builder.data=data}return builder}function convertDataToListBuilder(){var builder={};if(category.listLocation!==undefined){if(typeof category.listLocation==="string"){builder.data=data[category.listLocation]}else if(typeof category.listLocation==="function"){builder.data=category.listLocation(data)}}else{builder.data=data}return builder}}function convertXmlToList(builder){var simpleList=[];if(builder.xmlElementName===undefined){builder.xmlElementName=configuration.get("xmlElementName")}$(builder.data).find(builder.xmlElementName).each(function(){simpleList.push(this)});return simpleList}};return scope}(EasyAutocomplete||{});var EasyAutocomplete=function(scope){scope.proccess=function proccessData(config,listBuilder,phrase){var list=listBuilder.data,inputPhrase=phrase;list=findMatch(list,inputPhrase);list=reduceElementsInList(list);list=sort(list);return list;function findMatch(list,phrase){var preparedList=[],value="";if(config.get("list").match.enabled){for(var i=0,length=list.length;i<length;i+=1){value=config.get("getValue")(list[i]);if(!config.get("list").match.caseSensitive){if(typeof value==="string"){value=value.toLowerCase()}phrase=phrase.toLowerCase()}if(value.search(phrase)>-1){preparedList.push(list[i])}}}else{preparedList=list}return preparedList}function reduceElementsInList(list){if(listBuilder.maxNumberOfElements!==undefined&&list.length>listBuilder.maxNumberOfElements){list=list.slice(0,listBuilder.maxNumberOfElements)}return list}function sort(list){if(config.get("list").sort.enabled){list.sort(config.get("list").sort.method)}return list}};return scope}(EasyAutocomplete||{});var EasyAutocomplete=function(scope){scope.Template=function Template(options){var genericTemplates={basic:{type:"basic",method:function(element){return element},cssClass:""},description:{type:"description",fields:{description:"description"},method:function(element){return element+" - description"},cssClass:"eac-description"},iconLeft:{type:"iconLeft",fields:{icon:""},method:function(element){return element},cssClass:"eac-icon-left"},iconRight:{type:"iconRight",fields:{iconSrc:""},method:function(element){return element},cssClass:"eac-icon-right"},links:{type:"links",fields:{link:""},method:function(element){return element},cssClass:""},custom:{type:"custom",method:function(){},cssClass:""}},convertTemplateToMethod=function(template){var _fields=template.fields,buildMethod;if(template.type==="description"){buildMethod=genericTemplates.description.method;if(typeof _fields.description==="string"){buildMethod=function(elementValue,element){return elementValue+" - <span>"+element[_fields.description]+"</span>"}}else if(typeof _fields.description==="function"){buildMethod=function(elementValue,element){return elementValue+" - <span>"+_fields.description(element)+"</span>"}}return buildMethod}if(template.type==="iconRight"){if(typeof _fields.iconSrc==="string"){buildMethod=function(elementValue,element){return elementValue+"<img class='eac-icon' src='"+element[_fields.iconSrc]+"' />"}}else if(typeof _fields.iconSrc==="function"){buildMethod=function(elementValue,element){return elementValue+"<img class='eac-icon' src='"+_fields.iconSrc(element)+"' />"}}return buildMethod}if(template.type==="iconLeft"){if(typeof _fields.iconSrc==="string"){buildMethod=function(elementValue,element){return"<img class='eac-icon' src='"+element[_fields.iconSrc]+"' />"+elementValue}}else if(typeof _fields.iconSrc==="function"){buildMethod=function(elementValue,element){return"<img class='eac-icon' src='"+_fields.iconSrc(element)+"' />"+elementValue}}return buildMethod}if(template.type==="links"){if(typeof _fields.link==="string"){buildMethod=function(elementValue,element){return"<a href='"+element[_fields.link]+"' >"+elementValue+"</a>"}}else if(typeof _fields.link==="function"){buildMethod=function(elementValue,element){return"<a href='"+_fields.link(element)+"' >"+elementValue+"</a>"}}return buildMethod}if(template.type==="custom"){return template.method}return genericTemplates.basic.method},prepareBuildMethod=function(options){if(!options||!options.type){return genericTemplates.basic.method}if(options.type&&genericTemplates[options.type]){return convertTemplateToMethod(options)}else{return genericTemplates.basic.method}},templateClass=function(options){var emptyStringFunction=function(){return""};if(!options||!options.type){return emptyStringFunction}if(options.type&&genericTemplates[options.type]){return function(){var _cssClass=genericTemplates[options.type].cssClass;return function(){return _cssClass}}()}else{return emptyStringFunction}};this.getTemplateClass=templateClass(options);this.build=prepareBuildMethod(options)};return scope}(EasyAutocomplete||{});var EasyAutocomplete=function(scope){scope.main=function Core($input,options){var module={name:"EasyAutocomplete",shortcut:"eac"};var consts=new scope.Constans,config=new scope.Configuration(options),logger=new scope.Logger,template=new scope.Template(options.template),listBuilderService=new scope.ListBuilderService(config,scope.proccess),checkParam=config.equals,$field=$input,$container="",elementsList=[],selectedElement=-1,requestDelayTimeoutId;scope.consts=consts;this.getConstants=function(){return consts};this.getConfiguration=function(){return config};this.getContainer=function(){return $container};this.getSelectedItemIndex=function(){return selectedElement};this.getItemData=function(index){if(elementsList.length<index||elementsList[index]===undefined){return-1}else{return elementsList[index]}};this.getSelectedItemData=function(){return this.getItemData(selectedElement)};this.build=function(){prepareField()};this.init=function(){init()};function init(){if($field.length===0){logger.error("Input field doesn't exist.");return}if(!config.checkDataUrlProperties()){logger.error("One of options variables 'data' or 'url' must be defined.");return}if(!config.checkRequiredProperties()){logger.error("Will not work without mentioned properties.");return}prepareField();bindEvents()}function prepareField(){if($field.parent().hasClass(consts.getValue("WRAPPER_CSS_CLASS"))){removeContainer();removeWrapper()}createWrapper();createContainer();$container=$("#"+getContainerId());if(config.get("placeholder")){$field.attr("placeholder",config.get("placeholder"))}function createWrapper(){var $wrapper=$("<div>"),classes=consts.getValue("WRAPPER_CSS_CLASS");if(config.get("theme")&&config.get("theme")!==""){classes+=" eac-"+config.get("theme")}if(config.get("cssClasses")&&config.get("cssClasses")!==""){classes+=" "+config.get("cssClasses")}if(template.getTemplateClass()!==""){classes+=" "+template.getTemplateClass()}$wrapper.addClass(classes);$field.wrap($wrapper);if(config.get("adjustWidth")===true){adjustWrapperWidth()}}function adjustWrapperWidth(){var fieldWidth=$field.outerWidth();$field.parent().css("width",fieldWidth)}function removeWrapper(){$field.unwrap()}function createContainer(){var $elements_container=$("<div>").addClass(consts.getValue("CONTAINER_CLASS"));$elements_container.attr("id",getContainerId()).prepend($("<ul>"));(function(){$elements_container.on("show.eac",function(){switch(config.get("list").showAnimation.type){case"slide":var animationTime=config.get("list").showAnimation.time,callback=config.get("list").showAnimation.callback;$elements_container.find("ul").slideDown(animationTime,callback);break;case"fade":var animationTime=config.get("list").showAnimation.time,callback=config.get("list").showAnimation.callback;$elements_container.find("ul").fadeIn(animationTime),callback;break;default:$elements_container.find("ul").show();break}config.get("list").onShowListEvent()}).on("hide.eac",function(){switch(config.get("list").hideAnimation.type){case"slide":var animationTime=config.get("list").hideAnimation.time,callback=config.get("list").hideAnimation.callback;$elements_container.find("ul").slideUp(animationTime,callback);break;case"fade":var animationTime=config.get("list").hideAnimation.time,callback=config.get("list").hideAnimation.callback;$elements_container.find("ul").fadeOut(animationTime,callback);break;default:$elements_container.find("ul").hide();break}config.get("list").onHideListEvent()}).on("selectElement.eac",function(){$elements_container.find("ul li").removeClass("selected");$elements_container.find("ul li").eq(selectedElement).addClass("selected");config.get("list").onSelectItemEvent()}).on("loadElements.eac",function(event,listBuilders,phrase){var $item="",$listContainer=$elements_container.find("ul");$listContainer.empty().detach();elementsList=[];var counter=0;for(var builderIndex=0,listBuildersLength=listBuilders.length;builderIndex<listBuildersLength;builderIndex+=1){var listData=listBuilders[builderIndex].data;if(listData.length===0){continue}if(listBuilders[builderIndex].header!==undefined&&listBuilders[builderIndex].header.length>0){$listContainer.append("<div class='eac-category' >"+listBuilders[builderIndex].header+"</div>")}for(var i=0,listDataLength=listData.length;i<listDataLength&&counter<listBuilders[builderIndex].maxListSize;i+=1){$item=$("<li><div class='eac-item'></div></li>");(function(){var j=i,itemCounter=counter,elementsValue=listBuilders[builderIndex].getValue(listData[j]);$item.find(" > div").on("click",function(){$field.val(elementsValue).trigger("change");selectedElement=itemCounter;selectElement(itemCounter);config.get("list").onClickEvent();config.get("list").onChooseEvent()}).mouseover(function(){selectedElement=itemCounter;selectElement(itemCounter);config.get("list").onMouseOverEvent()}).mouseout(function(){config.get("list").onMouseOutEvent()}).html(template.build(highlight(elementsValue,phrase),listData[j]))})();$listContainer.append($item);elementsList.push(listData[i]);counter+=1}}$elements_container.append($listContainer);config.get("list").onLoadEvent()})})();$field.after($elements_container)}function removeContainer(){$field.next("."+consts.getValue("CONTAINER_CLASS")).remove()}function highlight(string,phrase){if(config.get("highlightPhrase")&&phrase!==""){return highlightPhrase(string,phrase)}else{return string}}function escapeRegExp(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function highlightPhrase(string,phrase){var escapedPhrase=escapeRegExp(phrase);return(string+"").replace(new RegExp("("+escapedPhrase+")","gi"),"<b>$1</b>")}}function getContainerId(){var elementId=$field.attr("id");elementId=consts.getValue("CONTAINER_ID")+elementId;return elementId}function bindEvents(){bindAllEvents();function bindAllEvents(){if(checkParam("autocompleteOff",true)){removeAutocomplete()}bindKeyup();bindKeydown();bindKeypress();bindFocus();if(checkParam("hideOnNoFocus",true)){bindBlur()}}function loadData(inputPhrase){if(inputPhrase.length<config.get("minCharNumber")){return}var configData=config.get("data");var localDataLength=config.get("localDataLengthMatch");if(configData!=="list-required"){if(localDataLength===false||!isNaN(localDataLength)&&localDataLength>=inputPhrase.length){var data=config.get("data");var listBuilders=listBuilderService.init(data);listBuilders=listBuilderService.updateCategories(listBuilders,data);listBuilders=listBuilderService.processData(listBuilders,inputPhrase);loadElements(listBuilders,inputPhrase);if($field.parent().find("li").length>0){showContainer()}else{hideContainer()}}}var settings=createAjaxSettings();if(settings.url===undefined||settings.url===""){settings.url=config.get("url")}if(settings.dataType===undefined||settings.dataType===""){settings.dataType=config.get("dataType")}if(settings.url!==undefined&&settings.url!=="list-required"){if(localDataLength===false||!isNaN(localDataLength)&&localDataLength<inputPhrase.length){settings.url=settings.url(inputPhrase);settings.data=config.get("preparePostData")(settings.data,inputPhrase);$.ajax(settings).done(function(data){var listBuilders=listBuilderService.init(data);listBuilders=listBuilderService.updateCategories(listBuilders,data);listBuilders=listBuilderService.convertXml(listBuilders);if(checkInputPhraseMatchResponse(inputPhrase,data)){listBuilders=listBuilderService.processData(listBuilders,inputPhrase);loadElements(listBuilders,inputPhrase)}if(listBuilderService.checkIfDataExists(listBuilders)&&$field.parent().find("li").length>0){showContainer()}else{hideContainer()}config.get("ajaxCallback")()}).fail(function(){logger.warning("Fail to load response data")}).always(function(){})}}function createAjaxSettings(){var settings={},ajaxSettings=config.get("ajaxSettings")||{};for(var set in ajaxSettings){settings[set]=ajaxSettings[set]}return settings}function checkInputPhraseMatchResponse(inputPhrase,data){if(config.get("matchResponseProperty")!==false){if(typeof config.get("matchResponseProperty")==="string"){return data[config.get("matchResponseProperty")]===inputPhrase}if(typeof config.get("matchResponseProperty")==="function"){return config.get("matchResponseProperty")(data)===inputPhrase}return true}else{return true}}}function bindKeyup(){$field.off("keyup").keyup(function(event){switch(event.keyCode){case 27:hideContainer();loseFieldFocus();break;case 38:event.preventDefault();if(elementsList.length>0&&selectedElement>0){selectedElement-=1;$field.val(config.get("getValue")(elementsList[selectedElement]));selectElement(selectedElement)}break;case 40:event.preventDefault();if(elementsList.length>0&&selectedElement<elementsList.length-1){selectedElement+=1;$field.val(config.get("getValue")(elementsList[selectedElement]));selectElement(selectedElement)}break;default:if(event.keyCode>40||event.keyCode===8){var inputPhrase=$field.val();if(!(config.get("list").hideOnEmptyPhrase===true&&event.keyCode===8&&inputPhrase==="")){if(config.get("requestDelay")>0){if(requestDelayTimeoutId!==undefined){clearTimeout(requestDelayTimeoutId)}requestDelayTimeoutId=setTimeout(function(){loadData(inputPhrase)},config.get("requestDelay"))}else{loadData(inputPhrase)}}else{hideContainer()}}break}})}function bindKeydown(){$field.on("keydown",function(evt){evt=evt||window.event;var keyCode=evt.keyCode;if(keyCode===38){suppressKeypress=true;return false}}).keydown(function(event){if(event.keyCode===13&&selectedElement>-1){$field.val(config.get("getValue")(elementsList[selectedElement]));config.get("list").onKeyEnterEvent();config.get("list").onChooseEvent();selectedElement=-1;hideContainer();if(config.get("preventDefaultOnEnter")===true){event.preventDefault()}}})}function bindKeypress(){$field.off("keypress")}function bindFocus(){$field.focus(function(){var fieldValue=$field.val();if(config.get("showDefaultListOnFocus")||fieldValue!==""&&elementsList.length>0){if(fieldValue===""){loadData("")}selectedElement=-1;showContainer()}})}function bindBlur(){$field.blur(function(){setTimeout(function(){selectedElement=-1;hideContainer()},250)})}function removeAutocomplete(){$field.attr("autocomplete","off")}}function showContainer(){$container.trigger("show.eac")}function hideContainer(){$container.trigger("hide.eac")}function selectElement(index){$container.trigger("selectElement.eac",index)}function loadElements(list,phrase){$container.trigger("loadElements.eac",[list,phrase])}function loseFieldFocus(){$field.trigger("blur")}};scope.easyAutocompleteHandles=[];scope.inputHasId=function(input){if($(input).attr("id")!==undefined&&$(input).attr("id").length>0){return true}else{return false}};scope.assignRandomId=function(input){var fieldId="";do{fieldId="eac-"+Math.floor(Math.random()*1e4)}while($("#"+fieldId).length!==0);elementId=scope.consts.getValue("CONTAINER_ID")+fieldId;$(input).attr("id",fieldId)};return scope}(EasyAutocomplete||{});$.fn.easyAutocomplete=function(options){return this.each(function(){var $this=$(this),eacHandle=new EasyAutocomplete.main($this,options);if(!EasyAutocomplete.inputHasId($this)){EasyAutocomplete.assignRandomId($this)}eacHandle.init();EasyAutocomplete.easyAutocompleteHandles[$this.attr("id")]=eacHandle})};$.fn.getSelectedItemIndex=function(){var inputId=$(this).attr("id");if(inputId!==undefined){return EasyAutocomplete.easyAutocompleteHandles[inputId].getSelectedItemIndex()}return-1};$.fn.getItemData=function(index){var inputId=$(this).attr("id");if(inputId!==undefined&&index>-1){return EasyAutocomplete.easyAutocompleteHandles[inputId].getItemData(index)}return-1};$.fn.getSelectedItemData=function(){var inputId=$(this).attr("id");if(inputId!==undefined){return EasyAutocomplete.easyAutocompleteHandles[inputId].getSelectedItemData()}return-1};
var Handlebars={};(function(Handlebars,undefined){Handlebars.VERSION="1.0.0";Handlebars.COMPILER_REVISION=4;Handlebars.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};Handlebars.helpers={};Handlebars.partials={};var toString=Object.prototype.toString,functionType="[object Function]",objectType="[object Object]";Handlebars.registerHelper=function(name,fn,inverse){if(toString.call(name)===objectType){if(inverse||fn){throw new Handlebars.Exception("Arg not supported with multiple helpers")}Handlebars.Utils.extend(this.helpers,name)}else{if(inverse){fn.not=inverse}this.helpers[name]=fn}};Handlebars.registerPartial=function(name,str){if(toString.call(name)===objectType){Handlebars.Utils.extend(this.partials,name)}else{this.partials[name]=str}};Handlebars.registerHelper("helperMissing",function(arg){if(arguments.length===2){return undefined}else{throw new Error("Missing helper: '"+arg+"'")}});Handlebars.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse||function(){},fn=options.fn;var type=toString.call(context);if(type===functionType){context=context.call(this)}if(context===true){return fn(this)}else if(context===false||context==null){return inverse(this)}else if(type==="[object Array]"){if(context.length>0){return Handlebars.helpers.each(context,options)}else{return inverse(this)}}else{return fn(context)}});Handlebars.K=function(){};Handlebars.createFrame=Object.create||function(object){Handlebars.K.prototype=object;var obj=new Handlebars.K;Handlebars.K.prototype=null;return obj};Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(level,obj){if(Handlebars.logger.level<=level){var method=Handlebars.logger.methodMap[level];if(typeof console!=="undefined"&&console[method]){console[method].call(console,obj)}}}};Handlebars.log=function(level,obj){Handlebars.logger.log(level,obj)};Handlebars.registerHelper("each",function(context,options){var fn=options.fn,inverse=options.inverse;var i=0,ret="",data;var type=toString.call(context);if(type===functionType){context=context.call(this)}if(options.data){data=Handlebars.createFrame(options.data)}if(context&&typeof context==="object"){if(context instanceof Array){for(var j=context.length;i<j;i++){if(data){data.index=i}ret=ret+fn(context[i],{data:data})}}else{for(var key in context){if(context.hasOwnProperty(key)){if(data){data.key=key}ret=ret+fn(context[key],{data:data});i++}}}}if(i===0){ret=inverse(this)}return ret});Handlebars.registerHelper("if",function(conditional,options){var type=toString.call(conditional);if(type===functionType){conditional=conditional.call(this)}if(!conditional||Handlebars.Utils.isEmpty(conditional)){return options.inverse(this)}else{return options.fn(this)}});Handlebars.registerHelper("unless",function(conditional,options){return Handlebars.helpers["if"].call(this,conditional,{fn:options.inverse,inverse:options.fn})});Handlebars.registerHelper("with",function(context,options){var type=toString.call(context);if(type===functionType){context=context.call(this)}if(!Handlebars.Utils.isEmpty(context))return options.fn(context)});Handlebars.registerHelper("log",function(context,options){var level=options.data&&options.data.level!=null?parseInt(options.data.level,10):1;Handlebars.log(level,context)});var handlebars=function(){var parser={trace:function trace(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return $$[$0-1];break;case 2:this.$=new yy.ProgramNode([],$$[$0]);break;case 3:this.$=new yy.ProgramNode($$[$0-2],$$[$0]);break;case 4:this.$=new yy.ProgramNode($$[$0-1],[]);break;case 5:this.$=new yy.ProgramNode($$[$0]);break;case 6:this.$=new yy.ProgramNode([],[]);break;case 7:this.$=new yy.ProgramNode([]);break;case 8:this.$=[$$[$0]];break;case 9:$$[$0-1].push($$[$0]);this.$=$$[$0-1];break;case 10:this.$=new yy.BlockNode($$[$0-2],$$[$0-1].inverse,$$[$0-1],$$[$0]);break;case 11:this.$=new yy.BlockNode($$[$0-2],$$[$0-1],$$[$0-1].inverse,$$[$0]);break;case 12:this.$=$$[$0];break;case 13:this.$=$$[$0];break;case 14:this.$=new yy.ContentNode($$[$0]);break;case 15:this.$=new yy.CommentNode($$[$0]);break;case 16:this.$=new yy.MustacheNode($$[$0-1][0],$$[$0-1][1]);break;case 17:this.$=new yy.MustacheNode($$[$0-1][0],$$[$0-1][1]);break;case 18:this.$=$$[$0-1];break;case 19:this.$=new yy.MustacheNode($$[$0-1][0],$$[$0-1][1],$$[$0-2][2]==="&");break;case 20:this.$=new yy.MustacheNode($$[$0-1][0],$$[$0-1][1],true);break;case 21:this.$=new yy.PartialNode($$[$0-1]);break;case 22:this.$=new yy.PartialNode($$[$0-2],$$[$0-1]);break;case 23:break;case 24:this.$=[[$$[$0-2]].concat($$[$0-1]),$$[$0]];break;case 25:this.$=[[$$[$0-1]].concat($$[$0]),null];break;case 26:this.$=[[$$[$0-1]],$$[$0]];break;case 27:this.$=[[$$[$0]],null];break;case 28:this.$=[[$$[$0]],null];break;case 29:$$[$0-1].push($$[$0]);this.$=$$[$0-1];break;case 30:this.$=[$$[$0]];break;case 31:this.$=$$[$0];break;case 32:this.$=new yy.StringNode($$[$0]);break;case 33:this.$=new yy.IntegerNode($$[$0]);break;case 34:this.$=new yy.BooleanNode($$[$0]);break;case 35:this.$=$$[$0];break;case 36:this.$=new yy.HashNode($$[$0]);break;case 37:$$[$0-1].push($$[$0]);this.$=$$[$0-1];break;case 38:this.$=[$$[$0]];break;case 39:this.$=[$$[$0-2],$$[$0]];break;case 40:this.$=[$$[$0-2],new yy.StringNode($$[$0])];break;case 41:this.$=[$$[$0-2],new yy.IntegerNode($$[$0])];break;case 42:this.$=[$$[$0-2],new yy.BooleanNode($$[$0])];break;case 43:this.$=[$$[$0-2],$$[$0]];break;case 44:this.$=new yy.PartialNameNode($$[$0]);break;case 45:this.$=new yy.PartialNameNode(new yy.StringNode($$[$0]));break;case 46:this.$=new yy.PartialNameNode(new yy.IntegerNode($$[$0]));break;case 47:this.$=new yy.DataNode($$[$0]);break;case 48:this.$=new yy.IdNode($$[$0]);break;case 49:$$[$0-2].push({part:$$[$0],separator:$$[$0-1]});this.$=$$[$0-2];break;case 50:this.$=[{part:$$[$0]}];break}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function parseError(str,hash){throw new Error(str)},parse:function parse(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined")this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function")this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n}function lex(){var token;token=self.lexer.lex()||1;if(typeof token!=="number"){token=self.symbols_[token]||token}return token}var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(symbol===null||typeof symbol=="undefined"){symbol=lex()}action=table[state]&&table[state][symbol]}if(typeof action==="undefined"||!action.length||!action[0]){var errStr="";if(!recovering){expected=[];for(p in table[state])if(this.terminals_[p]&&p>2){expected.push("'"+this.terminals_[p]+"'")}if(this.lexer.showPosition){errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'"}else{errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(symbol==1?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'")}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(action[0]instanceof Array&&action.length>1){throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol)}switch(action[0]){case 1:stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(recovering>0)recovering--}else{symbol=preErrorSymbol;preErrorSymbol=null}break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};if(ranges){yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]}r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!=="undefined"){return r}if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return true}}return true}};var lexer=function(){var lexer={EOF:1,parseError:function parseError(str,hash){if(this.yy.parser){this.yy.parser.parseError(str,hash)}else{throw new Error(str)}},setInput:function(input){this._input=input;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges)this.yylloc.range=[0,0];this.offset=0;return this},input:function(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.offset++;this.match+=ch;this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);if(lines){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges)this.yylloc.range[1]++;this._input=this._input.slice(1);return ch},unput:function(ch){var len=ch.length;var lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-len-1);this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(lines.length-1)this.yylineno-=lines.length-1;var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-len]}return this},more:function(){this._more=true;return this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;if(next.length<20){next+=this._input.substr(0,20-next.length)}return(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput();var c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done){return this.EOF}if(!this._input)this.done=true;var token,match,tempMatch,index,col,lines;if(!this._more){this.yytext="";this.match=""}var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break}}if(match){lines=match[0].match(/(?:\r\n?|\n).*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.matches=match;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(token)return token;else return}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function lex(){var r=this.next();if(typeof r!=="undefined"){return r}else{return this.lex()}},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(condition){this.begin(condition)}};lexer.options={};lexer.performAction=function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:yy_.yytext="\\";return 14;break;case 1:if(yy_.yytext.slice(-1)!=="\\")this.begin("mu");if(yy_.yytext.slice(-1)==="\\")yy_.yytext=yy_.yytext.substr(0,yy_.yyleng-1),this.begin("emu");if(yy_.yytext)return 14;break;case 2:return 14;break;case 3:if(yy_.yytext.slice(-1)!=="\\")this.popState();if(yy_.yytext.slice(-1)==="\\")yy_.yytext=yy_.yytext.substr(0,yy_.yyleng-1);return 14;break;case 4:yy_.yytext=yy_.yytext.substr(0,yy_.yyleng-4);this.popState();return 15;break;case 5:return 25;break;case 6:return 16;break;case 7:return 20;break;case 8:return 19;break;case 9:return 19;break;case 10:return 23;break;case 11:return 22;break;case 12:this.popState();this.begin("com");break;case 13:yy_.yytext=yy_.yytext.substr(3,yy_.yyleng-5);this.popState();return 15;break;case 14:return 22;break;case 15:return 37;break;case 16:return 36;break;case 17:return 36;break;case 18:return 40;break;case 19:break;case 20:this.popState();return 24;break;case 21:this.popState();return 18;break;case 22:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2).replace(/\\"/g,'"');return 31;break;case 23:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2).replace(/\\'/g,"'");return 31;break;case 24:return 38;break;case 25:return 33;break;case 26:return 33;break;case 27:return 32;break;case 28:return 36;break;case 29:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2);return 36;break;case 30:return"INVALID";break;case 31:return 5;break}};lexer.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/];lexer.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:false},emu:{rules:[3],inclusive:false},com:{rules:[4],inclusive:false},INITIAL:{rules:[0,1,2,31],inclusive:true}};return lexer}();parser.lexer=lexer;function Parser(){this.yy={}}Parser.prototype=parser;parser.Parser=Parser;return new Parser}();Handlebars.Parser=handlebars;Handlebars.parse=function(input){if(input.constructor===Handlebars.AST.ProgramNode){return input}Handlebars.Parser.yy=Handlebars.AST;return Handlebars.Parser.parse(input)};Handlebars.AST={};Handlebars.AST.ProgramNode=function(statements,inverse){this.type="program";this.statements=statements;if(inverse){this.inverse=new Handlebars.AST.ProgramNode(inverse)}};Handlebars.AST.MustacheNode=function(rawParams,hash,unescaped){this.type="mustache";this.escaped=!unescaped;this.hash=hash;var id=this.id=rawParams[0];var params=this.params=rawParams.slice(1);var eligibleHelper=this.eligibleHelper=id.isSimple;this.isHelper=eligibleHelper&&(params.length||hash)};Handlebars.AST.PartialNode=function(partialName,context){this.type="partial";this.partialName=partialName;this.context=context};Handlebars.AST.BlockNode=function(mustache,program,inverse,close){var verifyMatch=function(open,close){if(open.original!==close.original){throw new Handlebars.Exception(open.original+" doesn't match "+close.original)}};verifyMatch(mustache.id,close);this.type="block";this.mustache=mustache;this.program=program;this.inverse=inverse;if(this.inverse&&!this.program){this.isInverse=true}};Handlebars.AST.ContentNode=function(string){this.type="content";this.string=string};Handlebars.AST.HashNode=function(pairs){this.type="hash";this.pairs=pairs};Handlebars.AST.IdNode=function(parts){this.type="ID";var original="",dig=[],depth=0;for(var i=0,l=parts.length;i<l;i++){var part=parts[i].part;original+=(parts[i].separator||"")+part;if(part===".."||part==="."||part==="this"){if(dig.length>0){throw new Handlebars.Exception("Invalid path: "+original)}else if(part===".."){depth++}else{this.isScoped=true}}else{dig.push(part)}}this.original=original;this.parts=dig;this.string=dig.join(".");this.depth=depth;this.isSimple=parts.length===1&&!this.isScoped&&depth===0;this.stringModeValue=this.string};Handlebars.AST.PartialNameNode=function(name){this.type="PARTIAL_NAME";this.name=name.original};Handlebars.AST.DataNode=function(id){this.type="DATA";this.id=id};Handlebars.AST.StringNode=function(string){this.type="STRING";this.original=this.string=this.stringModeValue=string};Handlebars.AST.IntegerNode=function(integer){this.type="INTEGER";this.original=this.integer=integer;this.stringModeValue=Number(integer)};Handlebars.AST.BooleanNode=function(bool){this.type="BOOLEAN";this.bool=bool;this.stringModeValue=bool==="true"};Handlebars.AST.CommentNode=function(comment){this.type="comment";this.comment=comment};var errorProps=["description","fileName","lineNumber","message","name","number","stack"];Handlebars.Exception=function(message){var tmp=Error.prototype.constructor.apply(this,arguments);for(var idx=0;idx<errorProps.length;idx++){this[errorProps[idx]]=tmp[errorProps[idx]]}};Handlebars.Exception.prototype=new Error;Handlebars.SafeString=function(string){this.string=string};Handlebars.SafeString.prototype.toString=function(){return this.string.toString()};var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var badChars=/[&<>"'`]/g;var possible=/[&<>"'`]/;var escapeChar=function(chr){return escape[chr]||"&amp;"};Handlebars.Utils={extend:function(obj,value){for(var key in value){if(value.hasOwnProperty(key)){obj[key]=value[key]}}},escapeExpression:function(string){if(string instanceof Handlebars.SafeString){return string.toString()}else if(string==null||string===false){return""}string=string.toString();if(!possible.test(string)){return string}return string.replace(badChars,escapeChar)},isEmpty:function(value){if(!value&&value!==0){return true}else if(toString.call(value)==="[object Array]"&&value.length===0){return true}else{return false}}};var Compiler=Handlebars.Compiler=function(){};var JavaScriptCompiler=Handlebars.JavaScriptCompiler=function(){};Compiler.prototype={compiler:Compiler,disassemble:function(){var opcodes=this.opcodes,opcode,out=[],params,param;for(var i=0,l=opcodes.length;i<l;i++){opcode=opcodes[i];if(opcode.opcode==="DECLARE"){out.push("DECLARE "+opcode.name+"="+opcode.value)}else{params=[];for(var j=0;j<opcode.args.length;j++){param=opcode.args[j];if(typeof param==="string"){param='"'+param.replace("\n","\\n")+'"'}params.push(param)}out.push(opcode.opcode+" "+params.join(" "))}}return out.join("\n")},equals:function(other){var len=this.opcodes.length;if(other.opcodes.length!==len){return false}for(var i=0;i<len;i++){var opcode=this.opcodes[i],otherOpcode=other.opcodes[i];if(opcode.opcode!==otherOpcode.opcode||opcode.args.length!==otherOpcode.args.length){return false}for(var j=0;j<opcode.args.length;j++){if(opcode.args[j]!==otherOpcode.args[j]){return false}}}len=this.children.length;if(other.children.length!==len){return false}for(i=0;i<len;i++){if(!this.children[i].equals(other.children[i])){return false}}return true},guid:0,compile:function(program,options){this.children=[];this.depths={list:[]};this.options=options;var knownHelpers=this.options.knownHelpers;this.options.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,if:true,unless:true,with:true,log:true};if(knownHelpers){for(var name in knownHelpers){this.options.knownHelpers[name]=knownHelpers[name]}}return this.program(program)},accept:function(node){return this[node.type](node)},program:function(program){var statements=program.statements,statement;this.opcodes=[];for(var i=0,l=statements.length;i<l;i++){statement=statements[i];this[statement.type](statement)}this.isSimple=l===1;this.depths.list=this.depths.list.sort(function(a,b){return a-b});return this},compileProgram:function(program){var result=(new this.compiler).compile(program,this.options);var guid=this.guid++,depth;this.usePartial=this.usePartial||result.usePartial;this.children[guid]=result;for(var i=0,l=result.depths.list.length;i<l;i++){depth=result.depths.list[i];if(depth<2){continue}else{this.addDepth(depth-1)}}return guid},block:function(block){var mustache=block.mustache,program=block.program,inverse=block.inverse;if(program){program=this.compileProgram(program)}if(inverse){inverse=this.compileProgram(inverse)}var type=this.classifyMustache(mustache);if(type==="helper"){this.helperMustache(mustache,program,inverse)}else if(type==="simple"){this.simpleMustache(mustache);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("emptyHash");this.opcode("blockValue")}else{this.ambiguousMustache(mustache,program,inverse);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("emptyHash");this.opcode("ambiguousBlockValue")}this.opcode("append")},hash:function(hash){var pairs=hash.pairs,pair,val;this.opcode("pushHash");for(var i=0,l=pairs.length;i<l;i++){pair=pairs[i];val=pair[1];if(this.options.stringParams){if(val.depth){this.addDepth(val.depth)}this.opcode("getContext",val.depth||0);this.opcode("pushStringParam",val.stringModeValue,val.type)}else{this.accept(val)}this.opcode("assignToHash",pair[0])}this.opcode("popHash")},partial:function(partial){var partialName=partial.partialName;this.usePartial=true;if(partial.context){this.ID(partial.context)}else{this.opcode("push","depth0")}this.opcode("invokePartial",partialName.name);this.opcode("append")},content:function(content){this.opcode("appendContent",content.string)},mustache:function(mustache){var options=this.options;var type=this.classifyMustache(mustache);if(type==="simple"){this.simpleMustache(mustache)}else if(type==="helper"){this.helperMustache(mustache)}else{this.ambiguousMustache(mustache)}if(mustache.escaped&&!options.noEscape){this.opcode("appendEscaped")}else{this.opcode("append")}},ambiguousMustache:function(mustache,program,inverse){var id=mustache.id,name=id.parts[0],isBlock=program!=null||inverse!=null;this.opcode("getContext",id.depth);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("invokeAmbiguous",name,isBlock)},simpleMustache:function(mustache){var id=mustache.id;if(id.type==="DATA"){this.DATA(id)}else if(id.parts.length){this.ID(id)}else{this.addDepth(id.depth);this.opcode("getContext",id.depth);this.opcode("pushContext")}this.opcode("resolvePossibleLambda")},helperMustache:function(mustache,program,inverse){var params=this.setupFullMustacheParams(mustache,program,inverse),name=mustache.id.parts[0];if(this.options.knownHelpers[name]){this.opcode("invokeKnownHelper",params.length,name)}else if(this.options.knownHelpersOnly){throw new Error("You specified knownHelpersOnly, but used the unknown helper "+name)}else{this.opcode("invokeHelper",params.length,name)}},ID:function(id){this.addDepth(id.depth);this.opcode("getContext",id.depth);var name=id.parts[0];if(!name){this.opcode("pushContext")}else{this.opcode("lookupOnContext",id.parts[0])}for(var i=1,l=id.parts.length;i<l;i++){this.opcode("lookup",id.parts[i])}},DATA:function(data){this.options.data=true;if(data.id.isScoped||data.id.depth){throw new Handlebars.Exception("Scoped data references are not supported: "+data.original)}this.opcode("lookupData");var parts=data.id.parts;for(var i=0,l=parts.length;i<l;i++){this.opcode("lookup",parts[i])}},STRING:function(string){this.opcode("pushString",string.string)},INTEGER:function(integer){this.opcode("pushLiteral",integer.integer)},BOOLEAN:function(bool){this.opcode("pushLiteral",bool.bool)},comment:function(){},opcode:function(name){this.opcodes.push({opcode:name,args:[].slice.call(arguments,1)})},declare:function(name,value){this.opcodes.push({opcode:"DECLARE",name:name,value:value})},addDepth:function(depth){if(isNaN(depth)){throw new Error("EWOT")}if(depth===0){return}if(!this.depths[depth]){this.depths[depth]=true;this.depths.list.push(depth)}},classifyMustache:function(mustache){var isHelper=mustache.isHelper;var isEligible=mustache.eligibleHelper;var options=this.options;if(isEligible&&!isHelper){var name=mustache.id.parts[0];if(options.knownHelpers[name]){isHelper=true}else if(options.knownHelpersOnly){isEligible=false}}if(isHelper){return"helper"}else if(isEligible){return"ambiguous"}else{return"simple"}},pushParams:function(params){var i=params.length,param;while(i--){param=params[i];if(this.options.stringParams){if(param.depth){this.addDepth(param.depth)}this.opcode("getContext",param.depth||0);this.opcode("pushStringParam",param.stringModeValue,param.type)}else{this[param.type](param)}}},setupMustacheParams:function(mustache){var params=mustache.params;this.pushParams(params);if(mustache.hash){this.hash(mustache.hash)}else{this.opcode("emptyHash")}return params},setupFullMustacheParams:function(mustache,program,inverse){var params=mustache.params;this.pushParams(params);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);if(mustache.hash){this.hash(mustache.hash)}else{this.opcode("emptyHash")}return params}};var Literal=function(value){this.value=value};JavaScriptCompiler.prototype={nameLookup:function(parent,name){
if(/^[0-9]+$/.test(name)){return parent+"["+name+"]"}else if(JavaScriptCompiler.isValidJavaScriptVariableName(name)){return parent+"."+name}else{return parent+"['"+name+"']"}},appendToBuffer:function(string){if(this.environment.isSimple){return"return "+string+";"}else{return{appendToBuffer:true,content:string,toString:function(){return"buffer += "+string+";"}}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(environment,options,context,asObject){this.environment=environment;this.options=options||{};Handlebars.log(Handlebars.logger.DEBUG,this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!context;this.context=context||{programs:[],environments:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.compileStack=[];this.inlineStack=[];this.compileChildren(environment,options);var opcodes=environment.opcodes,opcode;this.i=0;for(l=opcodes.length;this.i<l;this.i++){opcode=opcodes[this.i];if(opcode.opcode==="DECLARE"){this[opcode.name]=opcode.value}else{this[opcode.opcode].apply(this,opcode.args)}}return this.createFunctionContext(asObject)},nextOpcode:function(){var opcodes=this.environment.opcodes;return opcodes[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var out=[];if(!this.isChild){var namespace=this.namespace;var copies="helpers = this.merge(helpers, "+namespace+".helpers);";if(this.environment.usePartial){copies=copies+" partials = this.merge(partials, "+namespace+".partials);"}if(this.options.data){copies=copies+" data = data || {};"}out.push(copies)}else{out.push("")}if(!this.environment.isSimple){out.push(", buffer = "+this.initializeBuffer())}else{out.push("")}this.lastContext=0;this.source=out},createFunctionContext:function(asObject){var locals=this.stackVars.concat(this.registers.list);if(locals.length>0){this.source[1]=this.source[1]+", "+locals.join(", ")}if(!this.isChild){for(var alias in this.context.aliases){if(this.context.aliases.hasOwnProperty(alias)){this.source[1]=this.source[1]+", "+alias+"="+this.context.aliases[alias]}}}if(this.source[1]){this.source[1]="var "+this.source[1].substring(2)+";"}if(!this.isChild){this.source[1]+="\n"+this.context.programs.join("\n")+"\n"}if(!this.environment.isSimple){this.source.push("return buffer;")}var params=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var i=0,l=this.environment.depths.list.length;i<l;i++){params.push("depth"+this.environment.depths.list[i])}var source=this.mergeSource();if(!this.isChild){var revision=Handlebars.COMPILER_REVISION,versions=Handlebars.REVISION_CHANGES[revision];source="this.compilerInfo = ["+revision+",'"+versions+"'];\n"+source}if(asObject){params.push(source);return Function.apply(this,params)}else{var functionSource="function "+(this.name||"")+"("+params.join(",")+") {\n  "+source+"}";Handlebars.log(Handlebars.logger.DEBUG,functionSource+"\n\n");return functionSource}},mergeSource:function(){var source="",buffer;for(var i=0,len=this.source.length;i<len;i++){var line=this.source[i];if(line.appendToBuffer){if(buffer){buffer=buffer+"\n    + "+line.content}else{buffer=line.content}}else{if(buffer){source+="buffer += "+buffer+";\n  ";buffer=undefined}source+=line+"\n  "}}return source},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var params=["depth0"];this.setupParams(0,params);this.replaceStack(function(current){params.splice(1,0,current);return"blockHelperMissing.call("+params.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var params=["depth0"];this.setupParams(0,params);var current=this.topStack();params.splice(1,0,current);params[params.length-1]="options";this.source.push("if (!"+this.lastHelper+") { "+current+" = blockHelperMissing.call("+params.join(", ")+"); }")},appendContent:function(content){this.source.push(this.appendToBuffer(this.quotedString(content)))},append:function(){this.flushInline();var local=this.popStack();this.source.push("if("+local+" || "+local+" === 0) { "+this.appendToBuffer(local)+" }");if(this.environment.isSimple){this.source.push("else { "+this.appendToBuffer("''")+" }")}},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(depth){if(this.lastContext!==depth){this.lastContext=depth}},lookupOnContext:function(name){this.push(this.nameLookup("depth"+this.lastContext,name,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';this.replaceStack(function(current){return"typeof "+current+" === functionType ? "+current+".apply(depth0) : "+current})},lookup:function(name){this.replaceStack(function(current){return current+" == null || "+current+" === false ? "+current+" : "+this.nameLookup(current,name,"context")})},lookupData:function(id){this.push("data")},pushStringParam:function(string,type){this.pushStackLiteral("depth"+this.lastContext);this.pushString(type);if(typeof string==="string"){this.pushString(string)}else{this.pushStackLiteral(string)}},emptyHash:function(){this.pushStackLiteral("{}");if(this.options.stringParams){this.register("hashTypes","{}");this.register("hashContexts","{}")}},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var hash=this.hash;this.hash=undefined;if(this.options.stringParams){this.register("hashContexts","{"+hash.contexts.join(",")+"}");this.register("hashTypes","{"+hash.types.join(",")+"}")}this.push("{\n    "+hash.values.join(",\n    ")+"\n  }")},pushString:function(string){this.pushStackLiteral(this.quotedString(string))},push:function(expr){this.inlineStack.push(expr);return expr},pushLiteral:function(value){this.pushStackLiteral(value)},pushProgram:function(guid){if(guid!=null){this.pushStackLiteral(this.programExpression(guid))}else{this.pushStackLiteral(null)}},invokeHelper:function(paramSize,name){this.context.aliases.helperMissing="helpers.helperMissing";var helper=this.lastHelper=this.setupHelper(paramSize,name,true);var nonHelper=this.nameLookup("depth"+this.lastContext,name,"context");this.push(helper.name+" || "+nonHelper);this.replaceStack(function(name){return name+" ? "+name+".call("+helper.callParams+") "+": helperMissing.call("+helper.helperMissingParams+")"})},invokeKnownHelper:function(paramSize,name){var helper=this.setupHelper(paramSize,name);this.push(helper.name+".call("+helper.callParams+")")},invokeAmbiguous:function(name,helperCall){this.context.aliases.functionType='"function"';this.pushStackLiteral("{}");var helper=this.setupHelper(0,name,helperCall);var helperName=this.lastHelper=this.nameLookup("helpers",name,"helper");var nonHelper=this.nameLookup("depth"+this.lastContext,name,"context");var nextStack=this.nextStack();this.source.push("if ("+nextStack+" = "+helperName+") { "+nextStack+" = "+nextStack+".call("+helper.callParams+"); }");this.source.push("else { "+nextStack+" = "+nonHelper+"; "+nextStack+" = typeof "+nextStack+" === functionType ? "+nextStack+".apply(depth0) : "+nextStack+"; }")},invokePartial:function(name){var params=[this.nameLookup("partials",name,"partial"),"'"+name+"'",this.popStack(),"helpers","partials"];if(this.options.data){params.push("data")}this.context.aliases.self="this";this.push("self.invokePartial("+params.join(", ")+")")},assignToHash:function(key){var value=this.popStack(),context,type;if(this.options.stringParams){type=this.popStack();context=this.popStack()}var hash=this.hash;if(context){hash.contexts.push("'"+key+"': "+context)}if(type){hash.types.push("'"+key+"': "+type)}hash.values.push("'"+key+"': ("+value+")")},compiler:JavaScriptCompiler,compileChildren:function(environment,options){var children=environment.children,child,compiler;for(var i=0,l=children.length;i<l;i++){child=children[i];compiler=new this.compiler;var index=this.matchExistingProgram(child);if(index==null){this.context.programs.push("");index=this.context.programs.length;child.index=index;child.name="program"+index;this.context.programs[index]=compiler.compile(child,options,this.context);this.context.environments[index]=child}else{child.index=index;child.name="program"+index}}},matchExistingProgram:function(child){for(var i=0,len=this.context.environments.length;i<len;i++){var environment=this.context.environments[i];if(environment&&environment.equals(child)){return i}}},programExpression:function(guid){this.context.aliases.self="this";if(guid==null){return"self.noop"}var child=this.environment.children[guid],depths=child.depths.list,depth;var programParams=[child.index,child.name,"data"];for(var i=0,l=depths.length;i<l;i++){depth=depths[i];if(depth===1){programParams.push("depth0")}else{programParams.push("depth"+(depth-1))}}return(depths.length===0?"self.program(":"self.programWithDepth(")+programParams.join(", ")+")"},register:function(name,val){this.useRegister(name);this.source.push(name+" = "+val+";")},useRegister:function(name){if(!this.registers[name]){this.registers[name]=true;this.registers.list.push(name)}},pushStackLiteral:function(item){return this.push(new Literal(item))},pushStack:function(item){this.flushInline();var stack=this.incrStack();if(item){this.source.push(stack+" = "+item+";")}this.compileStack.push(stack);return stack},replaceStack:function(callback){var prefix="",inline=this.isInline(),stack;if(inline){var top=this.popStack(true);if(top instanceof Literal){stack=top.value}else{var name=this.stackSlot?this.topStackName():this.incrStack();prefix="("+this.push(name)+" = "+top+"),";stack=this.topStack()}}else{stack=this.topStack()}var item=callback.call(this,stack);if(inline){if(this.inlineStack.length||this.compileStack.length){this.popStack()}this.push("("+prefix+item+")")}else{if(!/^stack/.test(stack)){stack=this.nextStack()}this.source.push(stack+" = ("+prefix+item+");")}return stack},nextStack:function(){return this.pushStack()},incrStack:function(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot)}return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var inlineStack=this.inlineStack;if(inlineStack.length){this.inlineStack=[];for(var i=0,len=inlineStack.length;i<len;i++){var entry=inlineStack[i];if(entry instanceof Literal){this.compileStack.push(entry)}else{this.pushStack(entry)}}}},isInline:function(){return this.inlineStack.length},popStack:function(wrapped){var inline=this.isInline(),item=(inline?this.inlineStack:this.compileStack).pop();if(!wrapped&&item instanceof Literal){return item.value}else{if(!inline){this.stackSlot--}return item}},topStack:function(wrapped){var stack=this.isInline()?this.inlineStack:this.compileStack,item=stack[stack.length-1];if(!wrapped&&item instanceof Literal){return item.value}else{return item}},quotedString:function(str){return'"'+str.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(paramSize,name,missingParams){var params=[];this.setupParams(paramSize,params,missingParams);var foundHelper=this.nameLookup("helpers",name,"helper");return{params:params,name:foundHelper,callParams:["depth0"].concat(params).join(", "),helperMissingParams:missingParams&&["depth0",this.quotedString(name)].concat(params).join(", ")}},setupParams:function(paramSize,params,useRegister){var options=[],contexts=[],types=[],param,inverse,program;options.push("hash:"+this.popStack());inverse=this.popStack();program=this.popStack();if(program||inverse){if(!program){this.context.aliases.self="this";program="self.noop"}if(!inverse){this.context.aliases.self="this";inverse="self.noop"}options.push("inverse:"+inverse);options.push("fn:"+program)}for(var i=0;i<paramSize;i++){param=this.popStack();params.push(param);if(this.options.stringParams){types.push(this.popStack());contexts.push(this.popStack())}}if(this.options.stringParams){options.push("contexts:["+contexts.join(",")+"]");options.push("types:["+types.join(",")+"]");options.push("hashContexts:hashContexts");options.push("hashTypes:hashTypes")}if(this.options.data){options.push("data:data")}options="{"+options.join(",")+"}";if(useRegister){this.register("options",options);params.push("options")}else{params.push(options)}return params.join(", ")}};var reservedWords=("break else new var"+" case finally return void"+" catch for switch while"+" continue function this with"+" default if throw"+" delete in try"+" do instanceof typeof"+" abstract enum int short"+" boolean export interface static"+" byte extends long super"+" char final native synchronized"+" class float package throws"+" const goto private transient"+" debugger implements protected volatile"+" double import public let yield").split(" ");var compilerWords=JavaScriptCompiler.RESERVED_WORDS={};for(var i=0,l=reservedWords.length;i<l;i++){compilerWords[reservedWords[i]]=true}JavaScriptCompiler.isValidJavaScriptVariableName=function(name){if(!JavaScriptCompiler.RESERVED_WORDS[name]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(name)){return true}return false};Handlebars.precompile=function(input,options){if(input==null||typeof input!=="string"&&input.constructor!==Handlebars.AST.ProgramNode){throw new Handlebars.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+input)}options=options||{};if(!("data"in options)){options.data=true}var ast=Handlebars.parse(input);var environment=(new Compiler).compile(ast,options);return(new JavaScriptCompiler).compile(environment,options)};Handlebars.compile=function(input,options){if(input==null||typeof input!=="string"&&input.constructor!==Handlebars.AST.ProgramNode){throw new Handlebars.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+input)}options=options||{};if(!("data"in options)){options.data=true}var compiled;function compile(){var ast=Handlebars.parse(input);var environment=(new Compiler).compile(ast,options);var templateSpec=(new JavaScriptCompiler).compile(environment,options,undefined,true);return Handlebars.template(templateSpec)}return function(context,options){if(!compiled){compiled=compile()}return compiled.call(this,context,options)}};Handlebars.VM={template:function(templateSpec){var container={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(i,fn,data){var programWrapper=this.programs[i];if(data){programWrapper=Handlebars.VM.program(i,fn,data)}else if(!programWrapper){programWrapper=this.programs[i]=Handlebars.VM.program(i,fn)}return programWrapper},merge:function(param,common){var ret=param||common;if(param&&common){ret={};Handlebars.Utils.extend(ret,common);Handlebars.Utils.extend(ret,param)}return ret},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop,compilerInfo:null};return function(context,options){options=options||{};var result=templateSpec.call(container,Handlebars,context,options.helpers,options.partials,options.data);var compilerInfo=container.compilerInfo||[],compilerRevision=compilerInfo[0]||1,currentRevision=Handlebars.COMPILER_REVISION;if(compilerRevision!==currentRevision){if(compilerRevision<currentRevision){var runtimeVersions=Handlebars.REVISION_CHANGES[currentRevision],compilerVersions=Handlebars.REVISION_CHANGES[compilerRevision];throw"Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+")."}else{throw"Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+compilerInfo[1]+")."}}return result}},programWithDepth:function(i,fn,data){var args=Array.prototype.slice.call(arguments,3);var program=function(context,options){options=options||{};return fn.apply(this,[context,options.data||data].concat(args))};program.program=i;program.depth=args.length;return program},program:function(i,fn,data){var program=function(context,options){options=options||{};return fn(context,options.data||data)};program.program=i;program.depth=0;return program},noop:function(){return""},invokePartial:function(partial,name,context,helpers,partials,data){var options={helpers:helpers,partials:partials,data:data};if(partial===undefined){throw new Handlebars.Exception("The partial "+name+" could not be found")}else if(partial instanceof Function){return partial(context,options)}else if(!Handlebars.compile){throw new Handlebars.Exception("The partial "+name+" could not be compiled when running in runtime-only mode")}else{partials[name]=Handlebars.compile(partial,{data:data!==undefined});return partials[name](context,options)}}};Handlebars.template=Handlebars.VM.template})(Handlebars);
Handlebars.registerHelper("debug",function(optionalValue){console.log("Current Context");console.log("====================");console.log(this);if(optionalValue){console.log("Value");console.log("====================");console.log(optionalValue)}});Handlebars.registerHelper("include",function(templatename,options){var partial=Handlebars.partials[templatename];if(typeof partial==="string"){partial=Handlebars.compile(partial)}var context=$.extend({},this,options.hash);if(partial)return new Handlebars.SafeString(partial(context));return""});Handlebars.registerHelper("first",function(context,block){return block(context[0])});Handlebars.registerHelper("slice",function(context,block){var ret="",offset=parseInt(block.hash.offset)||0,limit=parseInt(block.hash.limit)||5,i=offset<context.length?offset:0,j=limit+offset<context.length?limit+offset:context.length;for(i,j;i<j;i++){ret+=block(context[i])}return ret});Handlebars.registerHelper("equal",function(lvalue,rvalue,options){if(arguments.length<3)throw new Error("Handlebars Helper equal needs 2 parameters");if(lvalue!=rvalue){return options.inverse(this)}else{return options.fn(this)}});Handlebars.registerHelper("ifvalue",function(conditional,options){if(conditional==options.hash.equals){return options.fn(this)}else{return options.inverse(this)}});Handlebars.registerHelper("toSentance",function(context,block){var ret="";for(var i=0,j=context.length;i<j;i++){ret=ret+block(context[i]);if(i<j-1){ret=ret+", "}}return ret});Handlebars.registerHelper("trimString",function(context,block){var length=block.hash.length||0;var ellipses=block.hash.ellipses||"...";if(context.length>length)return context.substr(0,length)+ellipses;else return context});Handlebars.registerHelper("dateFormat",function(context,block){if(context==null)return"";else if(window.moment&&moment(context).isValid()){moment.lang(locale.substring(0,2));var f=eval(block)||"MMM Do, YYYY";var formattedDate=moment(context).format(f);var regexMatches=formattedDate.match(/(mon|t(ue|ues|hu|hur)|wed|fri|s(at|un))\b/i);if(regexMatches)formattedDate=formattedDate.replace(regexMatches[0],regexMatches[0].toUpperCase());return formattedDate}else{return context}});Handlebars.registerHelper("formatDate",function(date,format,options){if(window.moment&&moment(date).isValid()){moment.lang(locale.substring(0,2));var f=format||"MMM Do, YYYY";return moment(date).format(f)}else{return date}});Handlebars.registerHelper("urlEncode",function(inputString){return encodeURIComponent(inputString)});Handlebars.registerHelper("stripHTML",function(inputString){var tmp=document.createElement("DIV");tmp.innerHTML=inputString;return tmp.textContent||tmp.innerText||""});Handlebars.registerHelper("debug",function(optionalValue){console.log("\nCurrent Context");console.log("====================");console.log(this);if(arguments.length>1){console.log("Value");console.log("====================");console.log(optionalValue)}});Handlebars.registerHelper("getAppIndexPath",function(){var path=axs.utilities.generateURL("default_index",{_locale:locale});if(locale!="en-US")path+="/";return path});Handlebars.registerHelper("buildEventCalendarRoute",function(eventId){if(eventId)return axs.utilities.generateURL("calendar_ics",{id:eventId,_locale:locale});else $("#outlook").hide()});Handlebars.registerHelper("buildGoogleCalendarLink",function(event,dateFormatName){event=event[0];var f="YYYYMMDD[T]HHmm[00Z]";var descriptionDateFormat=eval(dateFormatName)||"MMMM D, YYYY [at] h:mm A";var doorDateTime=event.doorDateTime;var doorDateTimeUTC=event.doorDateTimeUTC;var eventDateTime=event.eventDateTime;var eventDateTimeUTC=event.eventDateTimeUTC;var startDateTime=doorDateTimeUTC?doorDateTimeUTC:eventDateTimeUTC;var descriptionDateTime=doorDateTime?doorDateTime:eventDateTime;var endDateTime=eventDateTimeUTC;if(window.moment){moment.lang(locale.substring(0,2));if(moment(startDateTime).isValid()){startDateTime=moment(startDateTime).format(f)}if(moment(descriptionDateTime).isValid()&&event.eventDateTimeISO){descriptionDateTime=moment(descriptionDateTime).format(descriptionDateFormat)+" "+moment(eventDateTimeUTC).zone(event.eventDateTimeISO).format("[GMT]Z")}if(moment(endDateTime).isValid()){endDateTime=moment(endDateTime).add("hours",4);endDateTime=moment(endDateTime).format(f)}}var calendarEventDescription=eval("myAxsTranslations.pages.myEvents.calendar.description");calendarEventDescription=calendarEventDescription.replace("%eventDate%",descriptionDateTime);var calendarLocation="";if(event.venue.title)calendarLocation=event.venue.title;if(event.venue.address_line)calendarLocation+=", "+event.venue.address_line;var googleCalUrl="http://www.google.com/calendar/event?action=TEMPLATE"+"&text="+event.title.eventTitleText+"&dates="+startDateTime+"/"+endDateTime+"&details="+calendarEventDescription+"&location="+calendarLocation;return googleCalUrl});Handlebars.registerHelper("hasSharedTickets",function(seats,isForwardTicket,options){var displaySharedTicketsGrid=false;$(seats).each(function(index){if(this.barcode!=undefined&&this.barcode.statusId!=undefined&&(isForwardTicket||this.barcode.statusId>1&&this.barcode.statusId<4)){displaySharedTicketsGrid=true}});if(displaySharedTicketsGrid)return options.fn(this);return options.inverse(this)});Handlebars.registerHelper("hasAvailSeats",function(seats,options){var displayCalendar=false;$(seats).each(function(index){if(this.barcode.statusId!=4){displayCalendar=true}});if(displayCalendar)return options.fn(this);return options.inverse(this)});Handlebars.registerHelper("translate",function(translationKey,options){var text=eval(translationKey);return text});
$(function(){function supports_input_placeholder(){var i=document.createElement("input");return"placeholder"in i}if(supports_input_placeholder()){}else{var $placeholder=$("[placeholder]"),passPlacehoderClass="password-placehoder-input",$form=$placeholder.closest("form");$form.addClass("has-placeholder-polyfill");$placeholder.each(function(){var $this=$(this),placeholderVal=$this.attr("placeholder");if($this.attr("type")=="password"){var eClass=$this.attr("class")?$this.attr("class"):"",fakePasswordInput=$('<input type="text" class="'+eClass+" "+passPlacehoderClass+'" value="'+placeholderVal+'">').removeClass("required");$this.hide().before(fakePasswordInput)}if($this.val()==""&&$this.attr("type")!="password"){$this.val(placeholderVal)}});$("."+passPlacehoderClass).focus(function(){$(this).hide().next().show().focus()});$placeholder.focus(function(){var $this=$(this),value=$this.val(),placeholderTxt=$this.attr("placeholder");if(value==placeholderTxt){$this.val("")}});$placeholder.blur(function(){var $this=$(this),value=$this.val(),placeholderTxt=$this.attr("placeholder");if(value==""){if($this.attr("type")!="password"){$this.val(placeholderTxt)}else{$this.hide().prev().show()}}})}});
(function(a){function b(a,b){return function(c){return i(a.call(this,c),b)}}function c(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function d(){}function e(a){g(this,a)}function f(a){var b=a.years||a.year||a.y||0,c=a.months||a.month||a.M||0,d=a.weeks||a.week||a.w||0,e=a.days||a.day||a.d||0,f=a.hours||a.hour||a.h||0,g=a.minutes||a.minute||a.m||0,h=a.seconds||a.second||a.s||0,i=a.milliseconds||a.millisecond||a.ms||0;this._input=a,this._milliseconds=+i+1e3*h+6e4*g+36e5*f,this._days=+e+7*d,this._months=+c+12*b,this._data={},this._bubble()}function g(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function h(a){return 0>a?Math.ceil(a):Math.floor(a)}function i(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function j(a,b,c,d){var e,f,g=b._milliseconds,h=b._days,i=b._months;g&&a._d.setTime(+a._d+g*c),(h||i)&&(e=a.minute(),f=a.hour()),h&&a.date(a.date()+h*c),i&&a.month(a.month()+i*c),g&&!d&&L.updateOffset(a),(h||i)&&(a.minute(e),a.hour(f))}function k(a){return"[object Array]"===Object.prototype.toString.call(a)}function l(a,b){var c,d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0;for(c=0;d>c;c++)~~a[c]!==~~b[c]&&f++;return f+e}function m(a){return a?ib[a]||a.toLowerCase().replace(/(.)s$/,"$1"):a}function n(a,b){return b.abbr=a,P[a]||(P[a]=new d),P[a].set(b),P[a]}function o(a){delete P[a]}function p(a){if(!a)return L.fn._lang;if(!P[a]&&Q)try{require("./lang/"+a)}catch(b){return L.fn._lang}return P[a]||L.fn._lang}function q(a){return a.match(/\[.*\]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function r(a){var b,c,d=a.match(T);for(b=0,c=d.length;c>b;b++)d[b]=mb[d[b]]?mb[d[b]]:q(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function s(a,b){return b=t(b,a.lang()),jb[b]||(jb[b]=r(b)),jb[b](a)}function t(a,b){function c(a){return b.longDateFormat(a)||a}for(var d=5;d--&&(U.lastIndex=0,U.test(a));)a=a.replace(U,c);return a}function u(a,b){switch(a){case"DDDD":return X;case"YYYY":return Y;case"YYYYY":return Z;case"S":case"SS":case"SSS":case"DDD":return W;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return $;case"a":case"A":return p(b._l)._meridiemParse;case"X":return bb;case"Z":case"ZZ":return _;case"T":return ab;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return V;default:return new RegExp(a.replace("\\",""))}}function v(a){var b=(_.exec(a)||[])[0],c=(b+"").match(fb)||["-",0,0],d=+(60*c[1])+~~c[2];return"+"===c[0]?-d:d}function w(a,b,c){var d,e=c._a;switch(a){case"M":case"MM":null!=b&&(e[1]=~~b-1);break;case"MMM":case"MMMM":d=p(c._l).monthsParse(b),null!=d?e[1]=d:c._isValid=!1;break;case"D":case"DD":null!=b&&(e[2]=~~b);break;case"DDD":case"DDDD":null!=b&&(e[1]=0,e[2]=~~b);break;case"YY":e[0]=~~b+(~~b>68?1900:2e3);break;case"YYYY":case"YYYYY":e[0]=~~b;break;case"a":case"A":c._isPm=p(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[3]=~~b;break;case"m":case"mm":e[4]=~~b;break;case"s":case"ss":e[5]=~~b;break;case"S":case"SS":case"SSS":e[6]=~~(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=v(b)}null==b&&(c._isValid=!1)}function x(a){var b,c,d,e=[];if(!a._d){for(d=z(a),b=0;3>b&&null==a._a[b];++b)a._a[b]=e[b]=d[b];for(;7>b;b++)a._a[b]=e[b]=null==a._a[b]?2===b?1:0:a._a[b];e[3]+=~~((a._tzm||0)/60),e[4]+=~~((a._tzm||0)%60),c=new Date(0),a._useUTC?(c.setUTCFullYear(e[0],e[1],e[2]),c.setUTCHours(e[3],e[4],e[5],e[6])):(c.setFullYear(e[0],e[1],e[2]),c.setHours(e[3],e[4],e[5],e[6])),a._d=c}}function y(a){var b=a._i;a._d||(a._a=[b.years||b.year||b.y,b.months||b.month||b.M,b.days||b.day||b.d,b.hours||b.hour||b.h,b.minutes||b.minute||b.m,b.seconds||b.second||b.s,b.milliseconds||b.millisecond||b.ms],x(a))}function z(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function A(a){var b,c,d,e=p(a._l),f=""+a._i;for(d=t(a._f,e).match(T),a._a=[],b=0;b<d.length;b++)c=(u(d[b],a).exec(f)||[])[0],c&&(f=f.slice(f.indexOf(c)+c.length)),mb[d[b]]&&w(d[b],c,a);f&&(a._il=f),a._isPm&&a._a[3]<12&&(a._a[3]+=12),a._isPm===!1&&12===a._a[3]&&(a._a[3]=0),x(a)}function B(a){var b,c,d,f,h,i=99;for(f=0;f<a._f.length;f++)b=g({},a),b._f=a._f[f],A(b),c=new e(b),h=l(b._a,c.toArray()),c._il&&(h+=c._il.length),i>h&&(i=h,d=c);g(a,d)}function C(a){var b,c=a._i,d=cb.exec(c);if(d){for(a._f="YYYY-MM-DD"+(d[2]||" "),b=0;4>b;b++)if(eb[b][1].exec(c)){a._f+=eb[b][0];break}_.exec(c)&&(a._f+=" Z"),A(a)}else a._d=new Date(c)}function D(b){var c=b._i,d=R.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):"string"==typeof c?C(b):k(c)?(b._a=c.slice(0),x(b)):c instanceof Date?b._d=new Date(+c):"object"==typeof c?y(b):b._d=new Date(c)}function E(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function F(a,b,c){var d=O(Math.abs(a)/1e3),e=O(d/60),f=O(e/60),g=O(f/24),h=O(g/365),i=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",O(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,E.apply({},i)}function G(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=L(a).add("d",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function H(a){var b=a._i,c=a._f;return null===b||""===b?null:("string"==typeof b&&(a._i=b=p().preparse(b)),L.isMoment(b)?(a=g({},b),a._d=new Date(+b._d)):c?k(c)?B(a):A(a):D(a),new e(a))}function I(a,b){L.fn[a]=L.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),L.updateOffset(this),this):this._d["get"+c+b]()}}function J(a){L.duration.fn[a]=function(){return this._data[a]}}function K(a,b){L.duration.fn["as"+a]=function(){return+this/b}}for(var L,M,N="2.2.1",O=Math.round,P={},Q="undefined"!=typeof module&&module.exports,R=/^\/?Date\((\-?\d+)/i,S=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,T=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,V=/\d\d?/,W=/\d{1,3}/,X=/\d{3}/,Y=/\d{1,4}/,Z=/[+\-]?\d{1,6}/,$=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,_=/Z|[\+\-]\d\d:?\d\d/i,ab=/T/i,bb=/[\+\-]?\d+(\.\d{1,3})?/,cb=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,db="YYYY-MM-DDTHH:mm:ssZ",eb=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],fb=/([\+\-]|\d\d)/gi,gb="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),hb={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ib={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",W:"isoweek",M:"month",y:"year"},jb={},kb="DDD w W M D d".split(" "),lb="M D H h m s w W".split(" "),mb={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return i(this.year()%100,2)},YYYY:function(){return i(this.year(),4)},YYYYY:function(){return i(this.year(),5)},gg:function(){return i(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return i(this.weekYear(),5)},GG:function(){return i(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return i(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return i(~~(this.milliseconds()/10),2)},SSS:function(){return i(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(~~(a/60),2)+":"+i(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(~~(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};kb.length;)M=kb.pop(),mb[M+"o"]=c(mb[M],M);for(;lb.length;)M=lb.pop(),mb[M+M]=b(mb[M],2);for(mb.DDDD=b(mb.DDD,3),g(d.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=L.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=L([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return G(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}}),L=function(a,b,c){return H({_i:a,_f:b,_l:c,_isUTC:!1})},L.utc=function(a,b,c){return H({_useUTC:!0,_isUTC:!0,_l:c,_i:a,_f:b}).utc()},L.unix=function(a){return L(1e3*a)},L.duration=function(a,b){var c,d,e=L.isDuration(a),g="number"==typeof a,h=e?a._input:g?{}:a,i=S.exec(a);return g?b?h[b]=a:h.milliseconds=a:i&&(c="-"===i[1]?-1:1,h={y:0,d:~~i[2]*c,h:~~i[3]*c,m:~~i[4]*c,s:~~i[5]*c,ms:~~i[6]*c}),d=new f(h),e&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d},L.version=N,L.defaultFormat=db,L.updateOffset=function(){},L.lang=function(a,b){return a?(a=a.toLowerCase(),a=a.replace("_","-"),b?n(a,b):null===b?(o(a),a="en"):P[a]||p(a),L.duration.fn._lang=L.fn._lang=p(a),void 0):L.fn._lang._abbr},L.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),p(a)},L.isMoment=function(a){return a instanceof e},L.isDuration=function(a){return a instanceof f},g(L.fn=e.prototype,{clone:function(){return L(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return s(L(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!l(this._a,(this._isUTC?L.utc(this._a):L(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},invalidAt:function(){var a,b=this._a,c=(this._isUTC?L.utc(this._a):L(this._a)).toArray();for(a=6;a>=0&&b[a]===c[a];--a);return a},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=s(this,a||L.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a?L.duration(+b,a):L.duration(a,b),j(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?L.duration(+b,a):L.duration(a,b),j(this,c,-1),this},diff:function(a,b,c){var d,e,f=this._isUTC?L(a).zone(this._offset||0):L(a).local(),g=6e4*(this.zone()-f.zone());return b=m(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-L(this).startOf("month")-(f-L(f).startOf("month")))/d,e-=6e4*(this.zone()-L(this).startOf("month").zone()-(f.zone()-L(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:h(e)},from:function(a,b){return L.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(L(),a)},calendar:function(){var a=this.diff(L().zone(this.zone()).startOf("day"),"days",!0),b=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(b,this))},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?"string"==typeof a&&(a=this.lang().weekdaysParse(a),"number"!=typeof a)?this:this.add({d:a-b}):b},month:function(a){var b,c=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),L.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(a){switch(a=m(a)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoweek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoweek"===a&&this.isoWeekday(1),this},endOf:function(a){return a=m(a),this.startOf(a).add("isoweek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+L(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+L(a).startOf(b)},isSame:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)===+L(a).startOf(b)},min:function(a){return a=L.apply(null,arguments),this>a?this:a},max:function(a){return a=L.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=v(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,b!==a&&j(this,L.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},hasAlignedHourOffset:function(a){return a=a?L(a).zone():0,0===(this.zone()-a)%60},daysInMonth:function(){return L.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=O((L(this).startOf("day")-L(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},weekYear:function(a){var b=G(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=G(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=G(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){return a=m(a),this[a.toLowerCase()]()},set:function(a,b){a=m(a),this[a.toLowerCase()](b)},lang:function(b){return b===a?this._lang:(this._lang=p(b),this)}}),M=0;M<gb.length;M++)I(gb[M].toLowerCase().replace(/s$/,""),gb[M]);I("year","FullYear"),L.fn.days=L.fn.day,L.fn.months=L.fn.month,L.fn.weeks=L.fn.week,L.fn.isoWeeks=L.fn.isoWeek,L.fn.toJSON=L.fn.toISOString,g(L.duration.fn=f.prototype,{_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,i=this._data;i.milliseconds=e%1e3,a=h(e/1e3),i.seconds=a%60,b=h(a/60),i.minutes=b%60,c=h(b/60),i.hours=c%24,f+=h(c/24),i.days=f%30,g+=h(f/30),i.months=g%12,d=h(g/12),i.years=d},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(a){var b=+this,c=F(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=L.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=L.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=m(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=m(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:L.fn.lang});for(M in hb)hb.hasOwnProperty(M)&&(K(M,hb[M]),J(M.toLowerCase()));K("Weeks",6048e5),L.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},L.lang("en",{ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),function(a){a(L)}(function(a){a.lang("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}),function(a){a(L)}(function(a){a.lang("ar",{months:"/  _/ _/ _/ _/ _/ _/ _/ _/ _/  _/  _/  ".split("_"),monthsShort:"/  _/ _/ _/ _/ _/ _/ _/ _/ _/  _/  _/  ".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}),function(a){a(L)}(function(a){a.lang("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinal:function(a){var b=a%10,c=a%100;return 0===a?a+"-":0===c?a+"-":c>10&&20>c?a+"-":1===b?a+"-":2===b?a+"-":7===b||8===b?a+"-":a+"-"},week:{dow:1,doy:7}})}),function(a){a(L)}(function(b){function c(a,b,c){var d={mm:"munutenn",MM:"miz",dd:"devezh"};return a+" "+f(d[c],a)}function d(a){switch(e(a)){case 1:case 3:case 4:case 5:case 9:return a+" bloaz";default:return a+" vloaz"}}function e(a){return a>9?e(a%10):a}function f(a,b){return 2===b?g(a):a}function g(b){var c={m:"v",b:"v",d:"z"};return c[b.charAt(0)]===a?b:c[b.charAt(0)]+b.substring(1)}b.lang("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:c,h:"un eur",hh:"%d eur",d:"un devezh",dd:c,M:"ur miz",MM:c,y:"ur bloaz",yy:d},ordinal:function(a){var b=1===a?"a":"vet";return a+b},week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){a.lang("ca",{months:"Gener_Febrer_Mar_Abril_Maig_Juny_Juliol_Agost_Setembre_Octubre_Novembre_Desembre".split("_"),monthsShort:"Gen._Febr._Mar._Abr._Mai._Jun._Jul._Ag._Set._Oct._Nov._Des.".split("_"),weekdays:"Diumenge_Dilluns_Dimarts_Dimecres_Dijous_Divendres_Dissabte".split("_"),weekdaysShort:"Dg._Dl._Dt._Dc._Dj._Dv._Ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinal:"%d",week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){function b(a){return a>1&&5>a&&1!==~~(a/10)}function c(a,c,d,e){var f=a+" ";switch(d){case"s":return c||e?"pr vtein":"pr vteinami";case"m":return c?"minuta":e?"minutu":"minutou";case"mm":return c||e?f+(b(a)?"minuty":"minut"):f+"minutami";break;case"h":return c?"hodina":e?"hodinu":"hodinou";case"hh":return c||e?f+(b(a)?"hodiny":"hodin"):f+"hodinami";break;case"d":return c||e?"den":"dnem";case"dd":return c||e?f+(b(a)?"dny":"dn"):f+"dny";break;case"M":return c||e?"msc":"mscem";case"MM":return c||e?f+(b(a)?"msce":"msc"):f+"msci";break;case"y":return c||e?"rok":"rokem";case"yy":return c||e?f+(b(a)?"roky":"let"):f+"lety"}}var d="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),e="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");a.lang("cs",{months:d,monthsShort:e,monthsParse:function(a,b){var c,d=[];for(c=0;12>c;c++)d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i");return d}(d,e),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){a.lang("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], LT",LLLL:"dddd, YYYY [] MMMM [] D[-], LT"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(a){var b=/$/i.exec(a)?"":/$/i.exec(a)?"":"";return a+b},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinal:"%d-",week:{dow:1,doy:7}})}),function(a){a(L)}(function(a){a.lang("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I gr kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){function b(a,b,c){var d={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?d[c][0]:d[c][1]}a.lang("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:b,mm:"%d Minuten",h:b,hh:"%d Stunden",d:b,dd:b,M:b,MM:b,y:b,yy:b},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){a.lang("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(a,b){return/D/.test(b.substring(0,b.indexOf("MMMM")))?this._monthsGenitiveEl[a.month()]:this._monthsNominativeEl[a.month()]},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(a,b,c){return a>11?c?"":"":c?"":""},longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:"[ ] dddd [{}] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendarEl[a],d=b&&b.hours();return c.replace("{}",1===d%12?"":"")},relativeTime:{future:" %s",past:"%s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinal:function(a){return a+""},week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){a.lang("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}})}),function(a){a(L)}(function(a){a.lang("en-gb",{
months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){a.lang("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"Dimano_Lundo_Mardo_Merkredo_ado_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_a_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_a_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiem:function(a,b,c){return a>11?c?"p.t.m.":"P.T.M.":c?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinal:"%da",week:{dow:1,doy:7}})}),function(a){a(L)}(function(a){a.lang("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_S".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:"%d",week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){function b(a,b,c,d){return d||b?"paari sekundi":"paar sekundit"}a.lang("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:b,m:"minut",mm:"%d minutit",h:"tund",hh:"%d tundi",d:"pev",dd:"%d peva",M:"kuu",MM:"%d kuud",y:"aasta",yy:"%d aastat"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){a.lang("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinal:"%d.",week:{dow:1,doy:7}})}),function(a){a(L)}(function(a){var b={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},c={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};a.lang("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiem:function(a){return 12>a?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[-]/g,function(a){return c[a]}).replace(//g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]}).replace(/,/g,"")},ordinal:"%d",week:{dow:6,doy:12}})}),function(a){a(L)}(function(a){function b(a,b,d,e){var f="";switch(d){case"s":return e?"muutaman sekunnin":"muutama sekunti";case"m":return e?"minuutin":"minuutti";case"mm":f=e?"minuutin":"minuuttia";break;case"h":return e?"tunnin":"tunti";case"hh":f=e?"tunnin":"tuntia";break;case"d":return e?"pivn":"piv";case"dd":f=e?"pivn":"piv";break;case"M":return e?"kuukauden":"kuukausi";case"MM":f=e?"kuukauden":"kuukautta";break;case"y":return e?"vuoden":"vuosi";case"yy":f=e?"vuoden":"vuotta"}return f=c(a,e)+" "+f}function c(a,b){return 10>a?b?e[a]:d[a]:a}var d="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),e=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",d[7],d[8],d[9]];a.lang("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:b,m:b,mm:b,h:b,hh:b,d:b,dd:b,M:b,MM:b,y:b,yy:b},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){a.lang("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(a){return a+(1===a?"er":"")}})}),function(a){a(L)}(function(a){a.lang("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(a){return a+(1===a?"er":"")},week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){a.lang("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuo_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xu._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mrcores_Xoves_Venres_Sbado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mr._Xov._Ven._Sb.".split("_"),weekdaysMin:"Do_Lu_Ma_M_Xo_Ve_S".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(a){return"uns segundos"===a?"nuns segundos":"en "+a},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinal:"%d",week:{dow:1,doy:7}})}),function(a){a(L)}(function(a){a.lang("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY LT",LLLL:"dddd, D []MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(a){return 2===a?"":a+" "},d:"",dd:function(a){return 2===a?"":a+" "},M:"",MM:function(a){return 2===a?"":a+" "},y:"",yy:function(a){return 2===a?"":a+" "}}})}),function(a){a(L)}(function(a){var b={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},c={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};a.lang("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return c[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]})},meridiem:function(a){return 4>a?"":10>a?"":17>a?"":20>a?"":""},week:{dow:0,doy:6}})}),function(a){a(L)}(function(a){function b(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}a.lang("hr",{months:"sjeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:b,mm:b,h:b,hh:b,d:"dan",dd:b,M:"mjesec",MM:b,y:"godinu",yy:b},ordinal:"%d.",week:{dow:1,doy:7}})}),function(a){a(L)}(function(a){function b(a,b,c,d){var e=a;switch(c){case"s":return d||b?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(d||b?" perc":" perce");case"mm":return e+(d||b?" perc":" perce");case"h":return"egy"+(d||b?" ra":" rja");case"hh":return e+(d||b?" ra":" rja");case"d":return"egy"+(d||b?" nap":" napja");case"dd":return e+(d||b?" nap":" napja");case"M":return"egy"+(d||b?" hnap":" hnapja");case"MM":return e+(d||b?" hnap":" hnapja");case"y":return"egy"+(d||b?" v":" ve");case"yy":return e+(d||b?" v":" ve")}return""}function c(a){return(a?"":"[mlt] ")+"["+d[this.day()]+"] LT[-kor]"}var d="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");a.lang("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return c.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return c.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:b,m:b,mm:b,h:b,hh:b,d:b,dd:b,M:b,MM:b,y:b,yy:b},ordinal:"%d.",week:{dow:1,doy:7}})}),function(a){a(L)}(function(a){a.lang("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(a){return 11>a?"pagi":15>a?"siang":19>a?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(a){a(L)}(function(a){function b(a){return 11===a%100?!0:1===a%10?!1:!0}function c(a,c,d,e){var f=a+" ";switch(d){case"s":return c||e?"nokkrar sekndur":"nokkrum sekndum";case"m":return c?"mnta":"mntu";case"mm":return b(a)?f+(c||e?"mntur":"mntum"):c?f+"mnta":f+"mntu";case"hh":return b(a)?f+(c||e?"klukkustundir":"klukkustundum"):f+"klukkustund";case"d":return c?"dagur":e?"dag":"degi";case"dd":return b(a)?c?f+"dagar":f+(e?"daga":"dgum"):c?f+"dagur":f+(e?"dag":"degi");case"M":return c?"mnuur":e?"mnu":"mnui";case"MM":return b(a)?c?f+"mnuir":f+(e?"mnui":"mnuum"):c?f+"mnuur":f+(e?"mnu":"mnui");case"y":return c||e?"r":"ri";case"yy":return b(a)?f+(c||e?"r":"rum"):f+(c||e?"r":"ri")}}a.lang("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:c,m:c,mm:c,h:"klukkustund",hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){a.lang("it",{months:"Gennaio_Febbraio_Marzo_Aprile_Maggio_Giugno_Luglio_Agosto_Settembre_Ottobre_Novembre_Dicembre".split("_"),monthsShort:"Gen_Feb_Mar_Apr_Mag_Giu_Lug_Ago_Set_Ott_Nov_Dic".split("_"),weekdays:"Domenica_Luned_Marted_Mercoled_Gioved_Venerd_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:"[lo scorso] dddd [alle] LT",sameElse:"L"},relativeTime:{future:function(a){return(/^[0-9].+$/.test(a)?"tra":"in")+" "+a},past:"%s fa",s:"secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:"%d",week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){a.lang("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahm",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDLT",LLLL:"YYYYMDLT dddd"},meridiem:function(a){return 12>a?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}),function(a){a(L)}(function(a){function b(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD] *MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function c(a,b){var c={nominative:"______".split("_"),accusative:"______".split("_")},d=/(|)/.test(b)?"accusative":"nominative";return c[d][a.day()]}a.lang("ka",{months:b,monthsShort:"___________".split("_"),weekdays:c,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(a){return/(|||)/.test(a)?a.replace(/$/,""):a+""},past:function(a){return/(||||)/.test(a)?a.replace(/(|)$/," ")://.test(a)?a.replace(/$/," "):void 0},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinal:function(a){return 0===a?a:1===a?a+"-":20>a||100>=a&&0===a%20||0===a%100?"-"+a:a+"-"},week:{dow:1,doy:7}})}),function(a){a(L)}(function(a){a.lang("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h mm",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D LT",LLLL:"YYYY MMMM D dddd LT"},meridiem:function(a){return 12>a?"":""},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"},ordinal:"%d"})}),function(a){a(L)}(function(a){function b(a,b,c){var d=a.split("_");return c?1===b%10&&11!==b?d[2]:d[3]:1===b%10&&11!==b?d[0]:d[1]}function c(a,c,e){return a+" "+b(d[e],a,c)}var d={mm:"minti_mintes_minte_mintes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mnesi_mneus_mnesis_mnei",yy:"gadu_gadus_gads_gadi"};a.lang("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vlk",past:"%s agrk",s:"daas sekundes",m:"minti",mm:c,h:"stundu",hh:c,d:"dienu",dd:c,M:"mnesi",MM:c,y:"gadu",yy:c},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){a.lang("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiem:function(a){return 4>a?"":12>a?"":17>a?" ":20>a?"":""}})}),function(a){a(L)}(function(a){var b={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},c={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};a.lang("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return c[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]})},meridiem:function(a){return 4>a?"":10>a?"":17>a?"":20>a?"":""},week:{dow:0,doy:6}})}),function(a){a(L)}(function(a){a.lang("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(a){return 11>a?"pagi":15>a?"tengahari":19>a?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(a){a(L)}(function(a){a.lang("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"H.mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){var b={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},c={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};a.lang("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._.__._._._.".split("_"),longDateFormat:{LT:"A h:mm ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(a){return a.replace(/[]/g,function(a){return c[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return b[a]})},meridiem:function(a){return 3>a?"":10>a?"":15>a?"":18>a?"":20>a?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}),function(a){a(L)}(function(a){var b="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),c="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");a.lang("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(a,d){return/-MMM-/.test(d)?c[a.month()]:b[a.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Vandaag om] LT",nextDay:"[Morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){a.lang("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregende] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekund",m:"ett minutt",mm:"%d minutt",h:"en time",hh:"%d timar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){function b(a){return 5>a%10&&a%10>1&&1!==~~(a/10)}function c(a,c,d){
var e=a+" ";switch(d){case"m":return c?"minuta":"minut";case"mm":return e+(b(a)?"minuty":"minut");case"h":return c?"godzina":"godzin";case"hh":return e+(b(a)?"godziny":"godzin");case"MM":return e+(b(a)?"miesice":"miesicy");case"yy":return e+(b(a)?"lata":"lat")}}var d="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),e="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");a.lang("pl",{months:function(a,b){return/D MMMM/.test(b)?e[a.month()]:d[a.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"nie_pon_wt_r_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:c,mm:c,h:c,hh:c,d:"1 dzie",dd:"%d dni",M:"miesic",MM:c,y:"rok",yy:c},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){a.lang("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%d"})}),function(a){a(L)}(function(a){a.lang("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%d",week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){a.lang("ro",{months:"Ianuarie_Februarie_Martie_Aprilie_Mai_Iunie_Iulie_August_Septembrie_Octombrie_Noiembrie_Decembrie".split("_"),monthsShort:"Ian_Feb_Mar_Apr_Mai_Iun_Iul_Aug_Sep_Oct_Noi_Dec".split("_"),weekdays:"Duminic_Luni_Mari_Miercuri_Joi_Vineri_Smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:"%d minute",h:"o or",hh:"%d ore",d:"o zi",dd:"%d zile",M:"o lun",MM:"%d luni",y:"un an",yy:"%d ani"},week:{dow:1,doy:7}})}),function(a){a(L)}(function(a){function b(a,b){var c=a.split("_");return 1===b%10&&11!==b%100?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function c(a,c,d){var e={mm:"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===d?c?"":"":a+" "+b(e[d],+a)}function d(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]? *MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function e(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]? *MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function f(a,b){var c={nominative:"______".split("_"),accusative:"______".split("_")},d=/\[ ?[] ?(?:|)? ?\] ?dddd/.test(b)?"accusative":"nominative";return c[d][a.day()]}a.lang("ru",{months:d,monthsShort:e,weekdays:f,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:c,mm:c,h:"",hh:c,d:"",dd:c,M:"",MM:c,y:"",yy:c},ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":return a+"-";case"D":return a+"-";case"w":case"W":return a+"-";default:return a}},week:{dow:1,doy:7}})}),function(a){a(L)}(function(a){function b(a){return a>1&&5>a}function c(a,c,d,e){var f=a+" ";switch(d){case"s":return c||e?"pr seknd":"pr sekundami";case"m":return c?"minta":e?"mintu":"mintou";case"mm":return c||e?f+(b(a)?"minty":"mint"):f+"mintami";break;case"h":return c?"hodina":e?"hodinu":"hodinou";case"hh":return c||e?f+(b(a)?"hodiny":"hodn"):f+"hodinami";break;case"d":return c||e?"de":"dom";case"dd":return c||e?f+(b(a)?"dni":"dn"):f+"dami";break;case"M":return c||e?"mesiac":"mesiacom";case"MM":return c||e?f+(b(a)?"mesiace":"mesiacov"):f+"mesiacmi";break;case"y":return c||e?"rok":"rokom";case"yy":return c||e?f+(b(a)?"roky":"rokov"):f+"rokmi"}}var d="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),e="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");a.lang("sk",{months:d,monthsShort:e,monthsParse:function(a,b){var c,d=[];for(c=0;12>c;c++)d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i");return d}(d,e),weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){function b(a,b,c){var d=a+" ";switch(c){case"m":return b?"ena minuta":"eno minuto";case"mm":return d+=1===a?"minuta":2===a?"minuti":3===a||4===a?"minute":"minut";case"h":return b?"ena ura":"eno uro";case"hh":return d+=1===a?"ura":2===a?"uri":3===a||4===a?"ure":"ur";case"dd":return d+=1===a?"dan":"dni";case"MM":return d+=1===a?"mesec":2===a?"meseca":3===a||4===a?"mesece":"mesecev";case"yy":return d+=1===a?"leto":2===a?"leti":3===a||4===a?"leta":"let"}}a.lang("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"%s nazaj",s:"nekaj sekund",m:b,mm:b,h:b,hh:b,d:"en dan",dd:b,M:"en mesec",MM:b,y:"eno leto",yy:b},ordinal:"%d.",week:{dow:1,doy:7}})}),function(a){a(L)}(function(a){a.lang("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Marte_E Mrkure_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Neser n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s me par",s:"disa seconda",m:"nj minut",mm:"%d minutea",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){a.lang("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"dddd LT",lastWeek:"[Frra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"e":1===b?"a":2===b?"a":3===b?"e":"e";return a+c},week:{dow:1,doy:4}})}),function(a){a(L)}(function(a){a.lang("th",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),longDateFormat:{LT:"H  m ",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  LT",LLLL:"dddd D MMMM YYYY  LT"},meridiem:function(a){return 12>a?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}),function(a){a(L)}(function(a){var b={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};a.lang("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(a){if(0===a)return a+"'nc";var c=a%10,d=a%100-c,e=a>=100?100:null;return a+(b[c]||b[d]||b[e])},week:{dow:1,doy:7}})}),function(a){a(L)}(function(a){a.lang("tzm-la",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}),function(a){a(L)}(function(a){a.lang("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}),function(a){a(L)}(function(a){function b(a,b){var c=a.split("_");return 1===b%10&&11!==b%100?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function c(a,c,d){var e={mm:"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===d?c?"":"":"h"===d?c?"":"":a+" "+b(e[d],+a)}function d(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]? *MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function e(a,b){var c={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},d=/(\[[]\]) ?dddd/.test(b)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(b)?"genitive":"nominative";return c[d][a.day()]}function f(a){return function(){return a+""+(11===this.hours()?"":"")+"] LT"}}a.lang("uk",{months:d,monthsShort:"___________".split("_"),weekdays:e,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:f("[ "),nextDay:f("[ "),lastDay:f("[ "),nextWeek:f("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return f("[] dddd [").call(this);case 1:case 2:case 4:return f("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:c,mm:c,h:"",hh:c,d:"",dd:c,M:"",MM:c,y:"",yy:c},ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return a+"-";case"D":return a+"-";default:return a}},week:{dow:1,doy:7}})}),function(a){a(L)}(function(a){a.lang("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiem:function(a,b){return 9>a?"":11>a&&30>b?"":13>a&&30>b?"":18>a?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"";case"M":return a+"";case"w":case"W":return a+"";default:return a}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}),function(a){a(L)}(function(a){a.lang("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiem:function(a,b){return 9>a?"":11>a&&30>b?"":13>a&&30>b?"":18>a?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"";case"M":return a+"";case"w":case"W":return a+"";default:return a}},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"}})}),L.lang("en"),Q&&(module.exports=L),"undefined"==typeof ender&&(this.moment=L),"function"==typeof define&&define.amd&&define("moment",[],function(){return L})}).call(this);
(function(window,document,location,setTimeout,decodeURIComponent,encodeURIComponent){var global=this;var channelId=Math.floor(Math.random()*1e4);var emptyFn=Function.prototype;var reURI=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/;var reParent=/[\-\w]+\/\.\.\//;var reDoubleSlash=/([^:])\/\//g;var namespace="";var easyXDM={};var _easyXDM=window.easyXDM;var IFRAME_PREFIX="easyXDM_";var HAS_NAME_PROPERTY_BUG;var useHash=false;var flashVersion;var HAS_FLASH_THROTTLED_BUG;function isHostMethod(object,property){var t=typeof object[property];return t=="function"||!!(t=="object"&&object[property])||t=="unknown"}function isHostObject(object,property){return!!(typeof object[property]=="object"&&object[property])}function isArray(o){return Object.prototype.toString.call(o)==="[object Array]"}function hasFlash(){var name="Shockwave Flash",mimeType="application/x-shockwave-flash";if(!undef(navigator.plugins)&&typeof navigator.plugins[name]=="object"){var description=navigator.plugins[name].description;if(description&&!undef(navigator.mimeTypes)&&navigator.mimeTypes[mimeType]&&navigator.mimeTypes[mimeType].enabledPlugin){flashVersion=description.match(/\d+/g)}}if(!flashVersion){var flash;try{flash=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");flashVersion=Array.prototype.slice.call(flash.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1);flash=null}catch(notSupportedException){}}if(!flashVersion){return false}var major=parseInt(flashVersion[0],10),minor=parseInt(flashVersion[1],10);HAS_FLASH_THROTTLED_BUG=major>9&&minor>0;return true}var on,un;if(isHostMethod(window,"addEventListener")){on=function(target,type,listener){target.addEventListener(type,listener,false)};un=function(target,type,listener){target.removeEventListener(type,listener,false)}}else if(isHostMethod(window,"attachEvent")){on=function(object,sEvent,fpNotify){object.attachEvent("on"+sEvent,fpNotify)};un=function(object,sEvent,fpNotify){object.detachEvent("on"+sEvent,fpNotify)}}else{throw new Error("Browser not supported")}var domIsReady=false,domReadyQueue=[],readyState;if("readyState"in document){readyState=document.readyState;domIsReady=readyState=="complete"||~navigator.userAgent.indexOf("AppleWebKit/")&&(readyState=="loaded"||readyState=="interactive")}else{domIsReady=!!document.body}function dom_onReady(){if(domIsReady){return}domIsReady=true;for(var i=0;i<domReadyQueue.length;i++){domReadyQueue[i]()}domReadyQueue.length=0}if(!domIsReady){if(isHostMethod(window,"addEventListener")){on(document,"DOMContentLoaded",dom_onReady)}else{on(document,"readystatechange",function(){if(document.readyState=="complete"){dom_onReady()}});if(document.documentElement.doScroll&&window===top){var doScrollCheck=function(){if(domIsReady){return}try{document.documentElement.doScroll("left")}catch(e){setTimeout(doScrollCheck,1);return}dom_onReady()};doScrollCheck()}}on(window,"load",dom_onReady)}function whenReady(fn,scope){if(domIsReady){fn.call(scope);return}domReadyQueue.push(function(){fn.call(scope)})}function getParentObject(){var obj=parent;if(namespace!==""){for(var i=0,ii=namespace.split(".");i<ii.length;i++){obj=obj[ii[i]]}}return obj.easyXDM}function noConflict(ns){window.easyXDM=_easyXDM;namespace=ns;if(namespace){IFRAME_PREFIX="easyXDM_"+namespace.replace(".","_")+"_"}return easyXDM}function getDomainName(url){return url.match(reURI)[3]}function getPort(url){return url.match(reURI)[4]||""}function getLocation(url){var m=url.toLowerCase().match(reURI);var proto=m[2],domain=m[3],port=m[4]||"";if(proto=="http:"&&port==":80"||proto=="https:"&&port==":443"){port=""}return proto+"//"+domain+port}function resolveUrl(url){url=url.replace(reDoubleSlash,"$1/");if(!url.match(/^(http||https):\/\//)){var path=url.substring(0,1)==="/"?"":location.pathname;if(path.substring(path.length-1)!=="/"){path=path.substring(0,path.lastIndexOf("/")+1)}url=location.protocol+"//"+location.host+path+url}while(reParent.test(url)){url=url.replace(reParent,"")}return url}function appendQueryParameters(url,parameters){var hash="",indexOf=url.indexOf("#");if(indexOf!==-1){hash=url.substring(indexOf);url=url.substring(0,indexOf)}var q=[];for(var key in parameters){if(parameters.hasOwnProperty(key)){q.push(key+"="+encodeURIComponent(parameters[key]))}}return url+(useHash?"#":url.indexOf("?")==-1?"?":"&")+q.join("&")+hash}var query=function(input){input=input.substring(1).split("&");var data={},pair,i=input.length;while(i--){pair=input[i].split("=");data[pair[0]]=decodeURIComponent(pair[1])}return data}(/xdm_e=/.test(location.search)?location.search:location.hash);function undef(v){return typeof v==="undefined"}var getJSON=function(){var cached={};var obj={a:[1,2,3]},json='{"a":[1,2,3]}';if(typeof JSON!="undefined"&&typeof JSON.stringify==="function"&&JSON.stringify(obj).replace(/\s/g,"")===json){return JSON}if(Object.toJSON){if(Object.toJSON(obj).replace(/\s/g,"")===json){cached.stringify=Object.toJSON}}if(typeof String.prototype.evalJSON==="function"){obj=json.evalJSON();if(obj.a&&obj.a.length===3&&obj.a[2]===3){cached.parse=function(str){return str.evalJSON()}}}if(cached.stringify&&cached.parse){getJSON=function(){return cached};return cached}return null};function apply(destination,source,noOverwrite){var member;for(var prop in source){if(source.hasOwnProperty(prop)){if(prop in destination){member=source[prop];if(typeof member==="object"){apply(destination[prop],member,noOverwrite)}else if(!noOverwrite){destination[prop]=source[prop]}}else{destination[prop]=source[prop]}}}return destination}function testForNamePropertyBug(){var form=document.body.appendChild(document.createElement("form")),input=form.appendChild(document.createElement("input"));input.name=IFRAME_PREFIX+"TEST"+channelId;HAS_NAME_PROPERTY_BUG=input!==form.elements[input.name];document.body.removeChild(form)}function createFrame(config){if(undef(HAS_NAME_PROPERTY_BUG)){testForNamePropertyBug()}var frame;if(HAS_NAME_PROPERTY_BUG){frame=document.createElement('<iframe name="'+config.props.name+'"/>')}else{frame=document.createElement("IFRAME");frame.name=config.props.name}frame.id=frame.name=config.props.name;delete config.props.name;if(typeof config.container=="string"){config.container=document.getElementById(config.container)}if(!config.container){apply(frame.style,{position:"absolute",top:"-2000px",left:"0px"});config.container=document.body}var src=config.props.src;config.props.src="javascript:false";apply(frame,config.props);frame.border=frame.frameBorder=0;frame.allowTransparency=true;config.container.appendChild(frame);if(config.onLoad){on(frame,"load",config.onLoad)}if(config.usePost){var form=config.container.appendChild(document.createElement("form")),input;form.target=frame.name;form.action=src;form.method="POST";if(typeof config.usePost==="object"){for(var i in config.usePost){if(config.usePost.hasOwnProperty(i)){if(HAS_NAME_PROPERTY_BUG){input=document.createElement('<input name="'+i+'"/>')}else{input=document.createElement("INPUT");input.name=i}input.value=config.usePost[i];form.appendChild(input)}}}form.submit();form.parentNode.removeChild(form)}else{frame.src=src}config.props.src=src;return frame}function checkAcl(acl,domain){if(typeof acl=="string"){acl=[acl]}var re,i=acl.length;while(i--){re=acl[i];re=new RegExp(re.substr(0,1)=="^"?re:"^"+re.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$");if(re.test(domain)){return true}}return false}function prepareTransportStack(config){var protocol=config.protocol,stackEls;config.isHost=config.isHost||undef(query.xdm_p);useHash=config.hash||false;if(!config.props){config.props={}}if(!config.isHost){config.channel=query.xdm_c.replace(/["'<>\\]/g,"");config.secret=query.xdm_s;config.remote=query.xdm_e.replace(/["'<>\\]/g,"");protocol=query.xdm_p;if(config.acl&&!checkAcl(config.acl,config.remote)){throw new Error("Access denied for "+config.remote)}}else{config.remote=resolveUrl(config.remote);config.channel=config.channel||"default"+channelId++;config.secret=Math.random().toString(16).substring(2);if(undef(protocol)){if(getLocation(location.href)==getLocation(config.remote)){protocol="4"}else if(isHostMethod(window,"postMessage")||isHostMethod(document,"postMessage")){protocol="1"}else if(config.swf&&isHostMethod(window,"ActiveXObject")&&hasFlash()){protocol="6"}else if(navigator.product==="Gecko"&&"frameElement"in window&&navigator.userAgent.indexOf("WebKit")==-1){protocol="5"}else if(config.remoteHelper){protocol="2"}else{protocol="0"}}}config.protocol=protocol;switch(protocol){case"0":apply(config,{interval:100,delay:2e3,useResize:true,useParent:false,usePolling:false},true);if(config.isHost){if(!config.local){var domain=location.protocol+"//"+location.host,images=document.body.getElementsByTagName("img"),image;var i=images.length;while(i--){image=images[i];if(image.src.substring(0,domain.length)===domain){config.local=image.src;break}}if(!config.local){config.local=window}}var parameters={xdm_c:config.channel,xdm_p:0};if(config.local===window){config.usePolling=true;config.useParent=true;config.local=location.protocol+"//"+location.host+location.pathname+location.search;parameters.xdm_e=config.local;parameters.xdm_pa=1}else{parameters.xdm_e=resolveUrl(config.local)}if(config.container){config.useResize=false;parameters.xdm_po=1}config.remote=appendQueryParameters(config.remote,parameters)}else{apply(config,{channel:query.xdm_c,remote:query.xdm_e,useParent:!undef(query.xdm_pa),usePolling:!undef(query.xdm_po),useResize:config.useParent?false:config.useResize})}stackEls=[new easyXDM.stack.HashTransport(config),new easyXDM.stack.ReliableBehavior({}),new easyXDM.stack.QueueBehavior({encode:true,maxLength:4e3-config.remote.length}),new easyXDM.stack.VerifyBehavior({initiate:config.isHost})];break;case"1":stackEls=[new easyXDM.stack.PostMessageTransport(config)];break;case"2":config.remoteHelper=resolveUrl(config.remoteHelper);stackEls=[new easyXDM.stack.NameTransport(config),new easyXDM.stack.QueueBehavior,new easyXDM.stack.VerifyBehavior({initiate:config.isHost})];break;case"3":stackEls=[new easyXDM.stack.NixTransport(config)];break;case"4":stackEls=[new easyXDM.stack.SameOriginTransport(config)];break;case"5":stackEls=[new easyXDM.stack.FrameElementTransport(config)];break;case"6":if(!flashVersion){hasFlash()}stackEls=[new easyXDM.stack.FlashTransport(config)];break}stackEls.push(new easyXDM.stack.QueueBehavior({lazy:config.lazy,remove:true}));return stackEls}function chainStack(stackElements){var stackEl,defaults={incoming:function(message,origin){this.up.incoming(message,origin)},outgoing:function(message,recipient){this.down.outgoing(message,recipient)},callback:function(success){this.up.callback(success)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}};for(var i=0,len=stackElements.length;i<len;i++){stackEl=stackElements[i];apply(stackEl,defaults,true);if(i!==0){stackEl.down=stackElements[i-1]}if(i!==len-1){stackEl.up=stackElements[i+1]}}return stackEl}function removeFromStack(element){element.up.down=element.down;element.down.up=element.up;element.up=element.down=null}apply(easyXDM,{version:"2.4.17.0",query:query,stack:{},apply:apply,getJSONObject:getJSON,whenReady:whenReady,noConflict:noConflict});easyXDM.DomHelper={on:on,un:un,requiresJSON:function(path){if(!isHostObject(window,"JSON")){document.write("<"+'script type="text/javascript" src="'+path+'"><'+"/script>")}}};(function(){var _map={};easyXDM.Fn={set:function(name,fn){_map[name]=fn},get:function(name,del){var fn=_map[name];if(del){delete _map[name]}return fn}}})();easyXDM.Socket=function(config){var stack=chainStack(prepareTransportStack(config).concat([{incoming:function(message,origin){config.onMessage(message,origin)},callback:function(success){if(config.onReady){config.onReady(success)}}}])),recipient=getLocation(config.remote);this.origin=getLocation(config.remote);this.destroy=function(){stack.destroy()};this.postMessage=function(message){stack.outgoing(message,recipient)};stack.init()};easyXDM.Rpc=function(config,jsonRpcConfig){if(jsonRpcConfig.local){for(var method in jsonRpcConfig.local){if(jsonRpcConfig.local.hasOwnProperty(method)){var member=jsonRpcConfig.local[method];if(typeof member==="function"){jsonRpcConfig.local[method]={method:member}}}}}var stack=chainStack(prepareTransportStack(config).concat([new easyXDM.stack.RpcBehavior(this,jsonRpcConfig),{callback:function(success){if(config.onReady){config.onReady(success)}}}]));this.origin=getLocation(config.remote);this.destroy=function(){stack.destroy()};stack.init()};easyXDM.stack.SameOriginTransport=function(config){var pub,frame,send,targetOrigin;return pub={outgoing:function(message,domain,fn){send(message);if(fn){fn()}},destroy:function(){if(frame){frame.parentNode.removeChild(frame);frame=null}},onDOMReady:function(){targetOrigin=getLocation(config.remote);if(config.isHost){apply(config.props,{src:appendQueryParameters(config.remote,{xdm_e:location.protocol+"//"+location.host+location.pathname,xdm_c:config.channel,xdm_p:4}),name:IFRAME_PREFIX+config.channel+"_provider"});frame=createFrame(config);easyXDM.Fn.set(config.channel,function(sendFn){send=sendFn;setTimeout(function(){pub.up.callback(true)},0);return function(msg){pub.up.incoming(msg,targetOrigin)}})}else{send=getParentObject().Fn.get(config.channel,true)(function(msg){pub.up.incoming(msg,targetOrigin)});setTimeout(function(){pub.up.callback(true)},0)}},init:function(){whenReady(pub.onDOMReady,pub)}}};easyXDM.stack.FlashTransport=function(config){var pub,frame,send,targetOrigin,swf,swfContainer;function onMessage(message,origin){setTimeout(function(){pub.up.incoming(message,targetOrigin)},0)}function addSwf(domain){var url=config.swf+"?host="+config.isHost;var id="easyXDM_swf_"+Math.floor(Math.random()*1e4);easyXDM.Fn.set("flash_loaded"+domain.replace(/[\-.]/g,"_"),function(){easyXDM.stack.FlashTransport[domain].swf=swf=swfContainer.firstChild;var queue=easyXDM.stack.FlashTransport[domain].queue;for(var i=0;i<queue.length;i++){queue[i]()}queue.length=0});if(config.swfContainer){swfContainer=typeof config.swfContainer=="string"?document.getElementById(config.swfContainer):config.swfContainer}else{swfContainer=document.createElement("div");apply(swfContainer.style,HAS_FLASH_THROTTLED_BUG&&config.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0});document.body.appendChild(swfContainer)}var flashVars="callback=flash_loaded"+domain.replace(/[\-.]/g,"_")+"&proto="+global.location.protocol+"&domain="+getDomainName(global.location.href)+"&port="+getPort(global.location.href)+"&ns="+namespace;swfContainer.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+id+"' data='"+url+"'>"+"<param name='allowScriptAccess' value='always'></param>"+"<param name='wmode' value='transparent'>"+"<param name='movie' value='"+url+"'></param>"+"<param name='flashvars' value='"+flashVars+"'></param>"+"<embed type='application/x-shockwave-flash' FlashVars='"+flashVars+"' allowScriptAccess='always' wmode='transparent' src='"+url+"' height='1' width='1'></embed>"+"</object>"}return pub={outgoing:function(message,domain,fn){swf.postMessage(config.channel,message.toString());if(fn){fn()}},destroy:function(){try{swf.destroyChannel(config.channel)}catch(e){}swf=null;if(frame){frame.parentNode.removeChild(frame);frame=null}},onDOMReady:function(){targetOrigin=config.remote;easyXDM.Fn.set("flash_"+config.channel+"_init",function(){setTimeout(function(){pub.up.callback(true)})});easyXDM.Fn.set("flash_"+config.channel+"_onMessage",onMessage);config.swf=resolveUrl(config.swf);var swfdomain=getDomainName(config.swf);var fn=function(){easyXDM.stack.FlashTransport[swfdomain].init=true;swf=easyXDM.stack.FlashTransport[swfdomain].swf;swf.createChannel(config.channel,config.secret,getLocation(config.remote),config.isHost);if(config.isHost){if(HAS_FLASH_THROTTLED_BUG&&config.swfNoThrottle){apply(config.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"})}apply(config.props,{src:appendQueryParameters(config.remote,{xdm_e:getLocation(location.href),xdm_c:config.channel,xdm_p:6,xdm_s:config.secret}),name:IFRAME_PREFIX+config.channel+"_provider"});frame=createFrame(config)}};if(easyXDM.stack.FlashTransport[swfdomain]&&easyXDM.stack.FlashTransport[swfdomain].init){fn()}else{if(!easyXDM.stack.FlashTransport[swfdomain]){easyXDM.stack.FlashTransport[swfdomain]={queue:[fn]};addSwf(swfdomain)}else{easyXDM.stack.FlashTransport[swfdomain].queue.push(fn)}}},init:function(){whenReady(pub.onDOMReady,pub)}}};easyXDM.stack.PostMessageTransport=function(config){var pub,frame,callerWindow,targetOrigin;function _getOrigin(event){if(event.origin){return getLocation(event.origin)}if(event.uri){return getLocation(event.uri)}if(event.domain){return location.protocol+"//"+event.domain}throw"Unable to retrieve the origin of the event"}function _window_onMessage(event){var origin=_getOrigin(event);if(origin==targetOrigin&&event.data.substring(0,config.channel.length+1)==config.channel+" "){pub.up.incoming(event.data.substring(config.channel.length+1),origin)}}return pub={outgoing:function(message,domain,fn){callerWindow.postMessage(config.channel+" "+message,domain||targetOrigin);if(fn){fn()}},destroy:function(){un(window,"message",_window_onMessage);if(frame){callerWindow=null;frame.parentNode.removeChild(frame);frame=null}},onDOMReady:function(){targetOrigin=getLocation(config.remote);if(config.isHost){var waitForReady=function(event){if(event.data==config.channel+"-ready"){callerWindow="postMessage"in frame.contentWindow?frame.contentWindow:frame.contentWindow.document;un(window,"message",waitForReady);on(window,"message",_window_onMessage);setTimeout(function(){pub.up.callback(true)},0)}};on(window,"message",waitForReady);apply(config.props,{src:appendQueryParameters(config.remote,{xdm_e:getLocation(location.href),xdm_c:config.channel,xdm_p:1}),name:IFRAME_PREFIX+config.channel+"_provider"});frame=createFrame(config)}else{on(window,"message",_window_onMessage);callerWindow="postMessage"in window.parent?window.parent:window.parent.document;callerWindow.postMessage(config.channel+"-ready",targetOrigin);setTimeout(function(){pub.up.callback(true)},0)}},init:function(){whenReady(pub.onDOMReady,pub)}}};easyXDM.stack.FrameElementTransport=function(config){var pub,frame,send,targetOrigin;return pub={outgoing:function(message,domain,fn){send.call(this,message);if(fn){fn()}},destroy:function(){if(frame){frame.parentNode.removeChild(frame);frame=null}},onDOMReady:function(){targetOrigin=getLocation(config.remote);if(config.isHost){apply(config.props,{src:appendQueryParameters(config.remote,{xdm_e:getLocation(location.href),xdm_c:config.channel,xdm_p:5}),name:IFRAME_PREFIX+config.channel+"_provider"});frame=createFrame(config);frame.fn=function(sendFn){delete frame.fn;send=sendFn;setTimeout(function(){pub.up.callback(true)},0);return function(msg){pub.up.incoming(msg,targetOrigin)}}}else{if(document.referrer&&getLocation(document.referrer)!=query.xdm_e){window.top.location=query.xdm_e}send=window.frameElement.fn(function(msg){pub.up.incoming(msg,targetOrigin)});pub.up.callback(true)}},init:function(){whenReady(pub.onDOMReady,pub)}}};easyXDM.stack.NameTransport=function(config){var pub;var isHost,callerWindow,remoteWindow,readyCount,callback,remoteOrigin,remoteUrl;function _sendMessage(message){var url=config.remoteHelper+(isHost?"#_3":"#_2")+config.channel;callerWindow.contentWindow.sendMessage(message,url)}function _onReady(){if(isHost){if(++readyCount===2||!isHost){pub.up.callback(true)}}else{_sendMessage("ready");pub.up.callback(true)}}function _onMessage(message){pub.up.incoming(message,remoteOrigin)}function _onLoad(){if(callback){setTimeout(function(){callback(true)},0)}}return pub={outgoing:function(message,domain,fn){callback=fn;_sendMessage(message)},destroy:function(){callerWindow.parentNode.removeChild(callerWindow);callerWindow=null;if(isHost){remoteWindow.parentNode.removeChild(remoteWindow);remoteWindow=null}},onDOMReady:function(){isHost=config.isHost;readyCount=0;remoteOrigin=getLocation(config.remote);config.local=resolveUrl(config.local);if(isHost){easyXDM.Fn.set(config.channel,function(message){if(isHost&&message==="ready"){easyXDM.Fn.set(config.channel,_onMessage);_onReady()}});remoteUrl=appendQueryParameters(config.remote,{xdm_e:config.local,xdm_c:config.channel,xdm_p:2});apply(config.props,{src:remoteUrl+"#"+config.channel,name:IFRAME_PREFIX+config.channel+"_provider"});remoteWindow=createFrame(config)}else{config.remoteHelper=config.remote;easyXDM.Fn.set(config.channel,_onMessage)}var onLoad=function(){var w=callerWindow||this;un(w,"load",onLoad);easyXDM.Fn.set(config.channel+"_load",_onLoad);(function test(){if(typeof w.contentWindow.sendMessage=="function"){_onReady()}else{setTimeout(test,50)}})()};callerWindow=createFrame({props:{src:config.local+"#_4"+config.channel},onLoad:onLoad})},init:function(){whenReady(pub.onDOMReady,pub)}}};easyXDM.stack.HashTransport=function(config){var pub;var me=this,isHost,_timer,pollInterval,_lastMsg,_msgNr,_listenerWindow,_callerWindow;var useParent,_remoteOrigin;function _sendMessage(message){if(!_callerWindow){return}var url=config.remote+"#"+_msgNr++ +"_"+message;(isHost||!useParent?_callerWindow.contentWindow:_callerWindow).location=url}function _handleHash(hash){_lastMsg=hash;pub.up.incoming(_lastMsg.substring(_lastMsg.indexOf("_")+1),_remoteOrigin)}function _pollHash(){if(!_listenerWindow){return}var href=_listenerWindow.location.href,hash="",indexOf=href.indexOf("#");if(indexOf!=-1){hash=href.substring(indexOf)}if(hash&&hash!=_lastMsg){_handleHash(hash)}}function _attachListeners(){_timer=setInterval(_pollHash,pollInterval)}return pub={outgoing:function(message,domain){_sendMessage(message)},destroy:function(){window.clearInterval(_timer);if(isHost||!useParent){_callerWindow.parentNode.removeChild(_callerWindow)}_callerWindow=null},onDOMReady:function(){isHost=config.isHost;pollInterval=config.interval;_lastMsg="#"+config.channel;_msgNr=0;useParent=config.useParent;_remoteOrigin=getLocation(config.remote);if(isHost){apply(config.props,{src:config.remote,name:IFRAME_PREFIX+config.channel+"_provider"});if(useParent){config.onLoad=function(){_listenerWindow=window;_attachListeners();pub.up.callback(true)}}else{var tries=0,max=config.delay/50;(function getRef(){if(++tries>max){throw new Error("Unable to reference listenerwindow")}try{_listenerWindow=_callerWindow.contentWindow.frames[IFRAME_PREFIX+config.channel+"_consumer"]}catch(ex){}if(_listenerWindow){_attachListeners();pub.up.callback(true)}else{setTimeout(getRef,50)}})()}_callerWindow=createFrame(config)}else{_listenerWindow=window;_attachListeners();if(useParent){_callerWindow=parent;pub.up.callback(true)}else{apply(config,{props:{src:config.remote+"#"+config.channel+new Date,name:IFRAME_PREFIX+config.channel+"_consumer"},onLoad:function(){pub.up.callback(true)}});_callerWindow=createFrame(config)}}},init:function(){whenReady(pub.onDOMReady,pub)}}};easyXDM.stack.ReliableBehavior=function(config){var pub,callback;var idOut=0,idIn=0,currentMessage="";return pub={incoming:function(message,origin){var indexOf=message.indexOf("_"),ack=message.substring(0,indexOf).split(",");message=message.substring(indexOf+1);if(ack[0]==idOut){currentMessage="";if(callback){callback(true);callback=null}}if(message.length>0){pub.down.outgoing(ack[1]+","+idOut+"_"+currentMessage,origin);if(idIn!=ack[1]){idIn=ack[1];pub.up.incoming(message,origin)}}},outgoing:function(message,origin,fn){currentMessage=message;callback=fn;pub.down.outgoing(idIn+","+ ++idOut+"_"+message,origin)}}};easyXDM.stack.QueueBehavior=function(config){var pub,queue=[],waiting=true,incoming="",destroying,maxLength=0,lazy=false,doFragment=false;function dispatch(){if(config.remove&&queue.length===0){removeFromStack(pub);return}if(waiting||queue.length===0||destroying){return}waiting=true;var message=queue.shift();pub.down.outgoing(message.data,message.origin,function(success){waiting=false;if(message.callback){setTimeout(function(){message.callback(success)},0)}dispatch()})}return pub={init:function(){if(undef(config)){config={}}if(config.maxLength){maxLength=config.maxLength;doFragment=true}if(config.lazy){lazy=true}else{pub.down.init()}},callback:function(success){waiting=false;var up=pub.up;dispatch();up.callback(success)},incoming:function(message,origin){if(doFragment){var indexOf=message.indexOf("_"),seq=parseInt(message.substring(0,indexOf),10);incoming+=message.substring(indexOf+1);if(seq===0){if(config.encode){incoming=decodeURIComponent(incoming)}pub.up.incoming(incoming,origin);incoming=""}}else{pub.up.incoming(message,origin)}},outgoing:function(message,origin,fn){if(config.encode){message=encodeURIComponent(message)}var fragments=[],fragment;if(doFragment){while(message.length!==0){fragment=message.substring(0,maxLength);message=message.substring(fragment.length);fragments.push(fragment)}while(fragment=fragments.shift()){queue.push({data:fragments.length+"_"+fragment,origin:origin,callback:fragments.length===0?fn:null})}}else{queue.push({data:message,origin:origin,callback:fn})}if(lazy){pub.down.init()}else{dispatch()}},destroy:function(){destroying=true;pub.down.destroy()}}};easyXDM.stack.VerifyBehavior=function(config){var pub,mySecret,theirSecret,verified=false;function startVerification(){mySecret=Math.random().toString(16).substring(2);pub.down.outgoing(mySecret)}return pub={incoming:function(message,origin){var indexOf=message.indexOf("_");if(indexOf===-1){if(message===mySecret){pub.up.callback(true)}else if(!theirSecret){theirSecret=message;if(!config.initiate){startVerification()}pub.down.outgoing(message)}}else{if(message.substring(0,indexOf)===theirSecret){pub.up.incoming(message.substring(indexOf+1),origin)}}},outgoing:function(message,origin,fn){pub.down.outgoing(mySecret+"_"+message,origin,fn)},callback:function(success){if(config.initiate){startVerification()}}}};easyXDM.stack.RpcBehavior=function(proxy,config){var pub,serializer=config.serializer||getJSON();var _callbackCounter=0,_callbacks={};function _send(data){data.jsonrpc="2.0";pub.down.outgoing(serializer.stringify(data))}function _createMethod(definition,method){var slice=Array.prototype.slice;return function(){var l=arguments.length,callback,message={method:method};if(l>0&&typeof arguments[l-1]==="function"){if(l>1&&typeof arguments[l-2]==="function"){callback={success:arguments[l-2],error:arguments[l-1]};message.params=slice.call(arguments,0,l-2)}else{callback={success:arguments[l-1]};message.params=slice.call(arguments,0,l-1)}_callbacks[""+ ++_callbackCounter]=callback;message.id=_callbackCounter}else{message.params=slice.call(arguments,0)}if(definition.namedParams&&message.params.length===1){message.params=message.params[0]}_send(message)}}function _executeMethod(method,id,fn,params){if(!fn){if(id){_send({id:id,error:{code:-32601,message:"Procedure not found."}})}return}var success,error;if(id){success=function(result){success=emptyFn;_send({id:id,result:result})};error=function(message,data){error=emptyFn;var msg={id:id,error:{code:-32099,message:message}};if(data){msg.error.data=data}_send(msg)}}else{success=error=emptyFn}if(!isArray(params)){params=[params]}try{var result=fn.method.apply(fn.scope,params.concat([success,error]));if(!undef(result)){success(result)}}catch(ex1){error(ex1.message)}}return pub={incoming:function(message,origin){var data=serializer.parse(message);if(data.method){if(config.handle){config.handle(data,_send)}else{_executeMethod(data.method,data.id,config.local[data.method],data.params)}}else{var callback=_callbacks[data.id];if(data.error){if(callback.error){callback.error(data.error)}}else if(callback.success){callback.success(data.result)}delete _callbacks[data.id]}},init:function(){if(config.remote){for(var method in config.remote){if(config.remote.hasOwnProperty(method)){proxy[method]=_createMethod(config.remote[method],method)}}}pub.down.init()},destroy:function(){for(var method in config.remote){if(config.remote.hasOwnProperty(method)&&proxy.hasOwnProperty(method)){delete proxy[method]}}pub.down.destroy()}}};global.easyXDM=easyXDM})(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);
(function($){if($.fn.carouFredSel){return}$.fn.caroufredsel=$.fn.carouFredSel=function(options,configs){if(this.length==0){debug(true,'No element found for "'+this.selector+'".');return this}if(this.length>1){return this.each(function(){$(this).carouFredSel(options,configs)})}var $cfs=this,$tt0=this[0],starting_position=false;if($cfs.data("_cfs_isCarousel")){starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition");$cfs.trigger("_cfs_triggerEvent",["destroy",true])}var FN={};FN._init=function(o,setOrig,start){o=go_getObject($tt0,o);o.items=go_getItemsObject($tt0,o.items);o.scroll=go_getScrollObject($tt0,o.scroll);o.auto=go_getAutoObject($tt0,o.auto);o.prev=go_getPrevNextObject($tt0,o.prev);o.next=go_getPrevNextObject($tt0,o.next);o.pagination=go_getPaginationObject($tt0,o.pagination);o.swipe=go_getSwipeObject($tt0,o.swipe);o.mousewheel=go_getMousewheelObject($tt0,o.mousewheel);if(setOrig){opts_orig=$.extend(true,{},$.fn.carouFredSel.defaults,o)}opts=$.extend(true,{},$.fn.carouFredSel.defaults,o);opts.d=cf_getDimensions(opts);crsl.direction=opts.direction=="up"||opts.direction=="left"?"next":"prev";var a_itm=$cfs.children(),avail_primary=ms_getParentSize($wrp,opts,"width");if(is_true(opts.cookie)){opts.cookie="caroufredsel_cookie_"+conf.serialNumber}opts.maxDimension=ms_getMaxDimension(opts,avail_primary);opts.items=in_complementItems(opts.items,opts,a_itm,start);opts[opts.d["width"]]=in_complementPrimarySize(opts[opts.d["width"]],opts,a_itm);opts[opts.d["height"]]=in_complementSecondarySize(opts[opts.d["height"]],opts,a_itm);if(opts.responsive){if(!is_percentage(opts[opts.d["width"]])){opts[opts.d["width"]]="100%"}}if(is_percentage(opts[opts.d["width"]])){crsl.upDateOnWindowResize=true;crsl.primarySizePercentage=opts[opts.d["width"]];opts[opts.d["width"]]=ms_getPercentage(avail_primary,crsl.primarySizePercentage);if(!opts.items.visible){opts.items.visibleConf.variable=true}}if(opts.responsive){opts.usePadding=false;opts.padding=[0,0,0,0];opts.align=false;opts.items.visibleConf.variable=false}else{if(!opts.items.visible){opts=in_complementVisibleItems(opts,avail_primary)}if(!opts[opts.d["width"]]){if(!opts.items.visibleConf.variable&&is_number(opts.items[opts.d["width"]])&&opts.items.filter=="*"){opts[opts.d["width"]]=opts.items.visible*opts.items[opts.d["width"]];opts.align=false}else{opts[opts.d["width"]]="variable"}}if(is_undefined(opts.align)){opts.align=is_number(opts[opts.d["width"]])?"center":false}if(opts.items.visibleConf.variable){opts.items.visible=gn_getVisibleItemsNext(a_itm,opts,0)}}if(opts.items.filter!="*"&&!opts.items.visibleConf.variable){opts.items.visibleConf.org=opts.items.visible;opts.items.visible=gn_getVisibleItemsNextFilter(a_itm,opts,0)}opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0);opts.items.visibleConf.old=opts.items.visible;if(opts.responsive){if(!opts.items.visibleConf.min){opts.items.visibleConf.min=opts.items.visible}if(!opts.items.visibleConf.max){opts.items.visibleConf.max=opts.items.visible}opts=in_getResponsiveValues(opts,a_itm,avail_primary)}else{opts.padding=cf_getPadding(opts.padding);if(opts.align=="top"){opts.align="left"}else if(opts.align=="bottom"){opts.align="right"}switch(opts.align){case"center":case"left":case"right":if(opts[opts.d["width"]]!="variable"){opts=in_getAlignPadding(opts,a_itm);opts.usePadding=true}break;default:opts.align=false;opts.usePadding=opts.padding[0]==0&&opts.padding[1]==0&&opts.padding[2]==0&&opts.padding[3]==0?false:true;break}}if(!is_number(opts.scroll.duration)){opts.scroll.duration=500}if(is_undefined(opts.scroll.items)){opts.scroll.items=opts.responsive||opts.items.visibleConf.variable||opts.items.filter!="*"?"visible":opts.items.visible}opts.auto=$.extend(true,{},opts.scroll,opts.auto);opts.prev=$.extend(true,{},opts.scroll,opts.prev);opts.next=$.extend(true,{},opts.scroll,opts.next);opts.pagination=$.extend(true,{},opts.scroll,opts.pagination);opts.auto=go_complementAutoObject($tt0,opts.auto);opts.prev=go_complementPrevNextObject($tt0,opts.prev);opts.next=go_complementPrevNextObject($tt0,opts.next);opts.pagination=go_complementPaginationObject($tt0,opts.pagination);opts.swipe=go_complementSwipeObject($tt0,opts.swipe);opts.mousewheel=go_complementMousewheelObject($tt0,opts.mousewheel);if(opts.synchronise){opts.synchronise=cf_getSynchArr(opts.synchronise)}if(opts.auto.onPauseStart){opts.auto.onTimeoutStart=opts.auto.onPauseStart;deprecated("auto.onPauseStart","auto.onTimeoutStart")}if(opts.auto.onPausePause){opts.auto.onTimeoutPause=opts.auto.onPausePause;deprecated("auto.onPausePause","auto.onTimeoutPause")}if(opts.auto.onPauseEnd){opts.auto.onTimeoutEnd=opts.auto.onPauseEnd;deprecated("auto.onPauseEnd","auto.onTimeoutEnd")}if(opts.auto.pauseDuration){opts.auto.timeoutDuration=opts.auto.pauseDuration;deprecated("auto.pauseDuration","auto.timeoutDuration")}};FN._build=function(){$cfs.data("_cfs_isCarousel",true);var a_itm=$cfs.children(),orgCSS=in_mapCss($cfs,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]),newPosition="relative";switch(orgCSS.position){case"absolute":case"fixed":newPosition=orgCSS.position;break}if(conf.wrapper=="parent"){sz_storeOrigCss($wrp)}else{$wrp.css(orgCSS)}$wrp.css({overflow:"hidden",position:newPosition});sz_storeOrigCss($cfs);$cfs.data("_cfs_origCssZindex",orgCSS.zIndex);$cfs.css({textAlign:"left",float:"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0});sz_storeMargin(a_itm,opts);sz_storeOrigCss(a_itm);if(opts.responsive){sz_setResponsiveSizes(opts,a_itm)}};FN._bind_events=function(){FN._unbind_events();$cfs.bind(cf_e("stop",conf),function(e,imm){e.stopPropagation();if(!crsl.isStopped){if(opts.auto.button){opts.auto.button.addClass(cf_c("stopped",conf))}}crsl.isStopped=true;if(opts.auto.play){opts.auto.play=false;$cfs.trigger(cf_e("pause",conf),imm)}return true});$cfs.bind(cf_e("finish",conf),function(e){e.stopPropagation();if(crsl.isScrolling){sc_stopScroll(scrl)}return true});$cfs.bind(cf_e("pause",conf),function(e,imm,res){e.stopPropagation();tmrs=sc_clearTimers(tmrs);if(imm&&crsl.isScrolling){scrl.isStopped=true;var nst=getTime()-scrl.startTime;scrl.duration-=nst;if(scrl.pre){scrl.pre.duration-=nst}if(scrl.post){scrl.post.duration-=nst}sc_stopScroll(scrl,false)}if(!crsl.isPaused&&!crsl.isScrolling){if(res){tmrs.timePassed+=getTime()-tmrs.startTime}}if(!crsl.isPaused){if(opts.auto.button){opts.auto.button.addClass(cf_c("paused",conf))}}crsl.isPaused=true;if(opts.auto.onTimeoutPause){var dur1=opts.auto.timeoutDuration-tmrs.timePassed,perc=100-Math.ceil(dur1*100/opts.auto.timeoutDuration);opts.auto.onTimeoutPause.call($tt0,perc,dur1)}return true});$cfs.bind(cf_e("play",conf),function(e,dir,del,res){e.stopPropagation();tmrs=sc_clearTimers(tmrs);var v=[dir,del,res],t=["string","number","boolean"],a=cf_sortParams(v,t);dir=a[0];del=a[1];res=a[2];if(dir!="prev"&&dir!="next"){dir=crsl.direction}if(!is_number(del)){del=0}if(!is_boolean(res)){res=false}if(res){crsl.isStopped=false;opts.auto.play=true}if(!opts.auto.play){e.stopImmediatePropagation();return debug(conf,"Carousel stopped: Not scrolling.")}if(crsl.isPaused){if(opts.auto.button){opts.auto.button.removeClass(cf_c("stopped",conf));opts.auto.button.removeClass(cf_c("paused",conf))}}crsl.isPaused=false;tmrs.startTime=getTime();var dur1=opts.auto.timeoutDuration+del;dur2=dur1-tmrs.timePassed;perc=100-Math.ceil(dur2*100/dur1);if(opts.auto.progress){tmrs.progress=setInterval(function(){var pasd=getTime()-tmrs.startTime+tmrs.timePassed,perc=Math.ceil(pasd*100/dur1);opts.auto.progress.updater.call(opts.auto.progress.bar[0],perc)},opts.auto.progress.interval)}tmrs.auto=setTimeout(function(){if(opts.auto.progress){opts.auto.progress.updater.call(opts.auto.progress.bar[0],100)}if(opts.auto.onTimeoutEnd){opts.auto.onTimeoutEnd.call($tt0,perc,dur2)}if(crsl.isScrolling){$cfs.trigger(cf_e("play",conf),dir)}else{$cfs.trigger(cf_e(dir,conf),opts.auto)}},dur2);if(opts.auto.onTimeoutStart){opts.auto.onTimeoutStart.call($tt0,perc,dur2)}return true});$cfs.bind(cf_e("resume",conf),function(e){e.stopPropagation();if(scrl.isStopped){scrl.isStopped=false;crsl.isPaused=false;crsl.isScrolling=true;scrl.startTime=getTime();sc_startScroll(scrl,conf)}else{$cfs.trigger(cf_e("play",conf))}return true});$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(e,obj,num,clb,que){e.stopPropagation();if(crsl.isStopped||$cfs.is(":hidden")){e.stopImmediatePropagation();return debug(conf,"Carousel stopped or hidden: Not scrolling.")}var minimum=is_number(opts.items.minimum)?opts.items.minimum:opts.items.visible+1;if(minimum>itms.total){e.stopImmediatePropagation();return debug(conf,"Not enough items ("+itms.total+" total, "+minimum+" needed): Not scrolling.")}var v=[obj,num,clb,que],t=["object","number/string","function","boolean"],a=cf_sortParams(v,t);obj=a[0];num=a[1];clb=a[2];que=a[3];var eType=e.type.slice(conf.events.prefix.length);if(!is_object(obj)){obj={}}if(is_function(clb)){obj.onAfter=clb}if(is_boolean(que)){obj.queue=que}obj=$.extend(true,{},opts[eType],obj);if(obj.conditions&&!obj.conditions.call($tt0,eType)){e.stopImmediatePropagation();return debug(conf,'Callback "conditions" returned false.')}if(!is_number(num)){if(opts.items.filter!="*"){num="visible"}else{var arr=[num,obj.items,opts[eType].items];for(var a=0,l=arr.length;a<l;a++){if(is_number(arr[a])||arr[a]=="page"||arr[a]=="visible"){num=arr[a];break}}}switch(num){case"page":e.stopImmediatePropagation();return $cfs.triggerHandler(cf_e(eType+"Page",conf),[obj,clb]);break;case"visible":if(!opts.items.visibleConf.variable&&opts.items.filter=="*"){num=opts.items.visible}break}}if(scrl.isStopped){$cfs.trigger(cf_e("resume",conf));$cfs.trigger(cf_e("queue",conf),[eType,[obj,num,clb]]);e.stopImmediatePropagation();return debug(conf,"Carousel resumed scrolling.")}if(obj.duration>0){if(crsl.isScrolling){if(obj.queue){if(obj.queue=="last"){queu=[]}if(obj.queue!="first"||queu.length==0){$cfs.trigger(cf_e("queue",conf),[eType,[obj,num,clb]])}}e.stopImmediatePropagation();return debug(conf,"Carousel currently scrolling.")}}tmrs.timePassed=0;$cfs.trigger(cf_e("slide_"+eType,conf),[obj,num]);if(opts.synchronise){var s=opts.synchronise,c=[obj,num];for(var j=0,l=s.length;j<l;j++){var d=eType;if(!s[j][2]){d=d=="prev"?"next":"prev"}if(!s[j][1]){c[0]=s[j][0].triggerHandler("_cfs_triggerEvent",["configuration",d])}c[1]=num+s[j][3];s[j][0].trigger("_cfs_triggerEvent",["slide_"+d,c])}}return true});$cfs.bind(cf_e("slide_prev",conf),function(e,sO,nI){e.stopPropagation();var a_itm=$cfs.children();if(!opts.circular){if(itms.first==0){if(opts.infinite){$cfs.trigger(cf_e("next",conf),itms.total-1)}return e.stopImmediatePropagation()}}sz_resetMargin(a_itm,opts);if(!is_number(nI)){if(opts.items.visibleConf.variable){nI=gn_getVisibleItemsPrev(a_itm,opts,itms.total-1)}else if(opts.items.filter!="*"){var xI=is_number(sO.items)?sO.items:gn_getVisibleOrg($cfs,opts);nI=gn_getScrollItemsPrevFilter(a_itm,opts,itms.total-1,xI)}else{nI=opts.items.visible}nI=cf_getAdjust(nI,opts,sO.items,$tt0)}if(!opts.circular){if(itms.total-nI<itms.first){nI=itms.total-itms.first}}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var vI=cf_getItemsAdjust(gn_getVisibleItemsNext(a_itm,opts,itms.total-nI),opts,opts.items.visibleConf.adjust,$tt0);if(opts.items.visible+nI<=vI&&nI<itms.total){nI++;vI=cf_getItemsAdjust(gn_getVisibleItemsNext(a_itm,opts,itms.total-nI),opts,opts.items.visibleConf.adjust,$tt0)}opts.items.visible=vI}else if(opts.items.filter!="*"){var vI=gn_getVisibleItemsNextFilter(a_itm,opts,itms.total-nI);opts.items.visible=cf_getItemsAdjust(vI,opts,opts.items.visibleConf.adjust,$tt0)}sz_resetMargin(a_itm,opts,true);if(nI==0){e.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+nI+" items backward.");itms.first+=nI;while(itms.first>=itms.total){itms.first-=itms.total}if(!opts.circular){if(itms.first==0&&sO.onEnd){sO.onEnd.call($tt0,"prev")}if(!opts.infinite){nv_enableNavi(opts,itms.first,conf)}}$cfs.children().slice(itms.total-nI,itms.total).prependTo($cfs);if(itms.total<opts.items.visible+nI){$cfs.children().slice(0,opts.items.visible+nI-itms.total).clone(true).appendTo($cfs)}var a_itm=$cfs.children(),i_old=gi_getOldItemsPrev(a_itm,opts,nI),i_new=gi_getNewItemsPrev(a_itm,opts),i_cur_l=a_itm.eq(nI-1),i_old_l=i_old.last(),i_new_l=i_new.last();sz_resetMargin(a_itm,opts);var pL=0,pR=0;if(opts.align){var p=cf_getAlignPadding(i_new,opts);pL=p[0];pR=p[1]}var oL=pL<0?opts.padding[opts.d[3]]:0;var hiddenitems=false,i_skp=$();if(opts.items.visible<nI){i_skp=a_itm.slice(opts.items.visibleConf.old,nI);if(sO.fx=="directscroll"){var orgW=opts.items[opts.d["width"]];hiddenitems=i_skp;i_cur_l=i_new_l;sc_hideHiddenItems(hiddenitems);opts.items[opts.d["width"]]="variable"}}var $cf2=false,i_siz=ms_getTotalSize(a_itm.slice(0,nI),opts,"width"),w_siz=cf_mapWrapperSizes(ms_getSizes(i_new,opts,true),opts,!opts.usePadding),i_siz_vis=0,a_cfs={},a_wsz={},a_cur={},a_old={},a_new={},a_lef={},a_lef_vis={},a_dur=sc_getDuration(sO,opts,nI,i_siz);switch(sO.fx){case"cover":case"cover-fade":i_siz_vis=ms_getTotalSize(a_itm.slice(0,opts.items.visible),opts,"width");break}if(hiddenitems){opts.items[opts.d["width"]]=orgW}sz_resetMargin(a_itm,opts,true);if(pR>=0){sz_resetMargin(i_old_l,opts,opts.padding[opts.d[1]])}if(pL>=0){sz_resetMargin(i_cur_l,opts,opts.padding[opts.d[3]])}if(opts.align){opts.padding[opts.d[1]]=pR;opts.padding[opts.d[3]]=pL}a_lef[opts.d["left"]]=-(i_siz-oL);a_lef_vis[opts.d["left"]]=-(i_siz_vis-oL);a_wsz[opts.d["left"]]=w_siz[opts.d["width"]];var _s_wrapper=function(){},_a_wrapper=function(){},_s_paddingold=function(){},_a_paddingold=function(){},_s_paddingnew=function(){},_a_paddingnew=function(){},_s_paddingcur=function(){},_a_paddingcur=function(){},_onafter=function(){},_moveitems=function(){},_position=function(){};switch(sO.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":$cf2=$cfs.clone(true).appendTo($wrp);break}switch(sO.fx){case"crossfade":case"uncover":case"uncover-fade":$cf2.children().slice(0,nI).remove();$cf2.children().slice(opts.items.visibleConf.old).remove();break;case"cover":case"cover-fade":$cf2.children().slice(opts.items.visible).remove();$cf2.css(a_lef_vis);break}$cfs.css(a_lef);scrl=sc_setScroll(a_dur,sO.easing,conf);a_cfs[opts.d["left"]]=opts.usePadding?opts.padding[opts.d[3]]:0;if(opts[opts.d["width"]]=="variable"||opts[opts.d["height"]]=="variable"){_s_wrapper=function(){$wrp.css(w_siz)};_a_wrapper=function(){scrl.anims.push([$wrp,w_siz])}}if(opts.usePadding){if(i_new_l.not(i_cur_l).length){a_cur[opts.d["marginRight"]]=i_cur_l.data("_cfs_origCssMargin");if(pL<0){i_cur_l.css(a_cur)}else{_s_paddingcur=function(){i_cur_l.css(a_cur)};_a_paddingcur=function(){scrl.anims.push([i_cur_l,a_cur])}}}switch(sO.fx){case"cover":case"cover-fade":$cf2.children().eq(nI-1).css(a_cur);break}if(i_new_l.not(i_old_l).length){a_old[opts.d["marginRight"]]=i_old_l.data("_cfs_origCssMargin");_s_paddingold=function(){i_old_l.css(a_old)};_a_paddingold=function(){scrl.anims.push([i_old_l,a_old])}}if(pR>=0){a_new[opts.d["marginRight"]]=i_new_l.data("_cfs_origCssMargin")+opts.padding[opts.d[1]];_s_paddingnew=function(){i_new_l.css(a_new)};_a_paddingnew=function(){scrl.anims.push([i_new_l,a_new])}}}_position=function(){$cfs.css(a_cfs)};var overFill=opts.items.visible+nI-itms.total;_moveitems=function(){if(overFill>0){$cfs.children().slice(itms.total).remove();i_old=$($cfs.children().slice(itms.total-(opts.items.visible-overFill)).get().concat($cfs.children().slice(0,overFill).get()))}sc_showHiddenItems(hiddenitems);if(opts.usePadding){var l_itm=$cfs.children().eq(opts.items.visible+nI-1);l_itm.css(opts.d["marginRight"],l_itm.data("_cfs_origCssMargin"))}};var cb_arguments=sc_mapCallbackArguments(i_old,i_skp,i_new,nI,"prev",a_dur,w_siz);_onafter=function(){sc_afterScroll($cfs,$cf2,sO);crsl.isScrolling=false;clbk.onAfter=sc_fireCallbacks($tt0,sO,"onAfter",cb_arguments,clbk);queu=sc_fireQueue($cfs,queu,conf);if(!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}};crsl.isScrolling=true;tmrs=sc_clearTimers(tmrs);clbk.onBefore=sc_fireCallbacks($tt0,sO,"onBefore",cb_arguments,clbk);switch(sO.fx){case"none":$cfs.css(a_cfs);_s_wrapper();_s_paddingold();_s_paddingnew();_s_paddingcur();_position();_moveitems();_onafter();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){_s_wrapper();_s_paddingold();_s_paddingnew();_s_paddingcur();_position();_moveitems();scrl=sc_setScroll(a_dur,sO.easing,conf);scrl.anims.push([$cfs,{opacity:1},_onafter]);sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0});scrl.anims.push([$cf2,{opacity:0}]);scrl.anims.push([$cfs,{opacity:1},_onafter]);_a_wrapper();_s_paddingold();_s_paddingnew();_s_paddingcur();_position();_moveitems();break;case"cover":scrl.anims.push([$cf2,a_cfs,function(){_s_paddingold();_s_paddingnew();_s_paddingcur();_position();_moveitems();_onafter()}]);_a_wrapper();break;case"cover-fade":scrl.anims.push([$cfs,{opacity:0}]);scrl.anims.push([$cf2,a_cfs,function(){_s_paddingold();_s_paddingnew();_s_paddingcur();_position();_moveitems();_onafter()}]);_a_wrapper();break;case"uncover":scrl.anims.push([$cf2,a_wsz,_onafter]);_a_wrapper();_s_paddingold();_s_paddingnew();_s_paddingcur();_position();_moveitems();break;case"uncover-fade":$cfs.css({opacity:0});scrl.anims.push([$cfs,{opacity:1}]);scrl.anims.push([$cf2,a_wsz,_onafter]);_a_wrapper();_s_paddingold();_s_paddingnew();_s_paddingcur();_position();_moveitems();break;default:scrl.anims.push([$cfs,a_cfs,function(){_moveitems();_onafter()}]);_a_wrapper();_a_paddingold();_a_paddingnew();_a_paddingcur();break}sc_startScroll(scrl,conf);cf_setCookie(opts.cookie,$cfs,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[false,w_siz]);return true});$cfs.bind(cf_e("slide_next",conf),function(e,sO,nI){e.stopPropagation();var a_itm=$cfs.children();if(!opts.circular){if(itms.first==opts.items.visible){if(opts.infinite){$cfs.trigger(cf_e("prev",conf),itms.total-1)}return e.stopImmediatePropagation()}}sz_resetMargin(a_itm,opts);if(!is_number(nI)){if(opts.items.filter!="*"){var xI=is_number(sO.items)?sO.items:gn_getVisibleOrg($cfs,opts);nI=gn_getScrollItemsNextFilter(a_itm,opts,0,xI)}else{nI=opts.items.visible}nI=cf_getAdjust(nI,opts,sO.items,$tt0)}var lastItemNr=itms.first==0?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable){var vI=gn_getVisibleItemsNext(a_itm,opts,nI),xI=gn_getVisibleItemsPrev(a_itm,opts,lastItemNr-1)}else{var vI=opts.items.visible,xI=opts.items.visible}if(nI+vI>lastItemNr){nI=lastItemNr-xI}}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var vI=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(a_itm,opts,nI,lastItemNr),opts,opts.items.visibleConf.adjust,$tt0);while(opts.items.visible-nI>=vI&&nI<itms.total){nI++;vI=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(a_itm,opts,nI,lastItemNr),opts,opts.items.visibleConf.adjust,$tt0)}opts.items.visible=vI}else if(opts.items.filter!="*"){var vI=gn_getVisibleItemsNextFilter(a_itm,opts,nI);opts.items.visible=cf_getItemsAdjust(vI,opts,opts.items.visibleConf.adjust,$tt0)}sz_resetMargin(a_itm,opts,true);if(nI==0){e.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+nI+" items forward.");itms.first-=nI;while(itms.first<0){itms.first+=itms.total}if(!opts.circular){if(itms.first==opts.items.visible&&sO.onEnd){sO.onEnd.call($tt0,"next")}if(!opts.infinite){nv_enableNavi(opts,itms.first,conf)}}if(itms.total<opts.items.visible+nI){$cfs.children().slice(0,opts.items.visible+nI-itms.total).clone(true).appendTo($cfs)}var a_itm=$cfs.children(),i_old=gi_getOldItemsNext(a_itm,opts),i_new=gi_getNewItemsNext(a_itm,opts,nI),i_cur_l=a_itm.eq(nI-1),i_old_l=i_old.last(),i_new_l=i_new.last();sz_resetMargin(a_itm,opts);var pL=0,pR=0;if(opts.align){var p=cf_getAlignPadding(i_new,opts);pL=p[0];pR=p[1]}var hiddenitems=false,i_skp=$();if(opts.items.visibleConf.old<nI){i_skp=a_itm.slice(opts.items.visibleConf.old,nI);if(sO.fx=="directscroll"){var orgW=opts.items[opts.d["width"]];hiddenitems=i_skp;i_cur_l=i_old_l;sc_hideHiddenItems(hiddenitems);opts.items[opts.d["width"]]="variable"}}var $cf2=false,i_siz=ms_getTotalSize(a_itm.slice(0,nI),opts,"width"),w_siz=cf_mapWrapperSizes(ms_getSizes(i_new,opts,true),opts,!opts.usePadding),i_siz_vis=0,a_cfs={},a_cfs_vis={},a_cur={},a_old={},a_lef={},a_dur=sc_getDuration(sO,opts,nI,i_siz);switch(sO.fx){case"uncover":case"uncover-fade":i_siz_vis=ms_getTotalSize(a_itm.slice(0,opts.items.visibleConf.old),opts,"width");break}if(hiddenitems){opts.items[opts.d["width"]]=orgW}if(opts.align){if(opts.padding[opts.d[1]]<0){opts.padding[opts.d[1]]=0}}sz_resetMargin(a_itm,opts,true);sz_resetMargin(i_old_l,opts,opts.padding[opts.d[1]]);if(opts.align){opts.padding[opts.d[1]]=pR;opts.padding[opts.d[3]]=pL}a_lef[opts.d["left"]]=opts.usePadding?opts.padding[opts.d[3]]:0;var _s_wrapper=function(){},_a_wrapper=function(){},_s_paddingold=function(){},_a_paddingold=function(){},_s_paddingcur=function(){},_a_paddingcur=function(){},_onafter=function(){},_moveitems=function(){},_position=function(){};switch(sO.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":$cf2=$cfs.clone(true).appendTo($wrp);$cf2.children().slice(opts.items.visibleConf.old).remove();break}switch(sO.fx){case"crossfade":case"cover":case"cover-fade":$cfs.css("zIndex",1);$cf2.css("zIndex",0);break}scrl=sc_setScroll(a_dur,sO.easing,conf);a_cfs[opts.d["left"]]=-i_siz;a_cfs_vis[opts.d["left"]]=-i_siz_vis;if(pL<0){a_cfs[opts.d["left"]]+=pL}if(opts[opts.d["width"]]=="variable"||opts[opts.d["height"]]=="variable"){_s_wrapper=function(){$wrp.css(w_siz)};_a_wrapper=function(){scrl.anims.push([$wrp,w_siz])}}if(opts.usePadding){var i_new_l_m=i_new_l.data("_cfs_origCssMargin");if(pR>=0){i_new_l_m+=opts.padding[opts.d[1]]}i_new_l.css(opts.d["marginRight"],i_new_l_m);if(i_cur_l.not(i_old_l).length){a_old[opts.d["marginRight"]]=i_old_l.data("_cfs_origCssMargin")}_s_paddingold=function(){i_old_l.css(a_old)};_a_paddingold=function(){scrl.anims.push([i_old_l,a_old])};var i_cur_l_m=i_cur_l.data("_cfs_origCssMargin");if(pL>0){i_cur_l_m+=opts.padding[opts.d[3]]}a_cur[opts.d["marginRight"]]=i_cur_l_m;_s_paddingcur=function(){i_cur_l.css(a_cur)};_a_paddingcur=function(){scrl.anims.push([i_cur_l,a_cur])}}_position=function(){$cfs.css(a_lef)};var overFill=opts.items.visible+nI-itms.total;_moveitems=function(){if(overFill>0){$cfs.children().slice(itms.total).remove()}var l_itm=$cfs.children().slice(0,nI).appendTo($cfs).last();if(overFill>0){i_new=gi_getCurrentItems(a_itm,opts)}sc_showHiddenItems(hiddenitems);if(opts.usePadding){if(itms.total<opts.items.visible+nI){var i_cur_l=$cfs.children().eq(opts.items.visible-1);i_cur_l.css(opts.d["marginRight"],i_cur_l.data("_cfs_origCssMargin")+opts.padding[opts.d[1]])}l_itm.css(opts.d["marginRight"],l_itm.data("_cfs_origCssMargin"))}};var cb_arguments=sc_mapCallbackArguments(i_old,i_skp,i_new,nI,"next",a_dur,w_siz);_onafter=function(){$cfs.css("zIndex",$cfs.data("_cfs_origCssZindex"));sc_afterScroll($cfs,$cf2,sO);crsl.isScrolling=false;clbk.onAfter=sc_fireCallbacks($tt0,sO,"onAfter",cb_arguments,clbk);queu=sc_fireQueue($cfs,queu,conf);if(!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}};crsl.isScrolling=true;tmrs=sc_clearTimers(tmrs);clbk.onBefore=sc_fireCallbacks($tt0,sO,"onBefore",cb_arguments,clbk);switch(sO.fx){case"none":$cfs.css(a_cfs);_s_wrapper();_s_paddingold();_s_paddingcur();_position();_moveitems();_onafter();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){_s_wrapper();_s_paddingold();_s_paddingcur();_position();_moveitems();scrl=sc_setScroll(a_dur,sO.easing,conf);scrl.anims.push([$cfs,{opacity:1},_onafter]);sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0});scrl.anims.push([$cf2,{opacity:0}]);scrl.anims.push([$cfs,{opacity:1},_onafter]);_a_wrapper();_s_paddingold();_s_paddingcur();_position();_moveitems();break;case"cover":$cfs.css(opts.d["left"],$wrp[opts.d["width"]]());scrl.anims.push([$cfs,a_lef,_onafter]);_a_wrapper();_s_paddingold();_s_paddingcur();_moveitems();break;case"cover-fade":$cfs.css(opts.d["left"],$wrp[opts.d["width"]]());scrl.anims.push([$cf2,{opacity:0}]);scrl.anims.push([$cfs,a_lef,_onafter]);_a_wrapper();_s_paddingold();_s_paddingcur();_moveitems();break;case"uncover":scrl.anims.push([$cf2,a_cfs_vis,_onafter]);_a_wrapper();_s_paddingold();_s_paddingcur();_position();_moveitems();break;case"uncover-fade":$cfs.css({opacity:0});scrl.anims.push([$cfs,{opacity:1}]);scrl.anims.push([$cf2,a_cfs_vis,_onafter]);_a_wrapper();_s_paddingold();_s_paddingcur();_position();_moveitems();break;default:scrl.anims.push([$cfs,a_cfs,function(){_position();_moveitems();_onafter()}]);_a_wrapper();_a_paddingold();_a_paddingcur();break}sc_startScroll(scrl,conf);cf_setCookie(opts.cookie,$cfs,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[false,w_siz]);return true});$cfs.bind(cf_e("slideTo",conf),function(e,num,dev,org,obj,dir,clb){e.stopPropagation();var v=[num,dev,org,obj,dir,clb],t=["string/number/object","number","boolean","object","string","function"],a=cf_sortParams(v,t);obj=a[3];dir=a[4];clb=a[5];num=gn_getItemIndex(a[0],a[1],a[2],itms,$cfs);if(num==0){return false}if(!is_object(obj)){obj=false}if(dir!="prev"&&dir!="next"){if(opts.circular){dir=num<=itms.total/2?"next":"prev"}else{dir=itms.first==0||itms.first>num?"next":"prev"}}if(dir=="prev"){num=itms.total-num}$cfs.trigger(cf_e(dir,conf),[obj,num,clb]);return true});$cfs.bind(cf_e("prevPage",conf),function(e,obj,clb){e.stopPropagation();var cur=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[cur-1,obj,"prev",clb])});$cfs.bind(cf_e("nextPage",conf),function(e,obj,clb){e.stopPropagation();var cur=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[cur+1,obj,"next",clb])});$cfs.bind(cf_e("slideToPage",conf),function(e,pag,obj,dir,clb){e.stopPropagation();if(!is_number(pag)){pag=$cfs.triggerHandler(cf_e("currentPage",conf))}var ipp=opts.pagination.items||opts.items.visible,max=Math.ceil(itms.total/ipp)-1;if(pag<0){pag=max}if(pag>max){pag=0}return $cfs.triggerHandler(cf_e("slideTo",conf),[pag*ipp,0,true,obj,dir,clb])});$cfs.bind(cf_e("jumpToStart",conf),function(e,s){e.stopPropagation();if(s){s=gn_getItemIndex(s,0,true,itms,$cfs)}else{s=0}s+=itms.first;if(s!=0){if(itms.total>0){while(s>itms.total){s-=itms.total}}$cfs.prepend($cfs.children().slice(s,itms.total))}return true});$cfs.bind(cf_e("synchronise",conf),function(e,s){e.stopPropagation();if(s){s=cf_getSynchArr(s)}else if(opts.synchronise){s=opts.synchronise}else{return debug(conf,"No carousel to synchronise.")}var n=$cfs.triggerHandler(cf_e("currentPosition",conf)),x=true;for(var j=0,l=s.length;j<l;j++){if(!s[j][0].triggerHandler(cf_e("slideTo",conf),[n,s[j][3],true])){x=false}}return x});$cfs.bind(cf_e("queue",conf),function(e,dir,opt){e.stopPropagation();if(is_function(dir)){dir.call($tt0,queu)}else if(is_array(dir)){queu=dir}else if(!is_undefined(dir)){queu.push([dir,opt])}return queu});$cfs.bind(cf_e("insertItem",conf),function(e,itm,num,org,dev){e.stopPropagation();var v=[itm,num,org,dev],t=["string/object","string/number/object","boolean","number"],a=cf_sortParams(v,t);itm=a[0];num=a[1];org=a[2];dev=a[3];if(is_object(itm)&&!is_jquery(itm)){itm=$(itm)}else if(is_string(itm)){itm=$(itm)}if(!is_jquery(itm)||itm.length==0){return debug(conf,"Not a valid object.")}if(is_undefined(num)){num="end"}sz_storeMargin(itm,opts);sz_storeOrigCss(itm);var orgNum=num,before="before";if(num=="end"){if(org){if(itms.first==0){num=itms.total-1;before="after"}else{num=itms.first;itms.first+=itm.length}if(num<0){num=0}}else{num=itms.total-1;before="after"}}else{num=gn_getItemIndex(num,dev,org,itms,$cfs)}var $cit=$cfs.children().eq(num);if($cit.length){$cit[before](itm)}else{debug(conf,"Correct insert-position not found! Appending item to the end.");$cfs.append(itm)}if(orgNum!="end"&&!org){if(num<itms.first){itms.first+=itm.length}}itms.total=$cfs.children().length;if(itms.first>=itms.total){itms.first-=itms.total}$cfs.trigger(cf_e("updateSizes",conf));$cfs.trigger(cf_e("linkAnchors",conf));return true});$cfs.bind(cf_e("removeItem",conf),function(e,num,org,dev){e.stopPropagation();var v=[num,org,dev],t=["string/number/object","boolean","number"],a=cf_sortParams(v,t);num=a[0];org=a[1];dev=a[2];var removed=false;if(num instanceof $&&num.length>1){$removed=$();num.each(function(i,el){var $rem=$cfs.trigger(cf_e("removeItem",conf),[$(this),org,dev]);if($rem){$removed=$removed.add($rem)}});return $removed}if(is_undefined(num)||num=="end"){$removed=$cfs.children().last()}else{num=gn_getItemIndex(num,dev,org,itms,$cfs);var $removed=$cfs.children().eq(num);if($removed.length){if(num<itms.first){itms.first-=$removed.length}}}if($removed&&$removed.length){$removed.detach();itms.total=$cfs.children().length;$cfs.trigger(cf_e("updateSizes",conf))}return $removed});$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(e,fn){e.stopPropagation();var eType=e.type.slice(conf.events.prefix.length);if(is_array(fn)){clbk[eType]=fn}if(is_function(fn)){clbk[eType].push(fn)}return clbk[eType]});$cfs.bind(cf_e("currentPosition",conf),function(e,fn){e.stopPropagation();if(itms.first==0){var val=0}else{var val=itms.total-itms.first}if(is_function(fn)){fn.call($tt0,val)}return val});$cfs.bind(cf_e("currentPage",conf),function(e,fn){e.stopPropagation();var ipp=opts.pagination.items||opts.items.visible,max=Math.ceil(itms.total/ipp-1),nr;if(itms.first==0){nr=0}else if(itms.first<itms.total%ipp){nr=0}else if(itms.first==ipp&&!opts.circular){nr=max}else{nr=Math.round((itms.total-itms.first)/ipp)}if(nr<0){nr=0}if(nr>max){nr=max}if(is_function(fn)){fn.call($tt0,nr)}return nr});$cfs.bind(cf_e("currentVisible",conf),function(e,fn){e.stopPropagation();var $i=gi_getCurrentItems($cfs.children(),opts);if(is_function(fn)){fn.call($tt0,$i)}return $i});$cfs.bind(cf_e("slice",conf),function(e,f,l,fn){e.stopPropagation();if(itms.total==0){return false}var v=[f,l,fn],t=["number","number","function"],a=cf_sortParams(v,t);f=is_number(a[0])?a[0]:0;l=is_number(a[1])?a[1]:itms.total;fn=a[2];f+=itms.first;l+=itms.first;if(items.total>0){while(f>itms.total){f-=itms.total}while(l>itms.total){l-=itms.total}while(f<0){f+=itms.total}while(l<0){l+=itms.total}}var $iA=$cfs.children(),$i;if(l>f){$i=$iA.slice(f,l)}else{$i=$($iA.slice(f,itms.total).get().concat($iA.slice(0,l).get()))}if(is_function(fn)){fn.call($tt0,$i)}return $i});$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(e,fn){e.stopPropagation();var eType=e.type.slice(conf.events.prefix.length),value=crsl[eType];if(is_function(fn)){fn.call($tt0,value)}return value});$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=false;if(is_function(a)){a.call($tt0,opts)}else if(is_object(a)){opts_orig=$.extend(true,{},opts_orig,a);if(b!==false)reInit=true;else opts=$.extend(true,{},opts,a)}else if(!is_undefined(a)){if(is_function(b)){var val=eval("opts."+a);if(is_undefined(val)){val=""}b.call($tt0,val)}else if(!is_undefined(b)){if(typeof c!=="boolean")c=true;eval("opts_orig."+a+" = b");if(c!==false)reInit=true;else eval("opts."+a+" = b")}else{return eval("opts."+a)}}if(reInit){sz_resetMargin($cfs.children(),opts);FN._init(opts_orig);FN._bind_buttons();var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[true,sz])}return opts});$cfs.bind(cf_e("linkAnchors",conf),function(e,$con,sel){e.stopPropagation();if(is_undefined($con)){$con=$("body")}else if(is_string($con)){$con=$($con)}if(!is_jquery($con)||$con.length==0){return debug(conf,"Not a valid object.")}if(!is_string(sel)){sel="a.caroufredsel"}$con.find(sel).each(function(){
var h=this.hash||"";if(h.length>0&&$cfs.children().index($(h))!=-1){$(this).unbind("click").click(function(e){e.preventDefault();$cfs.trigger(cf_e("slideTo",conf),h)})}});return true});$cfs.bind(cf_e("updatePageStatus",conf),function(e,build,sizes){e.stopPropagation();if(!opts.pagination.container){return}var ipp=opts.pagination.items||opts.items.visible,pgs=Math.ceil(itms.total/ipp);if(build){if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove();opts.pagination.container.each(function(){for(var a=0;a<pgs;a++){var i=$cfs.children().eq(gn_getItemIndex(a*ipp,0,true,itms,$cfs));$(this).append(opts.pagination.anchorBuilder.call(i[0],a+1))}})}opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(a){$(this).bind(opts.pagination.event,function(e){e.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[a*ipp,-opts.pagination.deviation,true,opts.pagination])})})})}var selected=$cfs.triggerHandler(cf_e("currentPage",conf))+opts.pagination.deviation;if(selected>=pgs){selected=0}if(selected<0){selected=pgs-1}opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq(selected).addClass(cf_c("selected",conf))});return true});$cfs.bind(cf_e("updateSizes",conf),function(e){var vI=opts.items.visible,a_itm=$cfs.children(),avail_primary=ms_getParentSize($wrp,opts,"width");itms.total=a_itm.length;if(crsl.primarySizePercentage){opts.maxDimension=avail_primary;opts[opts.d["width"]]=ms_getPercentage(avail_primary,crsl.primarySizePercentage)}else{opts.maxDimension=ms_getMaxDimension(opts,avail_primary)}if(opts.responsive){opts.items.width=opts.items.sizesConf.width;opts.items.height=opts.items.sizesConf.height;opts=in_getResponsiveValues(opts,a_itm,avail_primary);vI=opts.items.visible;sz_setResponsiveSizes(opts,a_itm)}else if(opts.items.visibleConf.variable){vI=gn_getVisibleItemsNext(a_itm,opts,0)}else if(opts.items.filter!="*"){vI=gn_getVisibleItemsNextFilter(a_itm,opts,0)}if(!opts.circular&&itms.first!=0&&vI>itms.first){if(opts.items.visibleConf.variable){var nI=gn_getVisibleItemsPrev(a_itm,opts,itms.first)-itms.first}else if(opts.items.filter!="*"){var nI=gn_getVisibleItemsPrevFilter(a_itm,opts,itms.first)-itms.first}else{var nI=opts.items.visible-itms.first}debug(conf,"Preventing non-circular: sliding "+nI+" items backward.");$cfs.trigger(cf_e("prev",conf),nI)}opts.items.visible=cf_getItemsAdjust(vI,opts,opts.items.visibleConf.adjust,$tt0);opts.items.visibleConf.old=opts.items.visible;opts=in_getAlignPadding(opts,a_itm);var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[true,sz]);nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);return sz});$cfs.bind(cf_e("destroy",conf),function(e,orgOrder){e.stopPropagation();tmrs=sc_clearTimers(tmrs);$cfs.data("_cfs_isCarousel",false);$cfs.trigger(cf_e("finish",conf));if(orgOrder){$cfs.trigger(cf_e("jumpToStart",conf))}sz_restoreOrigCss($cfs.children());sz_restoreOrigCss($cfs);FN._unbind_events();FN._unbind_buttons();if(conf.wrapper=="parent"){sz_restoreOrigCss($wrp)}else{$wrp.replaceWith($cfs)}return true});$cfs.bind(cf_e("debug",conf),function(e){debug(conf,"Carousel width: "+opts.width);debug(conf,"Carousel height: "+opts.height);debug(conf,"Item widths: "+opts.items.width);debug(conf,"Item heights: "+opts.items.height);debug(conf,"Number of items visible: "+opts.items.visible);if(opts.auto.play){debug(conf,"Number of items scrolled automatically: "+opts.auto.items)}if(opts.prev.button){debug(conf,"Number of items scrolled backward: "+opts.prev.items)}if(opts.next.button){debug(conf,"Number of items scrolled forward: "+opts.next.items)}return conf.debug});$cfs.bind("_cfs_triggerEvent",function(e,n,o){e.stopPropagation();return $cfs.triggerHandler(cf_e(n,conf),o)})};FN._unbind_events=function(){$cfs.unbind(cf_e("",conf));$cfs.unbind(cf_e("",conf,false));$cfs.unbind("_cfs_triggerEvent")};FN._bind_buttons=function(){FN._unbind_buttons();nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);if(opts.auto.pauseOnHover){var pC=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),pC)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button){opts.auto.button.bind(cf_e(opts.auto.event,conf,false),function(e){e.preventDefault();var ev=false,pC=null;if(crsl.isPaused){ev="play"}else if(opts.auto.pauseOnEvent){ev="pause";pC=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)}if(ev){$cfs.trigger(cf_e(ev,conf),pC)}})}if(opts.prev.button){opts.prev.button.bind(cf_e(opts.prev.event,conf,false),function(e){e.preventDefault();$cfs.trigger(cf_e("prev",conf))});if(opts.prev.pauseOnHover){var pC=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),pC)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.next.button){opts.next.button.bind(cf_e(opts.next.event,conf,false),function(e){e.preventDefault();$cfs.trigger(cf_e("next",conf))});if(opts.next.pauseOnHover){var pC=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),pC)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.pagination.container){if(opts.pagination.pauseOnHover){var pC=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),pC)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.prev.key||opts.next.key){$(document).bind(cf_e("keyup",conf,false,true,true),function(e){var k=e.keyCode;if(k==opts.next.key){e.preventDefault();$cfs.trigger(cf_e("next",conf))}if(k==opts.prev.key){e.preventDefault();$cfs.trigger(cf_e("prev",conf))}})}if(opts.pagination.keys){$(document).bind(cf_e("keyup",conf,false,true,true),function(e){var k=e.keyCode;if(k>=49&&k<58){k=(k-49)*opts.items.visible;if(k<=itms.total){e.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[k,0,true,opts.pagination])}}})}if($.fn.swipe){var isTouch="ontouchstart"in window;if(isTouch&&opts.swipe.onTouch||!isTouch&&opts.swipe.onMouse){var scP=$.extend(true,{},opts.prev,opts.swipe),scN=$.extend(true,{},opts.next,opts.swipe),swP=function(){$cfs.trigger(cf_e("prev",conf),[scP])},swN=function(){$cfs.trigger(cf_e("next",conf),[scN])};switch(opts.direction){case"up":case"down":opts.swipe.options.swipeUp=swN;opts.swipe.options.swipeDown=swP;break;default:opts.swipe.options.swipeLeft=swN;opts.swipe.options.swipeRight=swP}if(crsl.swipe){$cfs.swipe("destroy")}$wrp.swipe(opts.swipe.options);$wrp.css("cursor","move");crsl.swipe=true}}if($.fn.mousewheel){if(opts.mousewheel){var mcP=$.extend(true,{},opts.prev,opts.mousewheel),mcN=$.extend(true,{},opts.next,opts.mousewheel);if(crsl.mousewheel){$wrp.unbind(cf_e("mousewheel",conf,false))}$wrp.bind(cf_e("mousewheel",conf,false),function(e,delta){e.preventDefault();if(delta>0){$cfs.trigger(cf_e("prev",conf),[mcP])}else{$cfs.trigger(cf_e("next",conf),[mcN])}});crsl.mousewheel=true}}if(opts.auto.play){$cfs.trigger(cf_e("play",conf),opts.auto.delay)}if(crsl.upDateOnWindowResize){var resizeFn=function(e){$cfs.trigger(cf_e("finish",conf));if(opts.auto.pauseOnResize&&!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}sz_resetMargin($cfs.children(),opts);$cfs.trigger(cf_e("updateSizes",conf))};var $w=$(window),onResize=null;if($.debounce&&conf.onWindowResize=="debounce"){onResize=$.debounce(200,resizeFn)}else if($.throttle&&conf.onWindowResize=="throttle"){onResize=$.throttle(300,resizeFn)}else{var _windowWidth=0,_windowHeight=0;onResize=function(){var nw=$w.width(),nh=$w.height();if(nw!=_windowWidth||nh!=_windowHeight){resizeFn();_windowWidth=nw;_windowHeight=nh}}}$w.bind(cf_e("resize",conf,false,true,true),onResize)}};FN._unbind_buttons=function(){var ns1=cf_e("",conf),ns2=cf_e("",conf,false);ns3=cf_e("",conf,false,true,true);$(document).unbind(ns3);$(window).unbind(ns3);$wrp.unbind(ns2);if(opts.auto.button){opts.auto.button.unbind(ns2)}if(opts.prev.button){opts.prev.button.unbind(ns2)}if(opts.next.button){opts.next.button.unbind(ns2)}if(opts.pagination.container){opts.pagination.container.unbind(ns2);if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove()}}if(crsl.swipe){$cfs.swipe("destroy");$wrp.css("cursor","default");crsl.swipe=false}if(crsl.mousewheel){crsl.mousewheel=false}nv_showNavi(opts,"hide",conf);nv_enableNavi(opts,"removeClass",conf)};if(is_boolean(configs)){configs={debug:configs}}var crsl={direction:"next",isPaused:true,isScrolling:false,isStopped:false,mousewheel:false,swipe:false},itms={total:$cfs.children().length,first:0},tmrs={auto:null,progress:null,startTime:getTime(),timePassed:0},scrl={isStopped:false,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(true,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=$.extend(true,{},options),$wrp=conf.wrapper=="parent"?$cfs.parent():$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();conf.selector=$cfs.selector;conf.serialNumber=$.fn.carouFredSel.serialNumber++;conf.transition=conf.transition&&$.fn.transition?"transition":"animate";FN._init(opts_orig,true,starting_position);FN._build();FN._bind_events();FN._bind_buttons();if(is_array(opts.items.start)){var start_arr=opts.items.start}else{var start_arr=[];if(opts.items.start!=0){start_arr.push(opts.items.start)}}if(opts.cookie){start_arr.unshift(parseInt(cf_getCookie(opts.cookie),10))}if(start_arr.length>0){for(var a=0,l=start_arr.length;a<l;a++){var s=start_arr[a];if(s==0){continue}if(s===true){s=window.location.hash;if(s.length<1){continue}}else if(s==="random"){s=Math.floor(Math.random()*itms.total)}if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,true,{fx:"none"}])){break}}}var siz=sz_setSizes($cfs,opts),itm=gi_getCurrentItems($cfs.children(),opts);if(opts.onCreate){opts.onCreate.call($tt0,{width:siz.width,height:siz.height,items:itm})}$cfs.trigger(cf_e("updatePageStatus",conf),[true,siz]);$cfs.trigger(cf_e("linkAnchors",conf));if(conf.debug){$cfs.trigger(cf_e("debug",conf))}return $cfs};$.fn.carouFredSel.serialNumber=1;$.fn.carouFredSel.defaults={synchronise:false,infinite:true,circular:true,responsive:false,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:false,event:"click",queue:false}};$.fn.carouFredSel.configs={debug:false,transition:false,onWindowResize:"throttle",events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}};$.fn.carouFredSel.pageAnchorBuilder=function(nr){return'<a href="#"><span>'+nr+"</span></a>"};$.fn.carouFredSel.progressbarUpdater=function(perc){$(this).css("width",perc+"%")};$.fn.carouFredSel.cookie={get:function(n){n+="=";var ca=document.cookie.split(";");for(var a=0,l=ca.length;a<l;a++){var c=ca[a];while(c.charAt(0)==" "){c=c.slice(1)}if(c.indexOf(n)==0){return c.slice(n.length)}}return 0},set:function(n,v,d){var e="";if(d){var date=new Date;date.setTime(date.getTime()+d*24*60*60*1e3);e="; expires="+date.toGMTString()}document.cookie=n+"="+v+e+"; path=/"},remove:function(n){$.fn.carouFredSel.cookie.set(n,"",-1)}};function sc_setScroll(d,e,c){if(c.transition=="transition"){if(e=="swing"){e="ease"}}return{anims:[],duration:d,orgDuration:d,easing:e,startTime:getTime()}}function sc_startScroll(s,c){for(var a=0,l=s.anims.length;a<l;a++){var b=s.anims[a];if(!b){continue}b[0][c.transition](b[1],s.duration,s.easing,b[2])}}function sc_stopScroll(s,finish){if(!is_boolean(finish)){finish=true}if(is_object(s.pre)){sc_stopScroll(s.pre,finish)}for(var a=0,l=s.anims.length;a<l;a++){var b=s.anims[a];b[0].stop(true);if(finish){b[0].css(b[1]);if(is_function(b[2])){b[2]()}}}if(is_object(s.post)){sc_stopScroll(s.post,finish)}}function sc_afterScroll($c,$c2,o){if($c2){$c2.remove()}switch(o.fx){case"fade":case"crossfade":case"cover-fade":case"uncover-fade":$c.css("opacity",1);$c.css("filter","");break}}function sc_fireCallbacks($t,o,b,a,c){if(o[b]){o[b].call($t,a)}if(c[b].length){for(var i=0,l=c[b].length;i<l;i++){c[b][i].call($t,a)}}return[]}function sc_fireQueue($c,q,c){if(q.length){$c.trigger(cf_e(q[0][0],c),q[0][1]);q.shift()}return q}function sc_hideHiddenItems(hiddenitems){hiddenitems.each(function(){var hi=$(this);hi.data("_cfs_isHidden",hi.is(":hidden")).hide()})}function sc_showHiddenItems(hiddenitems){if(hiddenitems){hiddenitems.each(function(){var hi=$(this);if(!hi.data("_cfs_isHidden")){hi.show()}})}}function sc_clearTimers(t){if(t.auto){clearTimeout(t.auto)}if(t.progress){clearInterval(t.progress)}return t}function sc_mapCallbackArguments(i_old,i_skp,i_new,s_itm,s_dir,s_dur,w_siz){return{width:w_siz.width,height:w_siz.height,items:{old:i_old,skipped:i_skp,visible:i_new},scroll:{items:s_itm,direction:s_dir,duration:s_dur}}}function sc_getDuration(sO,o,nI,siz){var dur=sO.duration;if(sO.fx=="none"){return 0}if(dur=="auto"){dur=o.scroll.duration/o.scroll.items*nI}else if(dur<10){dur=siz/dur}if(dur<1){return 0}if(sO.fx=="fade"){dur=dur/2}return Math.round(dur)}function nv_showNavi(o,t,c){var minimum=is_number(o.items.minimum)?o.items.minimum:o.items.visible+1;if(t=="show"||t=="hide"){var f=t}else if(minimum>t){debug(c,"Not enough items ("+t+" total, "+minimum+" needed): Hiding navigation.");var f="hide"}else{var f="show"}var s=f=="show"?"removeClass":"addClass",h=cf_c("hidden",c);if(o.auto.button){o.auto.button[f]()[s](h)}if(o.prev.button){o.prev.button[f]()[s](h)}if(o.next.button){o.next.button[f]()[s](h)}if(o.pagination.container){o.pagination.container[f]()[s](h)}}function nv_enableNavi(o,f,c){if(o.circular||o.infinite)return;var fx=f=="removeClass"||f=="addClass"?f:false,di=cf_c("disabled",c);if(o.auto.button&&fx){o.auto.button[fx](di)}if(o.prev.button){var fn=fx||f==0?"addClass":"removeClass";o.prev.button[fn](di)}if(o.next.button){var fn=fx||f==o.items.visible?"addClass":"removeClass";o.next.button[fn](di)}}function go_getObject($tt,obj){if(is_function(obj)){obj=obj.call($tt)}else if(is_undefined(obj)){obj={}}return obj}function go_getItemsObject($tt,obj){obj=go_getObject($tt,obj);if(is_number(obj)){obj={visible:obj}}else if(obj=="variable"){obj={visible:obj,width:obj,height:obj}}else if(!is_object(obj)){obj={}}return obj}function go_getScrollObject($tt,obj){obj=go_getObject($tt,obj);if(is_number(obj)){if(obj<=50){obj={items:obj}}else{obj={duration:obj}}}else if(is_string(obj)){obj={easing:obj}}else if(!is_object(obj)){obj={}}return obj}function go_getNaviObject($tt,obj){obj=go_getObject($tt,obj);if(is_string(obj)){var temp=cf_getKeyCode(obj);if(temp==-1){obj=$(obj)}else{obj=temp}}return obj}function go_getAutoObject($tt,obj){obj=go_getNaviObject($tt,obj);if(is_jquery(obj)){obj={button:obj}}else if(is_boolean(obj)){obj={play:obj}}else if(is_number(obj)){obj={timeoutDuration:obj}}if(obj.progress){if(is_string(obj.progress)||is_jquery(obj.progress)){obj.progress={bar:obj.progress}}}return obj}function go_complementAutoObject($tt,obj){if(is_function(obj.button)){obj.button=obj.button.call($tt)}if(is_string(obj.button)){obj.button=$(obj.button)}if(!is_boolean(obj.play)){obj.play=true}if(!is_number(obj.delay)){obj.delay=0}if(is_undefined(obj.pauseOnEvent)){obj.pauseOnEvent=true}if(!is_boolean(obj.pauseOnResize)){obj.pauseOnResize=true}if(!is_number(obj.timeoutDuration)){obj.timeoutDuration=obj.duration<10?2500:obj.duration*5}if(obj.progress){if(is_function(obj.progress.bar)){obj.progress.bar=obj.progress.bar.call($tt)}if(is_string(obj.progress.bar)){obj.progress.bar=$(obj.progress.bar)}if(obj.progress.bar){if(!is_function(obj.progress.updater)){obj.progress.updater=$.fn.carouFredSel.progressbarUpdater}if(!is_number(obj.progress.interval)){obj.progress.interval=50}}else{obj.progress=false}}return obj}function go_getPrevNextObject($tt,obj){obj=go_getNaviObject($tt,obj);if(is_jquery(obj)){obj={button:obj}}else if(is_number(obj)){obj={key:obj}}return obj}function go_complementPrevNextObject($tt,obj){if(is_function(obj.button)){obj.button=obj.button.call($tt)}if(is_string(obj.button)){obj.button=$(obj.button)}if(is_string(obj.key)){obj.key=cf_getKeyCode(obj.key)}return obj}function go_getPaginationObject($tt,obj){obj=go_getNaviObject($tt,obj);if(is_jquery(obj)){obj={container:obj}}else if(is_boolean(obj)){obj={keys:obj}}return obj}function go_complementPaginationObject($tt,obj){if(is_function(obj.container)){obj.container=obj.container.call($tt)}if(is_string(obj.container)){obj.container=$(obj.container)}if(!is_number(obj.items)){obj.items=false}if(!is_boolean(obj.keys)){obj.keys=false}if(!is_function(obj.anchorBuilder)&&!is_false(obj.anchorBuilder)){obj.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder}if(!is_number(obj.deviation)){obj.deviation=0}return obj}function go_getSwipeObject($tt,obj){if(is_function(obj)){obj=obj.call($tt)}if(is_undefined(obj)){obj={onTouch:false}}if(is_true(obj)){obj={onTouch:obj}}else if(is_number(obj)){obj={items:obj}}return obj}function go_complementSwipeObject($tt,obj){if(!is_boolean(obj.onTouch)){obj.onTouch=true}if(!is_boolean(obj.onMouse)){obj.onMouse=false}if(!is_object(obj.options)){obj.options={}}if(!is_boolean(obj.options.triggerOnTouchEnd)){obj.options.triggerOnTouchEnd=false}return obj}function go_getMousewheelObject($tt,obj){if(is_function(obj)){obj=obj.call($tt)}if(is_true(obj)){obj={}}else if(is_number(obj)){obj={items:obj}}else if(is_undefined(obj)){obj=false}return obj}function go_complementMousewheelObject($tt,obj){return obj}function gn_getItemIndex(num,dev,org,items,$cfs){if(is_string(num)){num=$(num,$cfs)}if(is_object(num)){num=$(num,$cfs)}if(is_jquery(num)){num=$cfs.children().index(num);if(!is_boolean(org)){org=false}}else{if(!is_boolean(org)){org=true}}if(!is_number(num)){num=0}if(!is_number(dev)){dev=0}if(org){num+=items.first}num+=dev;if(items.total>0){while(num>=items.total){num-=items.total}while(num<0){num+=items.total}}return num}function gn_getVisibleItemsPrev(i,o,s){var t=0,x=0;for(var a=s;a>=0;a--){var j=i.eq(a);t+=j.is(":visible")?j[o.d["outerWidth"]](true):0;if(t>o.maxDimension){return x}if(a==0){a=i.length}x++}}function gn_getVisibleItemsPrevFilter(i,o,s){return gn_getItemsPrevFilter(i,o.items.filter,o.items.visibleConf.org,s)}function gn_getScrollItemsPrevFilter(i,o,s,m){return gn_getItemsPrevFilter(i,o.items.filter,m,s)}function gn_getItemsPrevFilter(i,f,m,s){var t=0,x=0;for(var a=s,l=i.length;a>=0;a--){x++;if(x==l){return x}var j=i.eq(a);if(j.is(f)){t++;if(t==m){return x}}if(a==0){a=l}}}function gn_getVisibleOrg($c,o){return o.items.visibleConf.org||$c.children().slice(0,o.items.visible).filter(o.items.filter).length}function gn_getVisibleItemsNext(i,o,s){var t=0,x=0;for(var a=s,l=i.length-1;a<=l;a++){var j=i.eq(a);t+=j.is(":visible")?j[o.d["outerWidth"]](true):0;if(t>o.maxDimension){return x}x++;if(x==l+1){return x}if(a==l){a=-1}}}function gn_getVisibleItemsNextTestCircular(i,o,s,l){var v=gn_getVisibleItemsNext(i,o,s);if(!o.circular){if(s+v>l){v=l-s}}return v}function gn_getVisibleItemsNextFilter(i,o,s){return gn_getItemsNextFilter(i,o.items.filter,o.items.visibleConf.org,s,o.circular)}function gn_getScrollItemsNextFilter(i,o,s,m){return gn_getItemsNextFilter(i,o.items.filter,m+1,s,o.circular)-1}function gn_getItemsNextFilter(i,f,m,s,c){var t=0,x=0;for(var a=s,l=i.length-1;a<=l;a++){x++;if(x>=l){return x}var j=i.eq(a);if(j.is(f)){t++;if(t==m){return x}}if(a==l){a=-1}}}function gi_getCurrentItems(i,o){return i.slice(0,o.items.visible)}function gi_getOldItemsPrev(i,o,n){return i.slice(n,o.items.visibleConf.old+n)}function gi_getNewItemsPrev(i,o){return i.slice(0,o.items.visible)}function gi_getOldItemsNext(i,o){return i.slice(0,o.items.visibleConf.old)}function gi_getNewItemsNext(i,o,n){return i.slice(n,o.items.visible+n)}function sz_storeMargin(i,o,d){if(o.usePadding){if(!is_string(d)){d="_cfs_origCssMargin"}i.each(function(){var j=$(this),m=parseInt(j.css(o.d["marginRight"]),10);if(!is_number(m)){m=0}j.data(d,m)})}}function sz_resetMargin(i,o,m){if(o.usePadding){var x=is_boolean(m)?m:false;if(!is_number(m)){m=0}sz_storeMargin(i,o,"_cfs_tempCssMargin");i.each(function(){var j=$(this);j.css(o.d["marginRight"],x?j.data("_cfs_tempCssMargin"):m+j.data("_cfs_origCssMargin"))})}}function sz_storeOrigCss(i){i.each(function(){var j=$(this);j.data("_cfs_origCss",j.attr("style")||"")})}function sz_restoreOrigCss(i){i.each(function(){var j=$(this);j.attr("style",j.data("_cfs_origCss")||"")})}function sz_setResponsiveSizes(o,all){var visb=o.items.visible,newS=o.items[o.d["width"]],seco=o[o.d["height"]],secp=is_percentage(seco);all.each(function(){var $t=$(this),nw=newS-ms_getPaddingBorderMargin($t,o,"Width");$t[o.d["width"]](nw);if(secp){$t[o.d["height"]](ms_getPercentage(nw,seco))}})}function sz_setSizes($c,o){var $w=$c.parent(),$i=$c.children(),$v=gi_getCurrentItems($i,o),sz=cf_mapWrapperSizes(ms_getSizes($v,o,true),o,false);$w.css(sz);if(o.usePadding){var p=o.padding,r=p[o.d[1]];if(o.align&&r<0){r=0}var $l=$v.last();$l.css(o.d["marginRight"],$l.data("_cfs_origCssMargin")+r);$c.css(o.d["top"],p[o.d[0]]);$c.css(o.d["left"],p[o.d[3]])}$c.css(o.d["width"],sz[o.d["width"]]+ms_getTotalSize($i,o,"width")*2);$c.css(o.d["height"],ms_getLargestSize($i,o,"height"));return sz}function ms_getSizes(i,o,wrapper){return[ms_getTotalSize(i,o,"width",wrapper),ms_getLargestSize(i,o,"height",wrapper)]}function ms_getLargestSize(i,o,dim,wrapper){if(!is_boolean(wrapper)){wrapper=false}if(is_number(o[o.d[dim]])&&wrapper){return o[o.d[dim]]}if(is_number(o.items[o.d[dim]])){return o.items[o.d[dim]]}dim=dim.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight";return ms_getTrueLargestSize(i,o,dim)}function ms_getTrueLargestSize(i,o,dim){var s=0;for(var a=0,l=i.length;a<l;a++){var j=i.eq(a);var m=j.is(":visible")?j[o.d[dim]](true):0;if(s<m){s=m}}return s}function ms_getTotalSize(i,o,dim,wrapper){if(!is_boolean(wrapper)){wrapper=false}if(is_number(o[o.d[dim]])&&wrapper){return o[o.d[dim]]}if(is_number(o.items[o.d[dim]])){return o.items[o.d[dim]]*i.length}var d=dim.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",s=0;for(var a=0,l=i.length;a<l;a++){var j=i.eq(a);s+=j.is(":visible")?j[o.d[d]](true):0}return s}function ms_getParentSize($w,o,d){var isVisible=$w.is(":visible");if(isVisible){$w.hide()}var s=$w.parent()[o.d[d]]();if(isVisible){$w.show()}return s}function ms_getMaxDimension(o,a){return is_number(o[o.d["width"]])?o[o.d["width"]]:a}function ms_hasVariableSizes(i,o,dim){var s=false,v=false;for(var a=0,l=i.length;a<l;a++){var j=i.eq(a);var c=j.is(":visible")?j[o.d[dim]](true):0;if(s===false){s=c}else if(s!=c){v=true}if(s==0){v=true}}return v}function ms_getPaddingBorderMargin(i,o,d){return i[o.d["outer"+d]](true)-i[o.d[d.toLowerCase()]]()}function ms_getPercentage(s,o){if(is_percentage(o)){o=parseInt(o.slice(0,-1),10);if(!is_number(o)){return s}s*=o/100}return s}function cf_e(n,c,pf,ns,rd){if(!is_boolean(pf)){pf=true}if(!is_boolean(ns)){ns=true}if(!is_boolean(rd)){rd=false}if(pf){n=c.events.prefix+n}if(ns){n=n+"."+c.events.namespace}if(ns&&rd){n+=c.serialNumber}return n}function cf_c(n,c){return is_string(c.classnames[n])?c.classnames[n]:n}function cf_mapWrapperSizes(ws,o,p){if(!is_boolean(p)){p=true}var pad=o.usePadding&&p?o.padding:[0,0,0,0];var wra={};wra[o.d["width"]]=ws[0]+pad[1]+pad[3];wra[o.d["height"]]=ws[1]+pad[0]+pad[2];return wra}function cf_sortParams(vals,typs){var arr=[];for(var a=0,l1=vals.length;a<l1;a++){for(var b=0,l2=typs.length;b<l2;b++){if(typs[b].indexOf(typeof vals[a])>-1&&is_undefined(arr[b])){arr[b]=vals[a];break}}}return arr}function cf_getPadding(p){if(is_undefined(p)){return[0,0,0,0]}if(is_number(p)){return[p,p,p,p]}if(is_string(p)){p=p.split("px").join("").split("em").join("").split(" ")}if(!is_array(p)){return[0,0,0,0]}for(var i=0;i<4;i++){p[i]=parseInt(p[i],10)}switch(p.length){case 0:return[0,0,0,0];case 1:return[p[0],p[0],p[0],p[0]];case 2:return[p[0],p[1],p[0],p[1]];case 3:return[p[0],p[1],p[2],p[1]];default:return[p[0],p[1],p[2],p[3]]}}function cf_getAlignPadding(itm,o){var x=is_number(o[o.d["width"]])?Math.ceil(o[o.d["width"]]-ms_getTotalSize(itm,o,"width")):0;switch(o.align){case"left":return[0,x];case"right":return[x,0];case"center":default:return[Math.ceil(x/2),Math.floor(x/2)]}}function cf_getDimensions(o){var dm=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]];var dl=dm[0].length,dx=o.direction=="right"||o.direction=="left"?0:1;var dimensions={};for(var d=0;d<dl;d++){dimensions[dm[0][d]]=dm[dx][d]}return dimensions}function cf_getAdjust(x,o,a,$t){var v=x;if(is_function(a)){v=a.call($t,v)}else if(is_string(a)){var p=a.split("+"),m=a.split("-");if(m.length>p.length){var neg=true,sta=m[0],adj=m[1]}else{var neg=false,sta=p[0],adj=p[1]}switch(sta){case"even":v=x%2==1?x-1:x;break;case"odd":v=x%2==0?x-1:x;break;default:v=x;break}adj=parseInt(adj,10);if(is_number(adj)){if(neg){adj=-adj}v+=adj}}if(!is_number(v)||v<1){v=1}return v}function cf_getItemsAdjust(x,o,a,$t){return cf_getItemAdjustMinMax(cf_getAdjust(x,o,a,$t),o.items.visibleConf)}function cf_getItemAdjustMinMax(v,i){if(is_number(i.min)&&v<i.min){v=i.min}if(is_number(i.max)&&v>i.max){v=i.max}if(v<1){v=1}return v}function cf_getSynchArr(s){if(!is_array(s)){s=[[s]]}if(!is_array(s[0])){s=[s]}for(var j=0,l=s.length;j<l;j++){if(is_string(s[j][0])){s[j][0]=$(s[j][0])}if(!is_boolean(s[j][1])){s[j][1]=true}if(!is_boolean(s[j][2])){s[j][2]=true}if(!is_number(s[j][3])){s[j][3]=0}}return s}function cf_getKeyCode(k){if(k=="right"){return 39}if(k=="left"){return 37}if(k=="up"){return 38}if(k=="down"){return 40}return-1}function cf_setCookie(n,$c,c){if(n){var v=$c.triggerHandler(cf_e("currentPosition",c));$.fn.carouFredSel.cookie.set(n,v)}}function cf_getCookie(n){var c=$.fn.carouFredSel.cookie.get(n);return c==""?0:c}function in_mapCss($elem,props){var css={};for(var p=0,l=props.length;p<l;p++){css[props[p]]=$elem.css(props[p])}return css}function in_complementItems(obj,opt,itm,sta){if(!is_object(obj.visibleConf)){obj.visibleConf={}}if(!is_object(obj.sizesConf)){obj.sizesConf={}}if(obj.start==0&&is_number(sta)){obj.start=sta}if(is_object(obj.visible)){obj.visibleConf.min=obj.visible.min;obj.visibleConf.max=obj.visible.max;obj.visible=false}else if(is_string(obj.visible)){if(obj.visible=="variable"){obj.visibleConf.variable=true}else{obj.visibleConf.adjust=obj.visible}obj.visible=false}else if(is_function(obj.visible)){obj.visibleConf.adjust=obj.visible;obj.visible=false}if(!is_string(obj.filter)){obj.filter=itm.filter(":hidden").length>0?":visible":"*"}if(!obj[opt.d["width"]]){if(opt.responsive){debug(true,"Set a "+opt.d["width"]+" for the items!");obj[opt.d["width"]]=ms_getTrueLargestSize(itm,opt,"outerWidth")}else{obj[opt.d["width"]]=ms_hasVariableSizes(itm,opt,"outerWidth")?"variable":itm[opt.d["outerWidth"]](true)}}if(!obj[opt.d["height"]]){obj[opt.d["height"]]=ms_hasVariableSizes(itm,opt,"outerHeight")?"variable":itm[opt.d["outerHeight"]](true)}obj.sizesConf.width=obj.width;obj.sizesConf.height=obj.height;return obj}function in_complementVisibleItems(opt,avl){if(opt.items[opt.d["width"]]=="variable"){opt.items.visibleConf.variable=true}if(!opt.items.visibleConf.variable){if(is_number(opt[opt.d["width"]])){opt.items.visible=Math.floor(opt[opt.d["width"]]/opt.items[opt.d["width"]])}else{opt.items.visible=Math.floor(avl/opt.items[opt.d["width"]]);opt[opt.d["width"]]=opt.items.visible*opt.items[opt.d["width"]];if(!opt.items.visibleConf.adjust){opt.align=false}}if(opt.items.visible=="Infinity"||opt.items.visible<1){debug(true,'Not a valid number of visible items: Set to "variable".');opt.items.visibleConf.variable=true}}return opt}function in_complementPrimarySize(obj,opt,all){if(obj=="auto"){obj=ms_getTrueLargestSize(all,opt,"outerWidth")}return obj}function in_complementSecondarySize(obj,opt,all){if(obj=="auto"){obj=ms_getTrueLargestSize(all,opt,"outerHeight")}if(!obj){obj=opt.items[opt.d["height"]]}return obj}function in_getAlignPadding(o,all){var p=cf_getAlignPadding(gi_getCurrentItems(all,o),o);o.padding[o.d[1]]=p[1];o.padding[o.d[3]]=p[0];return o}function in_getResponsiveValues(o,all,avl){var visb=cf_getItemAdjustMinMax(Math.ceil(o[o.d["width"]]/o.items[o.d["width"]]),o.items.visibleConf);if(visb>all.length){visb=all.length}var newS=Math.floor(o[o.d["width"]]/visb);o.items.visible=visb;o.items[o.d["width"]]=newS;o[o.d["width"]]=visb*newS;return o}function bt_pauseOnHoverConfig(p){if(is_string(p)){var i=p.indexOf("immediate")>-1?true:false,r=p.indexOf("resume")>-1?true:false}else{var i=r=false}return[i,r]}function bt_mousesheelNumber(mw){return is_number(mw)?mw:null}function is_null(a){return a===null}function is_undefined(a){return is_null(a)||typeof a=="undefined"||a===""||a==="undefined"}function is_array(a){return a instanceof Array}function is_jquery(a){return a instanceof jQuery}function is_object(a){return(a instanceof Object||typeof a=="object")&&!is_null(a)&&!is_jquery(a)&&!is_array(a)&&!is_function(a)}function is_number(a){return(a instanceof Number||typeof a=="number")&&!isNaN(a)}function is_string(a){return(a instanceof String||typeof a=="string")&&!is_undefined(a)&&!is_true(a)&&!is_false(a)}function is_function(a){return a instanceof Function||typeof a=="function"}function is_boolean(a){return a instanceof Boolean||typeof a=="boolean"||is_true(a)||is_false(a)}function is_true(a){return a===true||a==="true"}function is_false(a){return a===false||a==="false"}function is_percentage(x){return is_string(x)&&x.slice(-1)=="%"}function getTime(){return(new Date).getTime()}function deprecated(o,n){debug(true,o+" is DEPRECATED, support for it will be removed. Use "+n+" instead.")}function debug(d,m){if(!is_undefined(window.console)&&!is_undefined(window.console.log)){if(is_object(d)){var s=" ("+d.selector+")";d=d.debug}else{var s=""}if(!d){return false}if(is_string(m)){m="carouFredSel"+s+": "+m}else{m=["carouFredSel"+s+":",m]}}return false}$.extend($.easing,{quadratic:function(t){var t2=t*t;return t*(-t2*t+4*t2-6*t+4)},cubic:function(t){return t*(4*t*t-9*t+6)},elastic:function(t){var t2=t*t;return t*(33*t2*t2-106*t2*t+126*t2-67*t+15)}})})(jQuery);
(function(){var f=!1,i,k=this;function l(a,c){var b=a.split("."),d=k;!(b[0]in d)&&d.execScript&&d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)!b.length&&void 0!==c?d[e]=c:d=d[e]?d[e]:d[e]={}}var m=Array.prototype,n=m.forEach?function(a,c,b){m.forEach.call(a,c,b)}:function(a,c,b){for(var d=a.length,e="string"==typeof a?a.split(""):a,g=0;g<d;g++)g in e&&c.call(b,e[g],g,a)};function q(a,c){this.c={};this.a=[];var b=arguments.length;if(1<b){if(b%2)throw Error("Uneven number of arguments");for(var d=0;d<b;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){var e;if(a instanceof q){r(a);d=a.a.concat();r(a);e=[];for(b=0;b<a.a.length;b++)e.push(a.c[a.a[b]])}else{var b=[],g=0;for(d in a)b[g++]=d;d=b;b=[];g=0;for(e in a)b[g++]=a[e];e=b}for(b=0;b<d.length;b++)this.set(d[b],e[b])}}q.prototype.f=0;q.prototype.p=0;function r(a){if(a.f!=a.a.length){for(var c=0,b=0;c<a.a.length;){var d=a.a[c];t(a.c,d)&&(a.a[b++]=d);c++}a.a.length=b}if(a.f!=a.a.length){for(var e={},b=c=0;c<a.a.length;)d=a.a[c],t(e,d)||(a.a[b++]=d,e[d]=1),c++;a.a.length=b}}q.prototype.get=function(a,c){return t(this.c,a)?this.c[a]:c};q.prototype.set=function(a,c){t(this.c,a)||(this.f++,this.a.push(a),this.p++);this.c[a]=c};function t(a,c){return Object.prototype.hasOwnProperty.call(a,c)}var u,v,w,x;function y(){return k.navigator?k.navigator.userAgent:null}x=w=v=u=f;var C;if(C=y()){var D=k.navigator;u=0==C.indexOf("Opera");v=!u&&-1!=C.indexOf("MSIE");w=!u&&-1!=C.indexOf("WebKit");x=!u&&!w&&"Gecko"==D.product}var E=v,F=x,G=w;var I;if(u&&k.opera){var J=k.opera.version;"function"==typeof J&&J()}else F?I=/rv\:([^\);]+)(\)|;)/:E?I=/MSIE\s+([^\);]+)(\)|;)/:G&&(I=/WebKit\/(\S+)/),I&&I.exec(y());function K(a,c){this.b=a||{e:"",prefix:"",host:"",scheme:""};this.h(c||{})}K.g=function(){return K.j?K.j:K.j=new K};i=K.prototype;i.h=function(a){this.d=new q(a)};i.o=function(){return this.d};i.k=function(a){this.b.e=a};i.n=function(){return this.b.e};i.l=function(a){this.b.prefix=a};function L(a,c,b,d){var e,g=RegExp(/\[\]$/);if(b instanceof Array)n(b,function(b,e){g.test(c)?d(c,b):L(a,c+"["+("object"===typeof b?e:"")+"]",b,d)});else if("object"===typeof b)for(e in b)L(a,c+"["+e+"]",b[e],d);else d(c,b)}i.i=function(a){var c=this.b.prefix+a;if(t(this.d.c,c))a=c;else if(!t(this.d.c,a))throw Error('The route "'+a+'" does not exist.');return this.d.get(a)};i.m=function(a,c,b){var d=this.i(a),e=c||{},g={},z;for(z in e)g[z]=e[z];var h="",s=!0,j="";n(d.tokens,function(b){if("text"===b[0])h=b[1]+h,s=f;else if("variable"===b[0]){var c=b[3]in d.defaults;if(f===s||!c||b[3]in e&&e[b[3]]!=d.defaults[b[3]]){if(b[3]in e){var c=e[b[3]],p=b[3];p in g&&delete g[p]}else if(c)c=d.defaults[b[3]];else{if(s)return;throw Error('The route "'+a+'" requires the parameter "'+b[3]+'".')}if(!(!0===c||f===c||""===c)||!s)p=encodeURIComponent(c).replace(/%2F/g,"/"),"null"===p&&null===c&&(p=""),h=b[1]+p+h;s=f}else c&&(b=b[3],b in g&&delete g[b])}else throw Error('The token type "'+b[0]+'" is not supported.')});""===h&&(h="/");n(d.hosttokens,function(a){var b;if("text"===a[0])j=a[1]+j;else if("variable"===a[0]){if(a[3]in e){b=e[a[3]];var c=a[3];c in g&&delete g[c]}else a[3]in d.defaults&&(b=d.defaults[a[3]]);j=a[1]+b+j}});h=this.b.e+h;"_scheme"in d.requirements&&this.b.scheme!=d.requirements._scheme?h=d.requirements._scheme+"://"+(j||this.b.host)+h:j&&this.b.host!==j?h=this.b.scheme+"://"+j+h:!0===b&&(h=this.b.scheme+"://"+this.b.host+h);var c=0,A;for(A in g)c++;if(0<c){var B,H=[];A=function(a,b){b="function"===typeof b?b():b;H.push(encodeURIComponent(a)+"="+encodeURIComponent(null===b?"":b))};for(B in g)L(this,B,g[B],A);h=h+"?"+H.join("&").replace(/%20/g,"+")}return h};l("fos.Router",K);l("fos.Router.setData",function(a){var c=K.g();c.k(a.base_url);c.h(a.routes);"prefix"in a&&c.l(a.prefix);c.b.host=a.host;c.b.scheme=a.scheme});K.getInstance=K.g;K.prototype.setRoutes=K.prototype.h;K.prototype.getRoutes=K.prototype.o;K.prototype.setBaseUrl=K.prototype.k;K.prototype.getBaseUrl=K.prototype.n;K.prototype.generate=K.prototype.m;K.prototype.setPrefix=K.prototype.l;K.prototype.getRoute=K.prototype.i;window.Routing=K.g()})();
var axs=window.axs||{};axs.dfp=function(){function createDomElement(element,id,className,text){var elem=document.createElement(element);elem.id=id||"";elem.className=className||"";elem.innerHTML=text||"";return elem}function createVideoElement(){var video=createDomElement("video","content_video","roadblock-ad video-js vjs-default-skin");video.autoPlay=true;video.width=640;video.height=360;return video}function createVideoContainer(video){var videoContainer=createDomElement("div","video_ad_container","lightbox-container");videoContainer.appendChild(video);return videoContainer}function createCloseVideoElement(videoElement,videoPlayer){var closeBtn=createDomElement("a","","close-btn",'<svg class="svg-icon--close "><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-icon-close"></use></svg>');if(videoElement.parentNode){videoElement.parentNode.appendChild(closeBtn);$(closeBtn).click(function(){$("#video_ad_container").remove();videoPlayer.player.ima.getAdsManager().destroy()})}}var dfpAdId="";return{initialize:function(adId,dfpSlot,dfpParams,adSize,sizeMapping,elementToAppend,extraClasses){var list=$(".scrollingList-entry-mobile");dfpAdId=dfpAdId||adId||gptadslots[gptadslots.length-1].b.d;var nextId=parseInt(dfpAdId.charAt(dfpAdId.length-1))+1;dfpAdId=dfpAdId.replace(/\d$/,nextId);var elem=document.createElement("div");elem.setAttribute("id",dfpAdId);elem.setAttribute("class",extraClasses);elementToAppend.after(elem);var idTimer=setInterval(function(){if(googletag&&googletag.sizeMapping){clearInterval(idTimer);var adMapping=googletag.sizeMapping().addSize([0,0],[320,50]).addSize([750,150],[728,90]).build();var slotIndex=gptadslots.length;gptadslots[slotIndex]=googletag.defineSlot(dfpSlot,adSize,dfpAdId).defineSizeMapping(adMapping).setTargeting("pos",[slotIndex]).setTargeting("loc",["atf"]).setCollapseEmptyDiv(true,true).addService(googletag.pubads());googletag.cmd.push(function(){googletag.display(dfpAdId)})}},500)},video_player:function(adTagUrl){if(typeof videojs==="undefined"||typeof google==="undefined"){return}var videoElement=createVideoElement();var videoContainer=createVideoContainer(videoElement);var body=document.getElementsByTagName("body")[0];body.insertBefore(videoContainer,body.childNodes[0]);this.player=videojs("content_video");this.options={id:"content_video",adTagUrl:adTagUrl};this.events=[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE];axs.dfp.video_player.prototype.init=function(){this.player.ima.initializeAdDisplayContainer();this.player.ima.requestAds();this.player.play()};axs.dfp.video_player.prototype.adsManagerLoadedCallback=function(){this.player.ima.addEventListener(google.ima.AdEvent.Type.LOADED,this.bind(this,this.onAdLoad));this.player.ima.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.bind(this,this.onAdComplete));this.player.ima.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.bind(this,this.onSkip));this.player.ima.start()};axs.dfp.video_player.prototype.getCurrentAd=function(){return this.player.ima.getAdsManager().getCurrentAd()};axs.dfp.video_player.prototype.onSkip=function(){this.onAdComplete()};axs.dfp.video_player.prototype.onAdLoad=function(event){document.getElementById("video_ad_container").style.display="block"};axs.dfp.video_player.prototype.onAdComplete=function(event){this.player.ima.resetIMA_();$("#video_ad_container").remove()};axs.dfp.video_player.prototype.bind=function(thisObj,fn){return function(){fn.apply(thisObj,arguments)}};this.player.ima(this.options,axs.dfp.video_player.prototype.bind(this,axs.dfp.video_player.prototype.adsManagerLoadedCallback));this.init();createCloseVideoElement(videoElement,this)}}}();
(function(window,videojs,undefined){"use strict";var VIDEO_EVENTS=videojs.getComponent("Html5").Events,cancelContentPlay=function(player){if(player.ads.cancelPlayTimeout){return}player.ads.cancelPlayTimeout=window.setTimeout(function(){player.ads.cancelPlayTimeout=null;if(!player.paused()){player.pause()}player.one("contentplayback",function(){if(player.paused()){player.play()}})},1)},getPlayerSnapshot=function(player){var tech=player.$(".vjs-tech"),tracks=player.remoteTextTracks?player.remoteTextTracks():[],track,i,suppressedTracks=[],snapshot={ended:player.ended(),currentSrc:player.currentSrc(),src:player.src(),currentTime:player.currentTime(),type:player.currentType()};if(tech){snapshot.nativePoster=tech.poster;snapshot.style=tech.getAttribute("style")}i=tracks.length;while(i--){track=tracks[i];suppressedTracks.push({track:track,mode:track.mode});track.mode="disabled"}snapshot.suppressedTracks=suppressedTracks;return snapshot},restorePlayerSnapshot=function(player,snapshot){var tech=player.$(".vjs-tech"),attempts=20,suppressedTracks=snapshot.suppressedTracks,trackSnapshot,restoreTracks=function(){var i=suppressedTracks.length;while(i--){trackSnapshot=suppressedTracks[i];trackSnapshot.track.mode=trackSnapshot.mode}},resume=function(){var ended=false,updateEnded=function(){ended=true};player.currentTime(snapshot.currentTime);if(!snapshot.ended){player.play()}else{player.ads.resumeEndedTimeout=window.setTimeout(function(){if(!ended){player.play()}player.off("ended",updateEnded);player.ads.resumeEndedTimeout=null},250);player.on("ended",updateEnded);player.on("dispose",function(){window.clearTimeout(player.ads.resumeEndedTimeout)})}},tryToResume=function(){player.off("contentcanplay",tryToResume);if(player.ads.tryToResumeTimeout_){player.clearTimeout(player.ads.tryToResumeTimeout_);player.ads.tryToResumeTimeout_=null}tech=player.el().querySelector(".vjs-tech");if(tech.readyState>1){return resume()}if(tech.seekable===undefined){return resume()}if(tech.seekable.length>0){return resume()}if(attempts--){window.setTimeout(tryToResume,50)}else{(function(){try{resume()}catch(e){videojs.log.warn("Failed to resume the content after an advertisement",e)}})()}},srcChanged;if(snapshot.nativePoster){tech.poster=snapshot.nativePoster}if("style"in snapshot){tech.setAttribute("style",snapshot.style||"")}srcChanged=player.src()!==snapshot.src||player.currentSrc()!==snapshot.currentSrc;if(srcChanged){player.one("contentloadedmetadata",restoreTracks);player.src({src:snapshot.currentSrc,type:snapshot.type});player.load();player.one("contentcanplay",tryToResume);player.ads.tryToResumeTimeout_=player.setTimeout(tryToResume,2e3)}else if(!player.ended()||!snapshot.ended){restoreTracks();player.play()}},removeNativePoster=function(player){var tech=player.$(".vjs-tech");if(tech){tech.removeAttribute("poster")}},defaults={timeout:5e3,prerollTimeout:100,postrollTimeout:100,debug:false},adFramework=function(options){var player=this;var settings=videojs.mergeOptions(defaults,options);var fsmHandler;(function(){var videoEvents=VIDEO_EVENTS.concat(["firstplay","loadedalldata"]);var returnTrue=function(){return true};var triggerEvent=function(type,event){event.isImmediatePropagationStopped=returnTrue;event.cancelBubble=true;event.isPropagationStopped=returnTrue;player.trigger({type:type+event.type,state:player.ads.state,originalEvent:event})};player.on(videoEvents,function redispatch(event){if(player.ads.state==="ad-playback"){triggerEvent("ad",event)}else if(player.ads.state==="content-playback"&&event.type==="ended"){triggerEvent("content",event)}else if(player.ads.state==="content-resuming"){if(player.ads.snapshot){if(player.currentSrc()!==player.ads.snapshot.currentSrc){if(event.type==="loadstart"){return}return triggerEvent("content",event)}else if(player.ads.snapshot.ended){if(event.type==="pause"||event.type==="ended"){player.addClass("vjs-has-started");return}return triggerEvent("content",event)}}if(event.type!=="playing"){triggerEvent("content",event)}}})})();player.on(["addurationchange","adcanplay"],function(){if(player.currentSrc()===player.ads.snapshot.currentSrc){return}player.play()});player.ads={state:"content-set",startLinearAdMode:function(){if(player.ads.state!=="ad-playback"){player.trigger("adstart")}},endLinearAdMode:function(){if(player.ads.state==="ad-playback"){player.trigger("adend")}},skipLinearAdMode:function(){if(player.ads.state!=="ad-playback"){player.trigger("adskip")}}};fsmHandler=function(event){var fsm={"content-set":{events:{adscanceled:function(){this.state="content-playback"},adsready:function(){this.state="ads-ready"},play:function(){this.state="ads-ready?";cancelContentPlay(player);removeNativePoster(player)},adserror:function(){this.state="content-playback"},adskip:function(){this.state="content-playback"}}},"ads-ready":{events:{play:function(){this.state="preroll?";cancelContentPlay(player)},adskip:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"preroll?":{enter:function(){player.addClass("vjs-ad-loading");player.ads.adTimeoutTimeout=window.setTimeout(function(){player.trigger("adtimeout")},settings.prerollTimeout);player.trigger("readyforpreroll")},leave:function(){window.clearTimeout(player.ads.adTimeoutTimeout);player.removeClass("vjs-ad-loading")},events:{play:function(){cancelContentPlay(player)},adstart:function(){this.state="ad-playback"},adskip:function(){this.state="content-playback"},adtimeout:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"ads-ready?":{enter:function(){player.addClass("vjs-ad-loading");player.ads.adTimeoutTimeout=window.setTimeout(function(){player.trigger("adtimeout")},settings.timeout)},leave:function(){window.clearTimeout(player.ads.adTimeoutTimeout);player.removeClass("vjs-ad-loading")},events:{play:function(){cancelContentPlay(player)},adscanceled:function(){this.state="content-playback"},adsready:function(){this.state="preroll?"},adskip:function(){this.state="content-playback"},adtimeout:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"ad-playback":{enter:function(){this.snapshot=getPlayerSnapshot(player);player.addClass("vjs-ad-playing");removeNativePoster(player);if(player.ads.cancelPlayTimeout){window.clearTimeout(player.ads.cancelPlayTimeout);player.ads.cancelPlayTimeout=null}},leave:function(){player.removeClass("vjs-ad-playing");restorePlayerSnapshot(player,this.snapshot);if(player.ads.triggerevent!=="adend"){player.trigger("adend")}},events:{adend:function(){this.state="content-resuming"},adserror:function(){this.state="content-resuming"}}},"content-resuming":{enter:function(){if(this.snapshot.ended){window.clearTimeout(player.ads._fireEndedTimeout);player.ads._fireEndedTimeout=window.setTimeout(function(){player.trigger("ended")},1e3)}},leave:function(){window.clearTimeout(player.ads._fireEndedTimeout)},events:{contentupdate:function(){this.state="content-set"},contentresumed:function(){this.state="content-playback"},playing:function(){this.state="content-playback"},ended:function(){this.state="content-playback"}}},"postroll?":{enter:function(){this.snapshot=getPlayerSnapshot(player);player.addClass("vjs-ad-loading");player.ads.adTimeoutTimeout=window.setTimeout(function(){player.trigger("adtimeout")},settings.postrollTimeout)},leave:function(){window.clearTimeout(player.ads.adTimeoutTimeout);player.removeClass("vjs-ad-loading")},events:{adstart:function(){this.state="ad-playback"},adskip:function(){this.state="content-resuming";window.setTimeout(function(){player.trigger("ended")},1)},adtimeout:function(){this.state="content-resuming";window.setTimeout(function(){player.trigger("ended")},1)},adserror:function(){this.state="content-resuming";window.setTimeout(function(){player.trigger("ended")},1)}}},"content-playback":{enter:function(){if(player.ads.cancelPlayTimeout){window.clearTimeout(player.ads.cancelPlayTimeout);player.ads.cancelPlayTimeout=null}player.trigger({type:"contentplayback",triggerevent:player.ads.triggerevent})},events:{adsready:function(){player.trigger("readyforpreroll")},adstart:function(){this.state="ad-playback"},contentupdate:function(){if(player.paused()){this.state="content-set"}else{this.state="ads-ready?"}},contentended:function(){this.state="postroll?"}}}};(function(state){var noop=function(){};((fsm[state].events||{})[event.type]||noop).apply(player.ads);if(state!==player.ads.state){player.ads.triggerevent=event.type;(fsm[state].leave||noop).apply(player.ads);(fsm[player.ads.state].enter||noop).apply(player.ads);if(settings.debug){videojs.log("ads",player.ads.triggerevent+" triggered: "+state+" -> "+player.ads.state)}}})(player.ads.state)};player.on(VIDEO_EVENTS.concat(["adtimeout","contentupdate","contentplaying","contentended","contentresumed","adsready","adserror","adscanceled","adstart","adend","adskip"]),fsmHandler);player.ads.contentSrc=player.currentSrc();(function(){var checkSrc=function(){var src;if(player.ads.state!=="ad-playback"){src=player.currentSrc();if(src!==player.ads.contentSrc){player.trigger({type:"contentupdate",oldValue:player.ads.contentSrc,newValue:src});player.ads.contentSrc=src}}};player.on("loadstart",checkSrc);window.setTimeout(checkSrc,1)})();if(!player.paused()){fsmHandler({type:"play"})}};videojs.plugin("ads",adFramework)})(window,videojs);
(function(vjs){"use strict";var extend=function(obj){var arg;var index;var key;for(index=1;index<arguments.length;index++){arg=arguments[index];for(key in arg){if(arg.hasOwnProperty(key)){obj[key]=arg[key]}}}return obj},ima_defaults={debug:false,timeout:5e3,prerollTimeout:100},imaPlugin=function(options,readyCallback){var player=this;player.ima.createAdContainer_=function(){vjsControls=player.getChild("controlBar");adContainerDiv=vjsControls.el().parentNode.appendChild(document.createElement("div"));adContainerDiv.id="ima-ad-container";adContainerDiv.style.width=player.width()+"px";adContainerDiv.style.height=player.height()+"px";adContainerDiv.addEventListener("mouseover",player.ima.showAdControls_,false);adContainerDiv.addEventListener("mouseout",player.ima.hideAdControls_,false);player.ima.createControls_();adDisplayContainer=new google.ima.AdDisplayContainer(adContainerDiv,contentPlayer)};player.ima.createControls_=function(){controlsDiv=document.createElement("div");controlsDiv.id="ima-controls-div";controlsDiv.style.width="100%";countdownDiv=document.createElement("div");countdownDiv.id="ima-countdown-div";countdownDiv.innerHTML="Advertisement";countdownDiv.style.display=showCountdown?"block":"none";seekBarDiv=document.createElement("div");seekBarDiv.id="ima-seek-bar-div";seekBarDiv.style.width="100%";progressDiv=document.createElement("div");progressDiv.id="ima-progress-div";playPauseDiv=document.createElement("div");playPauseDiv.id="ima-play-pause-div";playPauseDiv.className="ima-playing";playPauseDiv.addEventListener("click",player.ima.onAdPlayPauseClick_,false);muteDiv=document.createElement("div");muteDiv.id="ima-mute-div";muteDiv.className="ima-non-muted";muteDiv.addEventListener("click",player.ima.onAdMuteClick_,false);sliderDiv=document.createElement("div");sliderDiv.id="ima-slider-div";sliderDiv.addEventListener("mousedown",player.ima.onAdVolumeSliderMouseDown_,false);sliderLevelDiv=document.createElement("div");sliderLevelDiv.id="ima-slider-level-div";fullscreenDiv=document.createElement("div");fullscreenDiv.id="ima-fullscreen-div";fullscreenDiv.className="ima-non-fullscreen";fullscreenDiv.addEventListener("click",player.ima.onAdFullscreenClick_,false);adContainerDiv.appendChild(controlsDiv);controlsDiv.appendChild(countdownDiv);controlsDiv.appendChild(seekBarDiv);controlsDiv.appendChild(playPauseDiv);controlsDiv.appendChild(muteDiv);controlsDiv.appendChild(sliderDiv);controlsDiv.appendChild(fullscreenDiv);seekBarDiv.appendChild(progressDiv);sliderDiv.appendChild(sliderLevelDiv)};player.ima.initializeAdDisplayContainer=function(){adDisplayContainerInitialized=true;adDisplayContainer.initialize()};player.ima.requestAds=function(){if(!adDisplayContainerInitialized){adDisplayContainer.initialize()}var adsRequest=new google.ima.AdsRequest;adsRequest.adTagUrl=settings.adTagUrl;adsRequest.linearAdSlotWidth=player.width();adsRequest.linearAdSlotHeight=player.height();adsRequest.nonLinearAdSlotWidth=settings.nonLinearWidth||player.width();adsRequest.nonLinearAdSlotHeight=settings.nonLinearHeight||player.height()/3;adsLoader.requestAds(adsRequest)};player.ima.onAdsManagerLoaded_=function(adsManagerLoadedEvent){adsManager=adsManagerLoadedEvent.getAdsManager(contentPlayheadTracker,adsRenderingSettings);adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,player.ima.onAdError_);adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,player.ima.onAdBreakReady_);adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,player.ima.onContentPauseRequested_);adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,player.ima.onContentResumeRequested_);adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,player.ima.onAllAdsCompleted_);adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,player.ima.onAdLoaded_);adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,player.ima.onAdStarted_);adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,player.ima.onAdPlayPauseClick_);adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,player.ima.onAdComplete_);adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,player.ima.onAdComplete_);if(!autoPlayAdBreaks){try{adsManager.init(player.width(),player.height(),google.ima.ViewMode.NORMAL);adsManager.setVolume(player.muted()?0:player.volume())}catch(adError){player.ima.onAdError_(adError)}}player.trigger("adsready")};player.ima.start=function(){if(autoPlayAdBreaks){try{adsManager.init(player.width(),player.height(),google.ima.ViewMode.NORMAL);adsManager.setVolume(player.muted()?0:player.volume());adsManager.start()}catch(adError){player.ima.onAdError_(adError)}}};player.ima.onAdsLoaderError_=function(event){window.console.log("AdsLoader error: "+event.getError());if(adsManager){adsManager.destroy()}player.trigger("adserror")};player.ima.onAdError_=function(adErrorEvent){window.console.log("Ad error: "+adErrorEvent.getError());vjsControls.show();adsManager.destroy();adContainerDiv.style.display="none";player.trigger("adserror")};player.ima.onAdBreakReady_=function(adEvent){adBreakReadyListener(adEvent)};player.ima.playAdBreak=function(){if(!autoPlayAdBreaks){adsManager.start()}};player.ima.onContentPauseRequested_=function(adEvent){adsActive=true;adPlaying=true;player.off("ended",localContentEndedListener);if(adEvent.getAd().getAdPodInfo().getPodIndex()!=-1){player.ads.startLinearAdMode()}adContainerDiv.style.display="block";controlsDiv.style.display="block";vjsControls.hide();player.pause()};player.ima.onContentResumeRequested_=function(adEvent){adsActive=false;adPlaying=false;player.on("ended",localContentEndedListener);if(currentAd&&currentAd.isLinear()){adContainerDiv.style.display="none"}vjsControls.show();if(!currentAd){player.ads.endLinearAdMode()}else if(!contentComplete&&currentAd.getAdPodInfo().getPodIndex()!=-1){player.ads.endLinearAdMode()}countdownDiv.innerHTML=""};player.ima.onAllAdsCompleted_=function(adEvent){allAdsCompleted=true;if(contentComplete==true){for(var index in contentAndAdsEndedListeners){contentAndAdsEndedListeners[index]()}}};player.ima.onAdLoaded_=function(adEvent){if(!adEvent.getAd().isLinear()){player.play()}};player.ima.onAdStarted_=function(adEvent){currentAd=adEvent.getAd();if(currentAd.isLinear()){adTrackingTimer=setInterval(player.ima.onAdPlayheadTrackerInterval_,250);adContainerDiv.className=""}else{adContainerDiv.className="bumpable-ima-ad-container"}};player.ima.onAdComplete_=function(adEvent){if(currentAd.isLinear()){clearInterval(adTrackingTimer)}};player.ima.onAdPlayheadTrackerInterval_=function(){var remainingTime=adsManager.getRemainingTime();var duration=currentAd.getDuration();var currentTime=duration-remainingTime;currentTime=currentTime>0?currentTime:0;var isPod=false;var adPosition,totalAds;if(currentAd.getAdPodInfo()){isPod=true;adPosition=currentAd.getAdPodInfo().getAdPosition();totalAds=currentAd.getAdPodInfo().getTotalAds()}var remainingMinutes=Math.floor(remainingTime/60);var remainingSeconds=Math.floor(remainingTime%60);if(remainingSeconds.toString().length<2){remainingSeconds="0"+remainingSeconds}var podCount=": ";if(isPod){podCount=" ("+adPosition+" of "+totalAds+"): "}countdownDiv.innerHTML="Advertisement"+podCount+remainingMinutes+":"+remainingSeconds;var playProgressRatio=currentTime/duration;var playProgressPercent=playProgressRatio*100;progressDiv.style.width=playProgressPercent+"%"};player.ima.hideAdControls_=function(){playPauseDiv.style.display="none";muteDiv.style.display="none";fullscreenDiv.style.display="none";controlsDiv.style.height="14px"};player.ima.showAdControls_=function(){controlsDiv.style.height="37px";playPauseDiv.style.display="block";muteDiv.style.display="block";sliderDiv.style.display="block";fullscreenDiv.style.display="block"};player.ima.onAdPlayPauseClick_=function(){if(adPlaying){playPauseDiv.className="ima-paused";adsManager.pause();adPlaying=false}else{playPauseDiv.className="ima-playing";adsManager.resume();adPlaying=true}};player.ima.onAdMuteClick_=function(){if(adMuted){muteDiv.className="ima-non-muted";adsManager.setVolume(1);player.muted(false);adMuted=false;sliderLevelDiv.style.width=player.volume()*100+"%"}else{muteDiv.className="ima-muted";adsManager.setVolume(0);player.muted(true);adMuted=true;sliderLevelDiv.style.width="0%"}};player.ima.onAdVolumeSliderMouseDown_=function(){document.addEventListener("mouseup",player.ima.onMouseUp_,false);document.addEventListener("mousemove",player.ima.onMouseMove_,false)};player.ima.onMouseMove_=function(event){player.ima.setVolumeSlider_(event)};player.ima.onMouseUp_=function(event){player.ima.setVolumeSlider_(event);document.removeEventListener("mousemove",player.ima.onMouseMove_);document.removeEventListener("mouseup",player.ima.onMouseUp_)};player.ima.setVolumeSlider_=function(event){var percent=(event.clientX-sliderDiv.getBoundingClientRect().left)/sliderDiv.offsetWidth;percent*=100;percent=Math.min(Math.max(percent,0),100);sliderLevelDiv.style.width=percent+"%";player.volume(percent/100);adsManager.setVolume(percent/100);if(player.volume()==0){muteDiv.className="ima-muted";player.muted(true);adMuted=true}else{muteDiv.className="ima-non-muted";player.muted(false);adMuted=false}};player.ima.onAdFullscreenClick_=function(){if(player.isFullscreen()){player.exitFullscreen()}else{player.requestFullscreen()}};player.ima.onFullscreenChange_=function(){if(player.isFullscreen()){fullscreenDiv.className="ima-fullscreen";adContainerDiv.style.width=window.screen.width+"px";adContainerDiv.style.height=window.screen.height+"px";adsManager.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)}else{fullscreenDiv.className="ima-non-fullscreen";adContainerDiv.style.width=player.width()+"px";adContainerDiv.style.height=player.height()+"px";adsManager.resize(player.width(),player.height(),google.ima.ViewMode.NORMAL)}};player.ima.onVolumeChange_=function(){var newVolume=player.muted()?0:player.volume();if(adsManager){adsManager.setVolume(newVolume)}if(newVolume==0){adMuted=true;muteDiv.className="ima-muted";sliderLevelDiv.style.width="0%"}else{adMuted=false;muteDiv.className="ima-non-muted";sliderLevelDiv.style.width=newVolume*100+"%"}};player.ima.seekContentToZero_=function(){player.off("loadedmetadata",player.ima.seekContentToZero_);player.currentTime(0)};player.ima.playContentFromZero_=function(){player.off("loadedmetadata",player.ima.playContentFromZero_);player.currentTime(0);player.play()};player.ima.resetIMA_=function(){adsActive=false;adPlaying=false;player.on("ended",localContentEndedListener);if(currentAd&&currentAd.isLinear()){adContainerDiv.style.display="none"}vjsControls.show();player.ads.endLinearAdMode();if(adTrackingTimer){clearInterval(adTrackingTimer)}if(adsManager){adsManager.destroy();adsManager=null}if(adsLoader&&!contentComplete){adsLoader.contentComplete()}contentComplete=false;allAdsCompleted=false};player.ima.addEventListener=function(event,callback){if(adsManager){adsManager.addEventListener(event,callback)}};player.ima.getAdsManager=function(){return adsManager};player.ima.setContent=function(contentSrc,adTag,playOnLoad){player.ima.resetIMA_();settings.adTagUrl=adTag?adTag:settings.adTagUrl;if(!!player.currentSrc()){player.currentTime(0);player.pause()}if(contentSrc){player.src(contentSrc)}if(playOnLoad){player.on("loadedmetadata",player.ima.playContentFromZero_)}else{player.on("loadedmetadata",player.ima.seekContentToZero_)}};player.ima.addContentEndedListener=function(listener){contentEndedListeners.push(listener)};player.ima.addContentAndAdsEndedListener=function(listener){contentAndAdsEndedListeners.push(listener)};player.ima.setAdBreakReadyListener=function(listener){adBreakReadyListener=listener};player.ima.pauseAd=function(){if(adsActive&&adPlaying){playPauseDiv.className="ima-paused";adsManager.pause();adPlaying=false}};player.ima.resumeAd=function(){if(adsActive&&!adPlaying){playPauseDiv.className="ima-playing";adsManager.resume();adPlaying=true}};player.ima.setUpPlayerIntervals_=function(){updateTimeIntervalHandle=setInterval(player.ima.updateCurrentTime,seekCheckInterval);seekCheckIntervalHandle=setInterval(player.ima.checkForSeeking_,seekCheckInterval)};player.ima.updateCurrentTime=function(){if(!contentPlayheadTracker.seeking){contentPlayheadTracker.currentTime=player.currentTime()}};player.ima.checkForSeeking_=function(){var tempCurrentTime=player.currentTime();var diff=(tempCurrentTime-contentPlayheadTracker.previousTime)*1e3;if(Math.abs(diff)>seekCheckInterval+seekThreshold){contentPlayheadTracker.seeking=true}else{contentPlayheadTracker.seeking=false}contentPlayheadTracker.previousTime=player.currentTime()};player.ima.setShowCountdown=function(showCountdownIn){showCountdown=showCountdownIn;countdownDiv.style.display=showCountdown?"block":"none"};var VERSION="0.2.0";var settings;var contentPlayer;var showCountdown;var autoPlayAdBreaks;var vjsControls;var adContainerDiv;var controlsDiv;var countdownDiv;var seekBarDiv;var progressDiv;var playPauseDiv;var muteDiv;var sliderDiv;var sliderLevelDiv;var fullscreenDiv;var adDisplayContainer;var adDisplayContainerInitialized=false;var adsLoader;var adsManager;var adsRenderingSettings=null;var adTagUrl;var currentAd;var contentTrackingTimer;var adTrackingTimer;var adsActive=false;var adPlaying=false;var adMuted=false;var contentComplete=false;var allAdsCompleted=false;var updateTimeIntervalHandle;var seekCheckIntervalHandle;var seekCheckInterval=1e3;var seekThreshold=100;var contentPlayheadTracker={currentTime:0,previousTime:0,seeking:false,duration:0};var adPlayheadTracker={currentTime:0,duration:0,isPod:false,adPosition:0,totalAds:0};var contentEndedListeners=[];var contentAndAdsEndedListeners=[];var adBreakReadyListener=undefined;var localContentEndedListener=function(){if(adsLoader&&!contentComplete){adsLoader.contentComplete();contentComplete=true}for(var index in contentEndedListeners){contentEndedListeners[index]()}if(allAdsCompleted){for(var index in contentAndAdsEndedListeners){contentAndAdsEndedListeners[index]()}}clearInterval(updateTimeIntervalHandle);clearInterval(seekCheckIntervalHandle);player.one("play",player.ima.setUpPlayerIntervals_)};settings=extend({},ima_defaults,options||{});if(!settings["id"]){window.console.log("Error: must provide id of video.js div");return}contentPlayer=document.getElementById(settings["id"]+"_html5_api");showCountdown=true;if(settings["showCountdown"]==false){showCountdown=false}autoPlayAdBreaks=true;if(settings["autoPlayAdBreaks"]==false){autoPlayAdBreaks=false}player.one("play",player.ima.setUpPlayerIntervals_);player.on("ended",localContentEndedListener);var contrib_ads_defaults={debug:settings.debug,timeout:settings.timeout,prerollTimeout:settings.prerollTimeout};var ads_plugin_settings=extend({},contrib_ads_defaults,options["contribAdsSettings"]||{});player.ads(ads_plugin_settings);adsRenderingSettings=new google.ima.AdsRenderingSettings;adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=true;if(settings["adsRenderingSettings"]){for(var setting in settings["adsRenderingSettings"]){adsRenderingSettings[setting]=settings["adsRenderingSettings"][setting]}}if(settings["locale"]){google.ima.settings.setLocale(settings["locale"])}player.ima.createAdContainer_();adsLoader=new google.ima.AdsLoader(adDisplayContainer);adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED);if(settings.vpaidAllowed==false){adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED)}if(settings.vpaidMode){adsLoader.getSettings().setVpaidMode(settings.vpaidMode)}if(settings.locale){adsLoader.getSettings().setLocale(settings.locale)}if(settings.numRedirects){adsLoader.getSettings().setNumRedirects(settings.numRedirects)}adsLoader.getSettings().setPlayerType("videojs-ima");adsLoader.getSettings().setPlayerVersion(VERSION);adsLoader.getSettings().setAutoPlayAdBreaks(autoPlayAdBreaks);adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,player.ima.onAdsManagerLoaded_,false);adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,player.ima.onAdsLoaderError_,false);if(!readyCallback){readyCallback=player.ima.start}player.on("readyforpreroll",readyCallback);player.on("fullscreenchange",player.ima.onFullscreenChange_);player.on("volumechange",player.ima.onVolumeChange_)};videojs.plugin("ima",imaPlugin)})(window.videojs);>lv      XX=gX   :    :http://dc1tv648rdvbu.cloudfront.net/js/cd4c4b5.js?3.0.350 request-method GET response-head HTTP/1.1 200 OK
Content-Type: application/javascript
Content-Length: 593916
Date: Wed, 01 Feb 2017 01:28:33 GMT
Last-Modified: Wed, 01 Feb 2017 01:26:14 GMT
Etag: "ec639359a3b168f8ad1ce8ecdf264f24"
x-amz-meta-s3cmd-attrs: uid:997/gname:jenkins/uname:jenkins/gid:995/mode:33188/mtime:1485911732/atime:1485911913/md5:ec639359a3b168f8ad1ce8ecdf264f24/ctime:1485911732
Accept-Ranges: bytes
Server: AmazonS3
Age: 27739
X-Cache: Hit from cloudfront
Via: 1.1 1b560ac8d85778ec3bf92ca7a40d464a.cloudfront.net (CloudFront)
X-Amz-Cf-Id: 7i6-NzThw_YCVxYscezBZea7OWPLaHZG19OxQbU-fIoCRG7MMhnvWg==
 uncompressed-len 0  	