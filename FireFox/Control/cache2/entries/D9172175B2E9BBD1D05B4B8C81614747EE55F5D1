/**
 * Ads.js - Mail.ru external ads
 * Release date: 9.12.2016
 * Version: 1.0.6
 */
(function(d,f,A){var w;w={l:function(d){return f.getElementById(d)},a:function(d,f,p){d.addEventListener?d.addEventListener(f,p,!1):d.attachEvent&&d.attachEvent("on"+f,p)},b:function(d,f,p){d.removeEventListener?d.removeEventListener(f,p,!1):d.detachEvent&&d.detachEvent("on"+f,p)},m:function(d){var f=0,p;for(p in d)d.hasOwnProperty(p)&&f++;return f}};(function(B,m){function p(){this.push=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];try{b&&(b.iframeMode&&"boolean"===typeof b.iframeMode&&
(W=!0),b.onAdsLoaded&&"function"===typeof b.onAdsLoaded&&(k.onAdsLoaded=b.onAdsLoaded),b.onAdsRefreshed&&"function"===typeof b.onAdsRefreshed&&(k.onAdsRefreshed=b.onAdsRefreshed),b.onAdsClicked&&"function"===typeof b.onAdsClicked&&(k.onAdsClicked=b.onAdsClicked),b.onAdsClosed&&"function"===typeof b.onAdsClosed&&(k.onAdsClosed=b.onAdsClosed),b.onNoAds&&"function"===typeof b.onNoAds&&(k.onNoAds=b.onNoAds),b.preventDefaultRendering&&"boolean"===typeof b.preventDefaultRendering&&(X=!0)),Y()}catch(c){}}};
m.a(d,"load",Z);m.a(d,"orientationchange",r);m.a(d,"resize",r);m.a(f,"mrg-click",aa);m.a(f,"mrg-close",ba)}function Y(){C=f.querySelectorAll("ins.mrg-tag");for(var a,b=0,c=C.length;b<c;b++)a=C[b],a.getAttribute("data-ad-status")||(a.id=A+"_"+a.getAttribute("data-ad-slot")+"_"+(new Date).getTime(),a.setAttribute("data-ad-status","pending"),W?x(a):H(a))}function H(a){var b;a?(b=a,I.push(a)):b=I&&I[0];b&&(a=b&&b.getAttribute("data-ad-slot"),b=J(b,"ad-query")||"",D||(clearTimeout(D),D=setTimeout(O,3E3),
u([a],b)))}function O(){clearTimeout(D);P.warn("Seems to be connection problems")}function x(a){var b,c,e,f;b=a&&a.getAttribute("data-ad-slot");f=J(a,"ad-query")||"";c=w("?"+f);f=f.replace("udid=",(/(iPad|iPhone|iPod)/g.test(navigator.userAgent)?"idfa":c&&0<=c.indexOf("-")?"advertising_id":"sha1_android_id")+"=");e=("http:"===d.location.protocol?"http:":"https:")+"//ad.mail.ru/mobile/"+b+"/?"+f;(function(a,b){ja(e,function(c){c?(c={html:c,slot:b},E(c,a),k.onAdsLoaded&&k.onAdsLoaded(c),a.setAttribute("data-ad-status",
"ready")):(k.onNoAds&&k.onNoAds({slot:b,el:a}),a.setAttribute("data-ad-status","empty"))})})(a,b)}function u(a,b){var c=b;T.length&&(c="last_shown_ids="+T.join(",")+"&"+b);var e=("http:"===d.location.protocol?"http:":"https:")+"//ad.mail.ru/adq/?callback="+ca+("&q="+a.join("&q="))+"&"+c+"&_="+Math.round(1E9*Math.random());(function(a){ka(e,function(b){a:{if(k.onAdsLoaded&&"function"===typeof k.onAdsLoaded&&(k.onAdsLoaded(b),X))break a;if((!b||b&&!b.length)&&k.onNoAds&&"function"===typeof k.onNoAds)k.onNoAds();
for(var c=b.length-1;0<=c;c--)if(b[c].html&&/\S/.test(b[c].html)||!k.onNoAds||"function"!==typeof k.onNoAds){var d=E(b[c],a);d&&T.push(d.replace("b",""));a.setAttribute("data-ad-status","ready")}else k.onNoAds({slot:b[c].slot,el:a}),a.setAttribute("data-ad-status","empty");I.shift();clearTimeout(D);D=0;H()}})})(I[0])}function E(a,b){var c=new RegExp(da,"img"),d=f.write,e=a.html,g;b.innerHTML=e;e=K(b,e);if(g=b.querySelector(".trg-b-standard.floating")){if(e=L(b))return b.innerHTML="",!1;y(g);l=b;h(b);
z(b)}else if(g=b.querySelector(".trg-b-standard"))b.innerHTML="",c=document.createElement("iframe"),c.style.width="100%",c.style.height="0",c.style.border="none",c.marginWidth=c.marginHeight="0",b.appendChild(c),c.contentWindow.document.open(),c.contentWindow.document.write(e),c.contentWindow.document.close(),c.style.transition=Q.transition,c.style.webkitTransition=Q.webkitTransition,c.style.height=c.contentWindow.document.body.scrollHeight+"px";else try{M=e.match(c),f.write=function(){},M&&R(),f.write=
d}catch(k){P.warn("Can't evaluate script")}if(g&&g.id)return g.id}function K(a,b){var c;c=a.querySelector(".trg-b-standard");if(!c)return b;var d=[],e=a.querySelectorAll(".mailru-visibility-check-counter");(c=c&&c.getAttribute("data-counter"))&&d.push(c);for(c=e.length-1;0<=c;c--){var f=e[c].getAttribute("data-counter");f&&d.push(f)}b=b.replace("data-counter","data-counter-blocker");a.innerHTML=b;if(d.length)try{B.j({h:a,o:d})}catch(g){P.log(g)}return b}function L(a){var b=f.location.href+"_"+a.id.replace(A,
"");a="object"===typeof localStorage&&localStorage.setItem?localStorage.getItem(b.toString()):null;a=(new Date).getTime()-(a||0);if(6E4<=a)return!1;setTimeout(function(){U(b)},6E4-a);return!0}function y(a){if(S=a.className.split("timeout_")[1])S=parseInt(S.split(" ")[0],10),ea=setTimeout(function(){var a=l.id.replace(A,"");if(k.onAdsRefreshed&&"function"===typeof k.onAdsRefreshed)k.onAdsRefreshed(a);u([a])},1E3*S)}function h(a){if(a&&a.parentNode){var b=a.innerHTML;a.innerHTML="";a.parentNode.removeChild(a);
f.getElementsByTagName("body")[0].insertBefore(a,f.getElementsByTagName("body")[0].firstChild);var c=document.createElement("iframe");c.style.width=c.style.height="100%";c.marginWidth=c.marginHeight="0";c.scrolling="no";a.appendChild(c);c.contentWindow.document.open();c.contentWindow.document.write(b);c.contentWindow.document.close();a.style.height=a.clientHeight+"px";a.style.background="#fff";n();a.appendChild(N());a.querySelector(".standard_320x50")&&(N().style.right="initial",N().style.marginLeft=
"130px");if(fa=0===a.offsetTop)a.style.bottom="auto",a.style.position="absolute";m.a(d,"touchstart",F);m.a(d,"touchmove",F);m.a(d,"scroll",v);m.a(d,"touchend",q)}}function n(){for(var a in Q)l.style[a]=Q[a]}function r(a,b){for(var c,d=C.length-1;0<=d;d--)if(C[d]!==l&&(c=C[d].getElementsByTagName("iframe")[0])){try{b=frameElement.contentWindow.document?!0:!1}catch(e){b=!1}b&&(a=c.getClientRects()[0].height,c.style.height="0",function(b){setTimeout(function(){try{b.style.height=b.contentWindow.document.body.scrollHeight+
"px"}catch(c){b.style.height=a+"px"}},10)}(c))}q()}function q(){clearTimeout(G);var a=la(),b=l&&l.firstChild,c=1/a,e=100/c;if(b){if(1<a||fa){l.style.position="absolute";l.style.top="0";l.style.left="0";l.style.left=f.body.scrollLeft*a+"px";l.style.width=d.innerWidth*a+"px";l.style.zoom=1/a;var g=f.documentElement,h=(d.pageYOffset||g.scrollTop)-(g.clientTop||0);l.style.left=Math.floor(((d.pageXOffset||g.scrollLeft)-(g.clientLeft||0))*a+d.innerWidth*a-l.scrollWidth/a)+"px";l.style.top=Math.floor(h*
a+d.innerHeight*a-50)+"px";a=(e-100)/2;b.setAttribute("style",ma({scale:c,translateX:"-"+a+"%",translateY:"-"+a+"%"})+"; width: "+e+"%; height: "+50/c+"px;border:none");G=setTimeout(function(){q()},300)}else b.hasAttribute("style")&&b.removeAttribute("style"),b.style.border="none",b.style.width=b.style.height="100%",n();l?(l.style.height="48px",l.style.opacity=1):V()}}function F(a,b){a=a||d.event;(b=a.target||a.srcElement)&&!l.contains(b)&&(clearTimeout(G),e())}function v(){e();clearTimeout(G);G=
setTimeout(q,1E3)}function z(a){a.style.borderTop="1px solid #AAA";a.style.boxShadow="0px 0px 5px 0px rgba(0, 0, 0, 0.3)"}function N(){t||(t=new Image,t.src="//r.mradx.net/img/DC/AADF4A.png",t.style.position="absolute",t.style.top="-15px",t.style.right="0",t.style.width="25px",t.style.padding="5px",m.a(t,"click",g));return t}function g(){V();clearTimeout(ea);clearTimeout(G);e(!0);var a=l.id.replace(A,""),b=f.location.href+"_"+a;U(b);clearInterval(ga);ga=setInterval(function(){U(b)},6E4);if(k.onAdsClosed&&
"function"===typeof k.onAdsClosed)k.onAdsClosed({slot:a})}function e(a){l?(l.style.height="0px",l.style.opacity=0,a&&function(a){setTimeout(function(){try{a.parentNode.removeChild(a),l=null}catch(c){}},1E3)}(l)):V()}function aa(a){if(a.target&&(a=a.target,k.onAdsClicked&&"function"===typeof k.onAdsClicked))k.onAdsClicked({A:J(a,"ad-slot"),link:J(a,"ad-link")})}function ba(a){if(a.target&&(a=a.target,k.onAdsClosed&&"function"===typeof k.onAdsClosed))k.onAdsClosed({slot:J(a,"ad-slot")})}function Z(){Y();
q()}function V(){m.b(d,"load",Z);m.b(d,"touchstart",F);m.b(d,"touchmove",F);m.b(d,"scroll",v);m.b(d,"touchend",q);m.b(d,"orientationchange",r);m.b(d,"resize",r);m.b(f,"mrg-click",aa);m.b(f,"mrg-close",ba)}function w(a){var b;b="udid".replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?&]"+b+"=([^&#]*)")).exec(a);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))}function ma(a){a=a||{};var b="",c;for(c in a)b+=c+"("+a[c]+") ";b+="translateZ(0)";return"-webkit-transform: "+b+
"; -moz-transform: "+b+"; transform: "+b}function ka(a,b){d[ca]=function(a){b(a)};var c=f.createElement("script");c.src=a;f.getElementsByTagName("head")[0].appendChild(c)}function J(a,b){if(a)return a.getAttribute("data-"+b);P.warn("No element to get attribute");return null}function R(){if(M&&M.length){var a=M.shift(),b=a.match(new RegExp(da,"im"))[1],c=/<script[^>]+src=(\"(.*?)\"|\'(.*?)\'|(.*?))>/gi.exec(a);(c=c&&(c[4]||c[3]||c[2]||""))?-1<a.indexOf("async")?(ha(c),R()):ha(c,R):(eval("try{"+b+"}catch(e){}"),
R())}}function na(){var a;try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(c){a=!1}}a||"undefined"===typeof XMLHttpRequest||(a=new XMLHttpRequest);return a}function ja(a,b){var c=na();c.open("GET",a,!0);c.onreadystatechange=function(){4===c.readyState&&200===c.status&&b(c.responseText)};c.send(null)}function ha(a,b){var c=f.createElement("script"),d;c.setAttribute("src",a);b&&(c.onreadystatechange=c.onload=function(){d||b();d=!0});try{f.getElementsByTagName("head")[0].appendChild(c)}catch(e){}}
function la(){var a=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),b,c=90===Math.abs(d.orientation);320===d.screen.width?b=c?480:320:b=d.screen[c?"height":"width"];return b/(a?d.innerWidth:d[c?"innerHeight":"innerWidth"])}function U(a){var b=(new Date).getTime();"object"===typeof localStorage&&localStorage.setItem&&localStorage.setItem(a.toString(),b.toString())}var P=d.console||{log:function(){}};if("[object Object]"!==Object.prototype.toString.call(d.s)){var ia,C=[],k={},I=[],X=!1,W=!1,ca=A+(new Date).getTime(),
T=[],D=0,Q={position:"fixed",width:"100%",zoom:1,top:"auto",left:"auto",bottom:"0",textAlign:"center",zIndex:"2147483647",transition:"opacity .3s,height .3s",webkitTransition:"opacity .3s,height .3s"},l,S,ea,G,ga,fa,t;ia=d.MRGtag;d.MRGtag=new p;d.MRGtag.push.apply(d.MRGtag,ia);var da="(?:<script.*?>)((\n|\r|.)*?)(?:\x3c/script>)",M}})(function(B){function m(){y=!0;x(!0)}function p(){y=!1}function w(){f.hidden?y=!1:m()}function H(){x()}function O(){x()}function x(g){for(var e in h)h[e]&&50<=K(h[e].g)&&
E()&&!h[e].t?function(e){h[e].t=setTimeout(function(){try{var g,n;if(!F(e))u(e);else if(h[e])if(g=h[e].g,E())if(50>K(g))u(e,!0);else{for(n=h[e].i.length-1;0<=n;n--)(new Image).src=h[e].i[n];u(e);N(h)||(z(d,"resize",O),z(d,"scroll",H),r&&z(f,r,w),z(d,"focus",m),z(d,"blur",p),clearTimeout(q),L=!1)}else u(e,!0)}catch(v){}},1E3)}(e):h[e]&&50>K(h[e].g)?h[e].t&&(clearTimeout(h[e].t),delete h[e].t):h[e]&&!E()?h[e].t&&(clearTimeout(h[e].t),delete h[e].t,clearTimeout(q),g=!1):h[e]||u(e);g&&(clearTimeout(q),
q=setTimeout(function(){x(!0)},300))}function u(d,e){if(d&&h[d])clearTimeout(h[d].t),h[d].t=null,e||(h[d].g=null,delete h[d]);else{clearTimeout(q);q=null;for(var f in h)h[f].t&&u(f,!0)}}function E(){r||"function"!==typeof f.hasFocus||(y=f.hasFocus());return y}function K(g){var e={};e.f=e.c=Infinity;!isNaN(f.body.clientWidth)&&0<f.body.clientWidth&&(e.f=f.body.clientWidth);!isNaN(f.body.clientHeight)&&0<f.body.clientHeight&&(e.c=f.body.clientHeight);n&&n.clientWidth&&!isNaN(n.clientWidth)&&(e.f=n.clientWidth);
n&&n.clientHeight&&!isNaN(n.clientHeight)&&(e.c=n.clientHeight);d.innerWidth&&!isNaN(d.innerWidth)&&(e.f=Math.min(e.f,d.innerWidth));d.innerHeight&&!isNaN(d.innerHeight)&&(e.c=Math.min(e.c,d.innerHeight));if(Infinity===e.c||Infinity===e.c)e={E:":-("};else{g=g.getClientRects()[0];if(!g)return e={p:0};e.t=g.top;e.u=g.bottom;e.w=g.left;e.r=g.right;e=0>g.bottom||0>g.right||g.top>e.clientHeight||g.left>e.clientWidth?0:Math.round((Math.floor(Math.min(e.f,g.right))-Math.ceil(Math.max(0,g.left)))*(Math.floor(Math.min(e.c,
g.bottom))-Math.ceil(Math.max(0,g.top)))/((g.right-g.left)*(g.bottom-g.top))*100)}return e}var L=!1,y=!0,h={},n=f.documentElement,r=f.mozVisibilityState?"mozvisibilitychange":f.webkitVisibilityState?"webkitvisibilitychange":f.visibilityState?"visibilitychange":"",q,F=B.l,v=B.a,z=B.b,N=B.m;return{j:function(g,e){g.h.id||(e=A+(new Date).getTime(),g.h.id=e);e=g.h.id;h[e]||(h[e]={g:g.h,i:g.o});L||(v(d,"resize",O),v(d,"scroll",H),r?v(f,r,w):(v(d,"blur",p),v(d,"focus",m)),L=!0);x(!0)},v:h}}(w),w)})(window,
document,"mailru_ad");
/öR˘“      XÅ\ªXÅ\ª=Y}XÅj«   &    :http://ad.mail.ru/static/ads-async.js request-method GET response-head HTTP/1.1 200 OK
Server: nginx
Date: Fri, 20 Jan 2017 00:41:28 GMT
Content-Type: application/javascript
Content-Length: 12413
Last-Modified: Fri, 09 Dec 2016 09:56:33 GMT
Etag: "584a7fd1-307d"
Expires: Fri, 20 Jan 2017 01:41:28 GMT
Cache-Control: max-age=3600
Accept-Ranges: bytes
 uncompressed-len 0   0}