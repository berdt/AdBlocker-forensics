webpackJsonp([13],{0:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var s=i(10),o=n(s),a=i(6),r=n(a),l=i(45),c=n(l),h=i(110),u=n(h),p=i(99),d=n(p);new(o["default"].extend({id:"index",bindings:{".js-item-load-more":d["default"],".js-topstories":u["default"]},initialize:function(){this._super("initialize"),this._initAppBanner()},_initAppBanner:function(){r["default"].needsAppBanner()&&new c["default"]}}))},3:function(t,e,i){(function(t,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=s(o);e["default"]=a["default"].extend({$el:null,delayIds:null,initialize:function(t){this._super("initialize",t),this.$el=t},$:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){return t(e,this.$el)}),delay:function(t,e){this.delayIds=this.delayIds||[];var i=n.delay(t,e);return this.delayIds.push(i),i},disposeDelays:function(){this.delayIds&&n.each(this.delayIds,function(t){clearTimeout(t)})},dispose:function(){this.stopListening(),this.$el&&this.$el.off(),this.disposeDelays()}})}).call(e,i(1),i(2))},6:function(t,e,i){(function(t,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=s(o);e["default"]=new(a["default"].extend({getEnviroment:function(){return ENV},getDomain:function(){return DOMAIN},isDevelopment:function(){return"development"==DOMAIN},getNavHeight:function(){return t("#nav").height()},breakpoint:function(e){var i=arguments.length<=1||void 0===arguments[1]?"min":arguments[1],n=t(window).width(),s={player:{jwplayerKey:"qCDg+b0uNBp1mrwBNulSY8LswmsEUv2VjGlV1Q==",defaults:{title:"NOS",abouttext:"NOS Player",aboutlink:"http://www.nos.nl/",skin:{url:"/js/lib/jwplayer/skins/nos.css",name:"nos"},flashplayer:"/js/lib/jwplayer/jwplayer.flash.swf"}},alert:{wait:2e4,url:"/s/alert.json"},liveblog:{wait:2e4},appSettings:{NOS:{title:"NOS App",icon:"/icon57.png"},Teletekst:{title:"NOS Teletekst",icon:"/img/icons/teletekst/teletekst_57.png"},Nieuwsuur:{title:"Nieuwsuur",icon:"/img/icons/nieuwsuur/nieuwsuur_57.png"},navFixed:!1},breakpoints:{mobile:300,"mobile-large":450,"tablet-small":600,tablet:760,"tablet-large":900,desktop:1100,xl:1400},search:{endpoint:"https://search.enrise.com/nos.nl/search"},tracker:{comscore:{defaults:{potag1:"nosportal",potag2:"nosportal",potag3:"nos",potag4:"nos",potag5:"omroepportal",potag6:"geen",potag7:"geen",potag8:"site",potag9:"site",ns_type:"hidden"}}},os2016:{event_name:"os2016",base_url:"/rio2016",live:{url:"/rio2016/live",wait:null},schedule:{updateWait:null,timerWait:null},liveblog:{base_url:"/rio2016/liveblog/",ticker_size:5,ticker_endpoint:"/rio2016/liveblog/ticker.json"},videos:{base_url:"/rio2016/video/"}},ps2016:{event_name:"ps2016",base_url:"/ps2016",live:{url:"/ps2016/live",wait:null},schedule:{updateWait:null,timerWait:null},liveblog:{base_url:"/ps2016/liveblog/"},videos:{base_url:"/ps2016/video/"}}}.breakpoints[e];return"min"===i?s>n:n>s},getUrlParams:function(){var t=window.location.href,e=t.split("?")[1];return e?n.object(n.map(e.split("&"),function(t){return t.split("=")})):void 0},getAnchorFromUrl:function(t){var e=t.lastIndexOf("#");if(-1!==e){var i=t.slice(e+1).split("?");return i[0]}return!1},getHtml:function(e){return t.ajax(n.extend({type:"GET",beforeSend:function(t){t.overrideMimeType("text/html; charset=utf-8")},dataType:"html"},this._ajaxOptions(e)))},getJson:function(e){return t.ajax(n.extend({type:"GET",datatype:"json"},this._ajaxOptions(e)))},needsAppBanner:function(){var t=navigator.userAgent;return!(null===t.match(/(Android|Windows Phone)/i)||!this.breakpoint("tablet","min"))},isInternetExplorer:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var i=t.indexOf("Trident/");if(i>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var s=t.indexOf("Edge/");return s>0?parseInt(t.substring(s+5,t.indexOf(".",s)),10):!1},scrollToY:function(e){t("body,html").animate({scrollTop:Math.round(e)},300)},_ajaxOptions:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=e.url;return e.bust&&(i=this._extendUrl(i,this.cacheBust(e.bust_time)),delete e.bust,delete e.bust_time),n.isUndefined(e.ajax)||(i=this._extendUrl(i,t.param({ajax:e.ajax.toString()}))),e.skip_cookie&&(i=this._extendUrl(i,"npo_cc_skip_wall=true")),e.url=i,e},_extendUrl:function(t,e){return""+t+(t.match(/\?/)?"&":"?")+e},cacheBust:function(){var e=arguments.length<=0||void 0===arguments[0]?6e4:arguments[0],i=(new Date).getTime(),n=Math.round(i/e)*e;return t.param({t:n})}}))}).call(e,i(1),i(2))},7:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(5),o=n(s);e["default"]=new(o["default"].extend({config:null,initialize:function(){this.config={player:{jwplayerKey:"qCDg+b0uNBp1mrwBNulSY8LswmsEUv2VjGlV1Q==",defaults:{title:"NOS",abouttext:"NOS Player",aboutlink:"http://www.nos.nl/",skin:{url:"/js/lib/jwplayer/skins/nos.css",name:"nos"},flashplayer:"/js/lib/jwplayer/jwplayer.flash.swf"}},alert:{wait:2e4,url:"/s/alert.json"},liveblog:{wait:2e4},appSettings:{NOS:{title:"NOS App",icon:"/icon57.png"},Teletekst:{title:"NOS Teletekst",icon:"/img/icons/teletekst/teletekst_57.png"},Nieuwsuur:{title:"Nieuwsuur",icon:"/img/icons/nieuwsuur/nieuwsuur_57.png"},navFixed:!1},breakpoints:{mobile:300,"mobile-large":450,"tablet-small":600,tablet:760,"tablet-large":900,desktop:1100,xl:1400},search:{endpoint:"https://search.enrise.com/nos.nl/search"},tracker:{comscore:{defaults:{potag1:"nosportal",potag2:"nosportal",potag3:"nos",potag4:"nos",potag5:"omroepportal",potag6:"geen",potag7:"geen",potag8:"site",potag9:"site",ns_type:"hidden"}}},os2016:{event_name:"os2016",base_url:"/rio2016",live:{url:"/rio2016/live",wait:null},schedule:{updateWait:null,timerWait:null},liveblog:{base_url:"/rio2016/liveblog/",ticker_size:5,ticker_endpoint:"/rio2016/liveblog/ticker.json"},videos:{base_url:"/rio2016/video/"}},ps2016:{event_name:"ps2016",base_url:"/ps2016",live:{url:"/ps2016/live",wait:null},schedule:{updateWait:null,timerWait:null},liveblog:{base_url:"/ps2016/liveblog/"},videos:{base_url:"/ps2016/video/"}}}},get:function(e){var i=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=this.config;return e&&""!=e.trim()?(t.every(e.split("."),function(e){return n=n[e],t.isNull(n)||t.isUndefined(n)?(n=i,!1):!0}),n):i}}))}).call(e,i(2))},10:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(5),o=n(s),a=i(13),r=n(a);e["default"]=o["default"].extend({id:null,initialize:function(){r["default"].inRegister(this.getPageId())||r["default"].register(this._collect("bindings"),this.getPageId()).bind()},getPageId:function(){return this.id?"page."+this.id:null}})},11:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(4),o=n(s);e["default"]={initialize:function(t){var e=this;this._super("initialize",t),window.npo_cookies?this.afterCookiewallLoaded():this.listenTo(o["default"],"cookiewall:loaded",function(){e.afterCookiewallLoaded()})},afterCookiewallLoaded:function(){this._super("afterCookiewallLoaded")}}},45:function(t,e,i){(function(t,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),a=s(o),r=i(7),l=s(r),c=i(11),h=s(c);i(55),e["default"]=a["default"].extend({defaults:{author:"NOS",price:"Gratis",appStoreLanguage:"nl",inAppStore:"in de App Store",inGooglePlay:"in de Google Play Store",iconGloss:null,button:"Download",scale:"auto",speedIn:300,speedOut:300,daysHidden:30,daysReminder:90,force:null,appendToSelector:"body"},selectors:{bannerId:"#smartbanner",navigation:".navigation"},classes:{appBanner:"app-banner",navIsFixed:"navigation--fixed"},afterCookiewallLoaded:function(){var e=this;!npo_cookies.has_banner()&&npo_cookies.has_permission("necessary")&&(this.insertBannerCss(),t.delay(function(){e.showAppBanner()},100),this._checkNavSetting()&&(n(window).on("scroll",t.throttle(n.proxy(this._onScroll,this),50)),this._onScroll()))},getAppName:function(){var t=n("meta[name=app-name]").attr("content");return t?t:!1},getAppSettings:function(t){return l["default"].get("appSettings."+t)},insertBannerCss:function(){var t=this.selectors.bannerId;document.getElementById(t)||n("body").addClass(this.classes.appBanner)},_checkNavSetting:function(){return l["default"].get("appSettings.navFixed")},_onScroll:function(){var t=this.selectors.bannerId;if(t.length){var e=n(t).height(),i=n(this.selectors.navigation),s=this.classes.navIsFixed;i.toggleClass(s,window.pageYOffset>e)}},showAppBanner:function(){var t=this.getAppName();return this.getAppSettings(t)?void n.smartbanner(n.extend(this.defaults,this.getAppSettings(t))):!1}}).extend(h["default"])}).call(e,i(2),i(1))},55:function(t,e){/*!
	 * jQuery Smart Banner
	 * Copyright (c) 2012 Arnold Daniels <arnold@jasny.net>
	 * Based on 'jQuery Smart Web App Banner' by Kurt Zenisek @ kzeni.com
	 */
!function(t){var e=function(e){this.origHtmlMargin=parseFloat(t("html").css("margin-top")),this.options=t.extend({},t.smartbanner.defaults,e);var i=navigator.standalone,n=navigator.userAgent;if(this.options.force?this.type=this.options.force:null!=n.match(/iPad|iPhone|iPod/i)?null!=n.match(/Safari/i)&&(null!=n.match(/CriOS/i)||window.Number(navigator.userAgent.substr(navigator.userAgent.indexOf("OS ")+3,3).replace("_","."))<6)&&(this.type="ios"):null!=n.match(/Android/i)?this.type="android":null!=n.match(/Windows NT 6.2/i)&&null!==n.match(/Touch/i)&&(this.type="windows"),this.type&&!i&&!this.getCookie("sb-closed")&&!this.getCookie("sb-installed")){this.scale="auto"==this.options.scale?t(window).width()/window.screen.width:this.options.scale,this.scale<1&&(this.scale=1);var s=t("android"==this.type?'meta[name="google-play-app"]':"ios"==this.type?'meta[name="apple-itunes-app"]':'meta[name="msApplication-ID"]');0!=s.length&&("windows"==this.type?(this.pfn=t('meta[name="msApplication-PackageFamilyName"]').attr("content"),this.appId=s.attr("content")[1]):this.appId=/app-id=([^\s,]+)/.exec(s.attr("content"))[1],this.title=this.options.title?this.options.title:t("title").text().replace(/\s*[|\-Â·].*$/,""),this.author=this.options.author?this.options.author:t('meta[name="author"]').length?t('meta[name="author"]').attr("content"):window.location.hostname,this.create(),this.show(),this.listen())}};e.prototype={constructor:e,create:function(){var e,i=this.options.url?this.options.url:("windows"==this.type?"ms-windows-store:PDP?PFN="+this.pfn:"android"==this.type?"market://details?id=":"https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id")+this.appId,n=this.options.price?this.options.price+" - "+("android"==this.type?this.options.inGooglePlay:"ios"==this.type?this.options.inAppStore:this.options.inWindowsStore):"",s=null===this.options.iconGloss?"ios"==this.type:this.options.iconGloss;t("body").append('<div id="smartbanner" class="'+this.type+'"><div class="sb-container"><a href="#" class="sb-close">&times;</a><span class="sb-icon"></span><div class="sb-info"><strong>'+this.title+"</strong><span>"+this.author+"</span><span>"+n+'</span></div><a href="'+i+'" class="sb-button"><span>'+this.options.button+"</span></a></div></div>"),this.options.icon?e=this.options.icon:t('link[rel="apple-touch-icon-precomposed"]').length>0?(e=t('link[rel="apple-touch-icon-precomposed"]').attr("href"),null===this.options.iconGloss&&(s=!1)):t('link[rel="apple-touch-icon"]').length>0?e=t('link[rel="apple-touch-icon"]').attr("href"):t('meta[name="msApplication-TileImage"]').length>0?e=t('meta[name="msApplication-TileImage"]').attr("content"):t('meta[name="msapplication-TileImage"]').length>0&&(e=t('meta[name="msapplication-TileImage"]').attr("content")),e?(t("#smartbanner .sb-icon").css("background-image","url("+e+")"),s&&t("#smartbanner .sb-icon").addClass("gloss")):t("#smartbanner").addClass("no-icon"),this.bannerHeight=t("#smartbanner").outerHeight()+2,this.scale>1&&(t("#smartbanner").css("top",parseFloat(t("#smartbanner").css("top"))*this.scale).css("height",parseFloat(t("#smartbanner").css("height"))*this.scale),t("#smartbanner .sb-container").css("-webkit-transform","scale("+this.scale+")").css("-msie-transform","scale("+this.scale+")").css("-moz-transform","scale("+this.scale+")").css("width",t(window).width()/this.scale))},listen:function(){t("#smartbanner .sb-close").on("click",t.proxy(this.close,this)),t("#smartbanner .sb-button").on("click",t.proxy(this.install,this))},show:function(e){t("#smartbanner").stop().animate({top:0},this.options.speedIn).addClass("shown"),t("html").animate({marginTop:this.origHtmlMargin+this.bannerHeight*this.scale},this.options.speedIn,"swing",e)},hide:function(e){t("#smartbanner").stop().animate({top:-1*this.bannerHeight*this.scale},this.options.speedOut).removeClass("shown"),t("html").animate({marginTop:this.origHtmlMargin},this.options.speedOut,"swing",e)},close:function(t){t.preventDefault(),this.hide(),this.setCookie("sb-closed","true",this.options.daysHidden)},install:function(t){this.hide(),this.setCookie("sb-installed","true",this.options.daysReminder)},setCookie:function(t,e,i){var n=new Date;n.setDate(n.getDate()+i),e=escape(e)+(null==i?"":"; expires="+n.toUTCString()),document.cookie=t+"="+e+"; path=/;"},getCookie:function(t){var e,i,n,s=document.cookie.split(";");for(e=0;e<s.length;e++)if(i=s[e].substr(0,s[e].indexOf("=")),n=s[e].substr(s[e].indexOf("=")+1),i=i.replace(/^\s+|\s+$/g,""),i==t)return unescape(n);return null},switchType:function(){var e=this;this.hide(function(){e.type="android"==e.type?"ios":"android";var i=t("android"==e.type?'meta[name="google-play-app"]':'meta[name="apple-itunes-app"]').attr("content");e.appId=/app-id=([^\s,]+)/.exec(i)[1],t("#smartbanner").detach(),e.create(),e.show()})}},t.smartbanner=function(i){var n=t(window),s=n.data("typeahead"),o="object"==typeof i&&i;s||n.data("typeahead",s=new e(o)),"string"==typeof i&&s[i]()},t.smartbanner.defaults={title:null,author:null,price:"FREE",appStoreLanguage:"us",inAppStore:"On the App Store",inGooglePlay:"In Google Play",inWindowsStore:"In the Windows Store",icon:null,iconGloss:null,button:"VIEW",url:null,scale:"auto",speedIn:300,speedOut:400,daysHidden:15,daysReminder:90,force:null},t.smartbanner.Constructor=e}(window.jQuery)},99:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),o=n(s),a=i(4),r=n(a),l=i(6),c=n(l);e["default"]=o["default"].extend({selectors:{update:".js-update"},texts:{busyloading:"Bezig met laden..."},initialize:function(e){this._super("initialize",e),this.$el.on("click",t.proxy(this._onClick,this))},_onClick:function(t){t.preventDefault(),this.$(this.selectors.update).html(this.texts.busyloading),this._loadItems()},_loadItems:function(){var t=this;c["default"].getHtml({url:this.$(this.selectors.update).data("url")}).done(function(e){t.$el.replaceWith(e),r["default"].trigger("site:rebind")})}})}).call(e,i(1))},110:function(t,e,i){(function(t,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),a=s(o);e["default"]=a["default"].extend({$el:null,_selectorPrefix:"body.homepage #topstories",_twoStories:!1,_transitionDuration:500,_transitionDelay:200,_polyfills:{},_mobile:!0,_zoomed:!1,_wide:!1,_touchOriginX:null,_touchDestinationX:null,_touchStepFunction:null,_touchFactor:null,_touchPrevFactor:null,_touchSpeed:null,initialize:function(e){var i=this;this._super("initialize",e),this._twoStories=this.$(".topstories_wrapper").is(".topstories-twostories"),Modernizr.csstransitions||(this._transitionDuration=0,this._transitionDelay=0),this.$el.addClass("js-topstories-interactive"),this.determinePolyfills(),t.defer(function(){i.updateBreakpoints()}),this._polyfills.zoom&&this.updateZoom(!0),this._polyfills.padding&&this.updatePadding(!0)},deactivateLinks:function(t){t.find("a").each(function(){var t=n(this);t.data("original-href")||(t.data("original-href",t.attr("href")),t.removeAttr("href"))})},reactivateLinks:function(t){t.find("a").each(function(){var t=n(this);t.attr("href",t.data("original-href")),t.removeData("original-href")})},initBindings:function(){this._super("initBindings"),this._twoStories&&(this.$el.on("click",".topstory-inactive",n.proxy(this._onTopstoryInactiveClick,this)),this.$el.on("touchstart",n.proxy(this._onTouchStart,this))),this.$el.on("mouseenter",".topstory_mainarticle a",n.proxy(this._onMainItemEnter,this)),this.$el.on("mouseleave",".topstory_mainarticle a",n.proxy(this._onMainItemLeave,this)),this.$el.on("mouseenter",".topstory_articles",n.proxy(this._onItemsEnter,this)),this.$el.on("mouseleave",".topstory_articles",n.proxy(this._onItemsLeave,this)),n(window).on("resize.topstories-resize",t.throttle(n.proxy(this.onThrottledResize,this),200)),n(window).on("resize.topstories-resize-done",t.debounce(n.proxy(this.onThrottledResizeDone,this),200))},_onMainItemEnter:function(t){var e=n(t.currentTarget);e.closest(".topstory").addClass("mainlink-hover")},_onMainItemLeave:function(t){var e=n(t.currentTarget);e.closest(".topstory").addClass("mainlink-hover")},_onItemsEnter:function(t){var e=n(t.currentTarget);e.closest(".topstory").addClass("subarticle-hover")},_onItemsLeave:function(t){var e=n(t.currentTarget);e.closest(".topstory").removeClass("subarticle-hover")},_onTopstoryClick:function(t){var e=n(t.currentTarget);if(!(n(t.target).closest("a, button").length>0)&&(this.isMobile()||!e.is(".topstory-inactive"))){var i=n("a.topstory_mainlink",e).attr("href");t.metaKey?window.open(i):document.location=i}},_onTopstoryInactiveClick:function(){return this._mobile?void 0:(this.animate(function(){this.switchActive()}),!1)},updateBreakpoints:function(){this._mobile="absolute"!=this.$(".topstory_content").css("position"),this._wide=n(window).width()>n(".home-section").width()+40,this._zoomed=!Modernizr.backgroundsize||"0px"==this.$(".topstories_wrapper").css("padding-top"),this._twoStories&&(this._mobile?this.reactivateLinks(this.$(".topstory")):this.deactivateLinks(this.$(".topstory-inactive")))},onThrottledResize:function(){this.updateBreakpoints(),this._polyfills.zoom&&this.updateZoom(!1),this._polyfills.padding&&this.updatePadding(!1)},onThrottledResizeDone:function(){n("style#topstories_zoom").remove(),this._polyfills.zoom&&this.updateZoom(!0),this._polyfills.padding&&this.updatePadding(!0)},animate:function(t){this._prepareSwitchAnimation(!0),t.call(this)},switchActive:function(){var t=this.$(".topstory-active"),e=this.$(".topstory-inactive");this.$(".topstory").width(""),t.removeClass("topstory-active").addClass("topstory-inactive"),e.removeClass("topstory-inactive").addClass("topstory-active"),this.reactivateLinks(this.$(".topstory")),this.deactivateLinks(this.$(".topstory-inactive"))},_prepareSwitchAnimation:function(t){this.$el.addClass("js-animate"),this._switchAnimationCleanup&&window.clearTimeout(this._switchAnimationCleanup),t&&this._cleanUpSwitchAnimationSoon()},_cleanUpSwitchAnimation:function(){this._switchAnimationCleanup=null,this.$el.removeClass("js-animate")},_cleanUpSwitchAnimationSoon:function(){this._switchAnimationCleanup=this.delay(n.proxy(this._cleanUpSwitchAnimation,this),this._transitionDuration+this._transitionDelay)},determinePolyfills:function(){Modernizr.csscalc&&Modernizr.backgroundsize||(this._polyfills.zoom=!0),Modernizr.csscalc||(this._polyfills.padding=!0)},updateZoom:function(t){if(n(".topstory_backgroundimage").css({width:"",left:""}),this._zoomed){var e=this.$(".topstory-active").width(),i=this.$(".topstory-inactive").width(),s=e,o=(i-e)/2;this._writePolyfillStyle(t,".topstory-inactive .topstory_backgroundimage","width",s),this._writePolyfillStyle(t,".topstory-inactive .topstory_backgroundimage","left",o)}},updatePadding:function(t){if(n(".topstory_content").css({paddingLeft:"",paddingRight:""}),this._wide){var e=n(window).width(),i=n(".home-section").width(),s=(e-i)/2;this._twoStories?(this._writePolyfillStyle(t,".topstory-left .topstory_content","padding-left",s),this._writePolyfillStyle(t,".topstory-right .topstory_content","padding-right",s)):(this._writePolyfillStyle(t,".topstory_content","padding-left",s),this._writePolyfillStyle(t,".topstory_content","padding-right",s))}},_writePolyfillStyle:function(t,e,i,n){if(t){var s=this._findOrCreateInlineStylesheet(),o=this._selectorPrefix+" "+e,a=o+" { "+i+": "+n+"px !important; }\n";s[0].styleSheet?s[0].styleSheet.cssText+=a:s.text(s.text()+a)}else this.$(e).css(i,n)},_findOrCreateInlineStylesheet:function(){var t=n("style#topstories_zoom");return 0==t.length&&(t=n("<style/>").attr({id:"topstories_zoom",type:"text/css",media:"screen"}).appendTo("head")),t},_onTouchStart:function(e){if(1==e.originalEvent.targetTouches.length&&!this._mobile){var i=e.originalEvent.targetTouches[0];this._touchOriginX=i.pageX,this._touchOriginY=i.pageY-n(window).scrollTop(),this._touchX=this._touchOriginX,this._touchY=this._touchOriginY,this._touchFactor=0,this._touchPrevFactor=0,this._touchSpeed=0;var s=this.$(".topstory-active"),o=this.$(".topstory-inactive");this._activeWidth=s.width(),this._inactiveWidth=this.$el.width()-this._activeWidth,this._inactiveBackgroundLeft=parseFloat(o.find(".topstory_backgroundimage").css("left")),this._touchStepFunction=this.makeTransitionStepFunction(s,o),s.is(".topstory-left")?this._touchDestinationX=this._touchOriginX-this._activeWidth+this._inactiveWidth:this._touchDestinationX=this._touchOriginX+this._activeWidth-this._inactiveWidth,n(e.target).on("touchmove.topstories",t.throttle(n.proxy(this._onTouchMove,this),20)).on("touchend.topstories",n.proxy(this._onTouchEnd,this))}},_onTouchMove:function(t){if(null!==this._touchOriginX){var e=t.originalEvent.targetTouches[0];if(this._touchX=e.pageX,this._touchY=e.pageY-n(window).scrollTop(),Math.abs(e.pageX-this._touchOriginX)>10){t.preventDefault(),this.deactivateLinks(this.$(".topstory"));var i=(this._touchX-this._touchOriginX)/(this._touchDestinationX-this._touchOriginX);this._touchFactor=Math.max(0,Math.min(1,i)),this._touchStepFunction(this._touchFactor),this._touchSpeed=this._touchFactor-this._touchPrevFactor,this._touchPrevFactor=this._touchFactor}}},_onTouchEnd:function(e){var i=this;null!==this._touchOriginX&&(Math.abs(this._touchX-this._touchOriginX)<10&&Math.abs(this._touchY-this._touchOriginY)>10||(Math.abs(this._touchX-this._touchOriginX)<10?n(e.target).closest(".topstory-inactive").length>0?(this.animate(function(){this.switchActive()}),this.deactivateLinks(this.$(".topstory")),t.defer(function(){this._stopTouchEvents()})):this._stopTouchEvents():!function(){var t=i._touchFactor>=.5||i._touchSpeed>.05?1:0;n({factor:i._touchFactor}).animate({factor:t},{duration:i._transitionDuration,step:i._touchStepFunction,easing:i._touchSpeed>.05?"easeOutQuad":"swing",complete:function(){1==t&&i.switchActive(),i._stopTouchEvents()}})}(),n(e.target).off(".topstories")))},_stopTouchEvents:function(){this.$(".topstory, .topstory_content, .topstory_content-inactive, .topstory_backgroundimage").css({transform:"",opacity:""}),this._touchOriginX=null,this.reactivateLinks(this.$(".topstory")),this.deactivateLinks(this.$(".topstory-inactive"))},makeTransitionStepFunction:function(t,e){var i=this,n=t.is(".topstory-left")?"left":"right";return function(s){"left"==n?(i.transitionStep(t,s),i.transitionStep(e,s)):(i.transitionStep(t,1-s),i.transitionStep(e,1-s)),i.contentTransitionStep(t,1-s),i.contentTransitionStep(e,s)}},transitionStep:function(t,e){var i=(this._inactiveWidth-this._activeWidth)*e;t.css("transform","translateX("+i+"px)")},contentTransitionStep:function(t,e){var i=2e3*(1-e),n=1200*e,s=(this._activeWidth-this._inactiveWidth)*(1-e)/2;t.find(".topstory_content").css({opacity:e}),t.find(".topstory_content-inactive").css({opacity:1-e}),t.filter(".topstory-left").find(".topstory_content").css("transform","translateX(-"+i+"px)").end().find(".topstory_content-inactive").css("transform","translateX(-"+n+"px)").end().find(".topstory_backgroundimage").css("transform","translateX("+s+"px)"),t.filter(".topstory-right").find(".topstory_content").css("transform","translateX("+i+"px)").end().find(".topstory_content-inactive").css("transform","translateX("+n+"px)").end().find(".topstory_backgroundimage").css("transform","translateX(-"+s+"px)")},dispose:function(){this._super("dispose"),n(window).off("resize.topstories-resize"),n(window).off("resize.topstories-resize-done")}})}).call(e,i(2),i(1))}});